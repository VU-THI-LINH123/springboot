{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? e(require(\"@firebase/app\")) : \"function\" == typeof define && define.amd ? define([\"@firebase/app\"], e) : e((t = \"undefined\" != typeof globalThis ? globalThis : t || self).firebase);\n}(this, function (Eg) {\n  \"use strict\";\n\n  try {\n    (function () {\n      function t(t) {\n        return t && \"object\" == typeof t && \"default\" in t ? t : {\n          default: t\n        };\n      }\n\n      var l,\n          e = t(Eg);\n\n      function s() {\n        for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;\n\n        for (var r = Array(t), i = 0, e = 0; e < n; e++) for (var o = arguments[e], s = 0, u = o.length; s < u; s++, i++) r[i] = o[s];\n\n        return r;\n      }\n\n      (_e = l = l || {})[_e.DEBUG = 0] = \"DEBUG\", _e[_e.VERBOSE = 1] = \"VERBOSE\", _e[_e.INFO = 2] = \"INFO\", _e[_e.WARN = 3] = \"WARN\", _e[_e.ERROR = 4] = \"ERROR\", _e[_e.SILENT = 5] = \"SILENT\";\n\n      function n(t, e) {\n        for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];\n\n        if (!(e < t.logLevel)) {\n          var i = new Date().toISOString(),\n              o = u[e];\n          if (!o) throw new Error(\"Attempted to log a message with an invalid logType (value: \" + e + \")\");\n          console[o].apply(console, s([\"[\" + i + \"]  \" + t.name + \":\"], n));\n        }\n      }\n\n      var r = {\n        debug: l.DEBUG,\n        verbose: l.VERBOSE,\n        info: l.INFO,\n        warn: l.WARN,\n        error: l.ERROR,\n        silent: l.SILENT\n      },\n          i = l.INFO,\n          u = ((Ee = {})[l.DEBUG] = \"log\", Ee[l.VERBOSE] = \"log\", Ee[l.INFO] = \"info\", Ee[l.WARN] = \"warn\", Ee[l.ERROR] = \"error\", Ee),\n          o = (Object.defineProperty(a.prototype, \"logLevel\", {\n        get: function get() {\n          return this._logLevel;\n        },\n        set: function set(t) {\n          if (!(t in l)) throw new TypeError('Invalid value \"' + t + '\" assigned to `logLevel`');\n          this._logLevel = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), a.prototype.setLogLevel = function (t) {\n        this._logLevel = \"string\" == typeof t ? r[t] : t;\n      }, Object.defineProperty(a.prototype, \"logHandler\", {\n        get: function get() {\n          return this._logHandler;\n        },\n        set: function set(t) {\n          if (\"function\" != typeof t) throw new TypeError(\"Value assigned to `logHandler` must be a function\");\n          this._logHandler = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(a.prototype, \"userLogHandler\", {\n        get: function get() {\n          return this._userLogHandler;\n        },\n        set: function set(t) {\n          this._userLogHandler = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), a.prototype.debug = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        this._userLogHandler && this._userLogHandler.apply(this, s([this, l.DEBUG], t)), this._logHandler.apply(this, s([this, l.DEBUG], t));\n      }, a.prototype.log = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        this._userLogHandler && this._userLogHandler.apply(this, s([this, l.VERBOSE], t)), this._logHandler.apply(this, s([this, l.VERBOSE], t));\n      }, a.prototype.info = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        this._userLogHandler && this._userLogHandler.apply(this, s([this, l.INFO], t)), this._logHandler.apply(this, s([this, l.INFO], t));\n      }, a.prototype.warn = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        this._userLogHandler && this._userLogHandler.apply(this, s([this, l.WARN], t)), this._logHandler.apply(this, s([this, l.WARN], t));\n      }, a.prototype.error = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        this._userLogHandler && this._userLogHandler.apply(this, s([this, l.ERROR], t)), this._logHandler.apply(this, s([this, l.ERROR], t));\n      }, a);\n\n      function a(t) {\n        this.name = t, this._logLevel = i, this._logHandler = n, this._userLogHandler = null;\n      }\n\n      var _c2 = function c(t, e) {\n        return (_c2 = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (t, e) {\n          t.__proto__ = e;\n        } || function (t, e) {\n          for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);\n        })(t, e);\n      };\n\n      function h(t, e) {\n        function n() {\n          this.constructor = t;\n        }\n\n        _c2(t, e), t.prototype = null === e ? Object.create(e) : (n.prototype = e.prototype, new n());\n      }\n\n      function y(t, s, u, a) {\n        return new (u = u || Promise)(function (n, e) {\n          function r(t) {\n            try {\n              o(a.next(t));\n            } catch (t) {\n              e(t);\n            }\n          }\n\n          function i(t) {\n            try {\n              o(a.throw(t));\n            } catch (t) {\n              e(t);\n            }\n          }\n\n          function o(t) {\n            var e;\n            t.done ? n(t.value) : ((e = t.value) instanceof u ? e : new u(function (t) {\n              t(e);\n            })).then(r, i);\n          }\n\n          o((a = a.apply(t, s || [])).next());\n        });\n      }\n\n      function v(n, r) {\n        var i,\n            o,\n            s,\n            u = {\n          label: 0,\n          sent: function sent() {\n            if (1 & s[0]) throw s[1];\n            return s[1];\n          },\n          trys: [],\n          ops: []\n        },\n            t = {\n          next: e(0),\n          throw: e(1),\n          return: e(2)\n        };\n        return \"function\" == typeof Symbol && (t[Symbol.iterator] = function () {\n          return this;\n        }), t;\n\n        function e(e) {\n          return function (t) {\n            return function (e) {\n              if (i) throw new TypeError(\"Generator is already executing.\");\n\n              for (; u;) try {\n                if (i = 1, o && (s = 2 & e[0] ? o.return : e[0] ? o.throw || ((s = o.return) && s.call(o), 0) : o.next) && !(s = s.call(o, e[1])).done) return s;\n\n                switch (o = 0, s && (e = [2 & e[0], s.value]), e[0]) {\n                  case 0:\n                  case 1:\n                    s = e;\n                    break;\n\n                  case 4:\n                    return u.label++, {\n                      value: e[1],\n                      done: !1\n                    };\n\n                  case 5:\n                    u.label++, o = e[1], e = [0];\n                    continue;\n\n                  case 7:\n                    e = u.ops.pop(), u.trys.pop();\n                    continue;\n\n                  default:\n                    if (!(s = 0 < (s = u.trys).length && s[s.length - 1]) && (6 === e[0] || 2 === e[0])) {\n                      u = 0;\n                      continue;\n                    }\n\n                    if (3 === e[0] && (!s || e[1] > s[0] && e[1] < s[3])) {\n                      u.label = e[1];\n                      break;\n                    }\n\n                    if (6 === e[0] && u.label < s[1]) {\n                      u.label = s[1], s = e;\n                      break;\n                    }\n\n                    if (s && u.label < s[2]) {\n                      u.label = s[2], u.ops.push(e);\n                      break;\n                    }\n\n                    s[2] && u.ops.pop(), u.trys.pop();\n                    continue;\n                }\n\n                e = r.call(n, u);\n              } catch (t) {\n                e = [6, t], o = 0;\n              } finally {\n                i = s = 0;\n              }\n\n              if (5 & e[0]) throw e[1];\n              return {\n                value: e[0] ? e[1] : void 0,\n                done: !0\n              };\n            }([e, t]);\n          };\n        }\n      }\n\n      function f() {\n        for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;\n\n        for (var r = Array(t), i = 0, e = 0; e < n; e++) for (var o = arguments[e], s = 0, u = o.length; s < u; s++, i++) r[i] = o[s];\n\n        return r;\n      }\n\n      function p() {\n        return \"undefined\" != typeof navigator && \"string\" == typeof navigator.userAgent ? navigator.userAgent : \"\";\n      }\n\n      var d,\n          g = \"FirebaseError\",\n          m = (h(w, d = Error), w);\n\n      function w(t, e, n) {\n        e = d.call(this, e) || this;\n        return e.code = t, e.customData = n, e.name = g, Object.setPrototypeOf(e, w.prototype), Error.captureStackTrace && Error.captureStackTrace(e, b.prototype.create), e;\n      }\n\n      var b = (I.prototype.create = function (t) {\n        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];\n\n        var r,\n            i = e[0] || {},\n            o = this.service + \"/\" + t,\n            t = this.errors[t],\n            t = t ? (r = i, t.replace(_, function (t, e) {\n          var n = r[e];\n          return null != n ? String(n) : \"<\" + e + \"?>\";\n        })) : \"Error\",\n            t = this.serviceName + \": \" + t + \" (\" + o + \").\";\n        return new m(o, t, i);\n      }, I);\n\n      function I(t, e, n) {\n        this.service = t, this.serviceName = e, this.errors = n;\n      }\n\n      var _ = /\\{\\$([^}]+)}/g,\n          _E = function E(t, e) {\n        return (_E = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (t, e) {\n          t.__proto__ = e;\n        } || function (t, e) {\n          for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n        })(t, e);\n      };\n\n      function T(t) {\n        var e = \"function\" == typeof Symbol && Symbol.iterator,\n            n = e && t[e],\n            r = 0;\n        if (n) return n.call(t);\n        if (t && \"number\" == typeof t.length) return {\n          next: function next() {\n            return t && r >= t.length && (t = void 0), {\n              value: t && t[r++],\n              done: !t\n            };\n          }\n        };\n        throw new TypeError(e ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n      }\n\n      var N,\n          S = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n          A = {},\n          x = S || self;\n\n      function D() {}\n\n      function O(t) {\n        var e = typeof t;\n        return \"array\" == (e = \"object\" != e ? e : t ? Array.isArray(t) ? \"array\" : e : \"null\") || \"object\" == e && \"number\" == typeof t.length;\n      }\n\n      function k(t) {\n        var e = typeof t;\n        return \"object\" == e && null != t || \"function\" == e;\n      }\n\n      var P = \"closure_uid_\" + (1e9 * Math.random() >>> 0),\n          L = 0;\n\n      function C(t, e, n) {\n        return t.call.apply(t.bind, arguments);\n      }\n\n      function R(e, n, t) {\n        if (!e) throw Error();\n\n        if (2 < arguments.length) {\n          var r = Array.prototype.slice.call(arguments, 2);\n          return function () {\n            var t = Array.prototype.slice.call(arguments);\n            return Array.prototype.unshift.apply(t, r), e.apply(n, t);\n          };\n        }\n\n        return function () {\n          return e.apply(n, arguments);\n        };\n      }\n\n      function V(t, e, n) {\n        return (V = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? C : R).apply(null, arguments);\n      }\n\n      function M(e) {\n        var n = Array.prototype.slice.call(arguments, 1);\n        return function () {\n          var t = n.slice();\n          return t.push.apply(t, arguments), e.apply(this, t);\n        };\n      }\n\n      function U() {\n        return Date.now();\n      }\n\n      function j(t, o) {\n        function e() {}\n\n        e.prototype = o.prototype, t.X = o.prototype, t.prototype = new e(), (t.prototype.constructor = t).Kb = function (t, e, n) {\n          for (var r = Array(arguments.length - 2), i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];\n\n          return o.prototype[e].apply(t, r);\n        };\n      }\n\n      function q() {\n        this.j = this.j, this.i = this.i;\n      }\n\n      q.prototype.j = !1, q.prototype.ja = function () {\n        var t;\n        !this.j && (this.j = !0, this.G(), 0) && (t = this, Object.prototype.hasOwnProperty.call(t, P) && t[P] || (t[P] = ++L));\n      }, q.prototype.G = function () {\n        if (this.i) for (; this.i.length;) this.i.shift()();\n      };\n      var F = Array.prototype.indexOf ? function (t, e) {\n        return Array.prototype.indexOf.call(t, e, void 0);\n      } : function (t, e) {\n        if (\"string\" == typeof t) return \"string\" != typeof e || 1 != e.length ? -1 : t.indexOf(e, 0);\n\n        for (var n = 0; n < t.length; n++) if (n in t && t[n] === e) return n;\n\n        return -1;\n      },\n          H = Array.prototype.forEach ? function (t, e, n) {\n        Array.prototype.forEach.call(t, e, n);\n      } : function (t, e, n) {\n        for (var r = t.length, i = \"string\" == typeof t ? t.split(\"\") : t, o = 0; o < r; o++) o in i && e.call(n, i[o], o, t);\n      };\n\n      function B() {\n        return Array.prototype.concat.apply([], arguments);\n      }\n\n      function G(t) {\n        var e = t.length;\n\n        if (0 < e) {\n          for (var n = Array(e), r = 0; r < e; r++) n[r] = t[r];\n\n          return n;\n        }\n\n        return [];\n      }\n\n      function z(t) {\n        return /^[\\s\\xa0]*$/.test(t);\n      }\n\n      var K,\n          J = String.prototype.trim ? function (t) {\n        return t.trim();\n      } : function (t) {\n        return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1];\n      };\n\n      function W(t, e) {\n        return -1 != t.indexOf(e);\n      }\n\n      function X(t, e) {\n        return t < e ? -1 : e < t ? 1 : 0;\n      }\n\n      t: {\n        var Y = x.navigator;\n\n        if (Y) {\n          Y = Y.userAgent;\n\n          if (Y) {\n            K = Y;\n            break t;\n          }\n        }\n\n        K = \"\";\n      }\n\n      function Q(t, e, n) {\n        for (var r in t) e.call(n, t[r], r, t);\n      }\n\n      function $(t) {\n        var e,\n            n = {};\n\n        for (e in t) n[e] = t[e];\n\n        return n;\n      }\n\n      var Z = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\n\n      function tt(t) {\n        for (var e, n, r = 1; r < arguments.length; r++) {\n          for (e in n = arguments[r]) t[e] = n[e];\n\n          for (var i = 0; i < Z.length; i++) e = Z[i], Object.prototype.hasOwnProperty.call(n, e) && (t[e] = n[e]);\n        }\n      }\n\n      function et(t) {\n        return et[\" \"](t), t;\n      }\n\n      et[\" \"] = D;\n      var nt,\n          rt = W(K, \"Opera\"),\n          it = W(K, \"Trident\") || W(K, \"MSIE\"),\n          ot = W(K, \"Edge\"),\n          st = ot || it,\n          ut = W(K, \"Gecko\") && !(W(K.toLowerCase(), \"webkit\") && !W(K, \"Edge\")) && !(W(K, \"Trident\") || W(K, \"MSIE\")) && !W(K, \"Edge\"),\n          at = W(K.toLowerCase(), \"webkit\") && !W(K, \"Edge\");\n\n      function ct() {\n        var t = x.document;\n        return t ? t.documentMode : void 0;\n      }\n\n      t: {\n        var ht = \"\",\n            ft = (ft = K, ut ? /rv:([^\\);]+)(\\)|;)/.exec(ft) : ot ? /Edge\\/([\\d\\.]+)/.exec(ft) : it ? /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(ft) : at ? /WebKit\\/(\\S+)/.exec(ft) : rt ? /(?:Version)[ \\/]?(\\S+)/.exec(ft) : void 0);\n\n        if (ft && (ht = ft ? ft[1] : \"\"), it) {\n          ft = ct();\n\n          if (null != ft && ft > parseFloat(ht)) {\n            nt = String(ft);\n            break t;\n          }\n        }\n\n        nt = ht;\n      }\n\n      var lt = {};\n\n      function pt(u) {\n        return t = u, e = function e() {\n          for (var t = 0, e = J(String(nt)).split(\".\"), n = J(String(u)).split(\".\"), r = Math.max(e.length, n.length), i = 0; 0 == t && i < r; i++) {\n            var o = e[i] || \"\",\n                s = n[i] || \"\";\n\n            do {\n              if (o = /(\\d*)(\\D*)(.*)/.exec(o) || [\"\", \"\", \"\", \"\"], s = /(\\d*)(\\D*)(.*)/.exec(s) || [\"\", \"\", \"\", \"\"], 0 == o[0].length && 0 == s[0].length) break;\n              t = X(0 == o[1].length ? 0 : parseInt(o[1], 10), 0 == s[1].length ? 0 : parseInt(s[1], 10)) || X(0 == o[2].length, 0 == s[2].length) || X(o[2], s[2]), o = o[3], s = s[3];\n            } while (0 == t);\n          }\n\n          return 0 <= t;\n        }, n = lt, Object.prototype.hasOwnProperty.call(n, t) ? n[t] : n[t] = e(t);\n        var t, e, n;\n      }\n\n      var dt = x.document && it ? ct() || parseInt(nt, 10) || void 0 : void 0,\n          yt = !it || 9 <= Number(dt),\n          vt = it && !pt(\"9\"),\n          gt = function () {\n        if (!x.addEventListener || !Object.defineProperty) return !1;\n        var t = !1,\n            e = Object.defineProperty({}, \"passive\", {\n          get: function get() {\n            t = !0;\n          }\n        });\n\n        try {\n          x.addEventListener(\"test\", D, e), x.removeEventListener(\"test\", D, e);\n        } catch (t) {}\n\n        return t;\n      }();\n\n      function mt(t, e) {\n        this.type = t, this.a = this.target = e, this.defaultPrevented = !1;\n      }\n\n      function wt(t, e) {\n        if (mt.call(this, t ? t.type : \"\"), this.relatedTarget = this.a = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = \"\", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1, this.pointerId = 0, this.pointerType = \"\", this.c = null, t) {\n          var n = this.type = t.type,\n              r = t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : null;\n\n          if (this.target = t.target || t.srcElement, this.a = e, e = t.relatedTarget) {\n            if (ut) {\n              t: {\n                try {\n                  et(e.nodeName);\n                  var i = !0;\n                  break t;\n                } catch (t) {}\n\n                i = !1;\n              }\n\n              i || (e = null);\n            }\n          } else \"mouseover\" == n ? e = t.fromElement : \"mouseout\" == n && (e = t.toElement);\n\n          this.relatedTarget = e, r ? (this.clientX = void 0 !== r.clientX ? r.clientX : r.pageX, this.clientY = void 0 !== r.clientY ? r.clientY : r.pageY, this.screenX = r.screenX || 0, this.screenY = r.screenY || 0) : (this.clientX = void 0 !== t.clientX ? t.clientX : t.pageX, this.clientY = void 0 !== t.clientY ? t.clientY : t.pageY, this.screenX = t.screenX || 0, this.screenY = t.screenY || 0), this.button = t.button, this.key = t.key || \"\", this.ctrlKey = t.ctrlKey, this.altKey = t.altKey, this.shiftKey = t.shiftKey, this.metaKey = t.metaKey, this.pointerId = t.pointerId || 0, this.pointerType = \"string\" == typeof t.pointerType ? t.pointerType : bt[t.pointerType] || \"\", (this.c = t).defaultPrevented && this.b();\n        }\n      }\n\n      mt.prototype.b = function () {\n        this.defaultPrevented = !0;\n      }, j(wt, mt);\n      var bt = {\n        2: \"touch\",\n        3: \"pen\",\n        4: \"mouse\"\n      };\n\n      wt.prototype.b = function () {\n        wt.X.b.call(this);\n        var t = this.c;\n        if (t.preventDefault) t.preventDefault();else if (t.returnValue = !1, vt) try {\n          (t.ctrlKey || 112 <= t.keyCode && t.keyCode <= 123) && (t.keyCode = -1);\n        } catch (t) {}\n      };\n\n      var It = \"closure_listenable_\" + (1e6 * Math.random() | 0),\n          _t = 0;\n\n      function Et(t, e, n, r, i) {\n        this.listener = t, this.proxy = null, this.src = e, this.type = n, this.capture = !!r, this.ca = i, this.key = ++_t, this.Y = this.Z = !1;\n      }\n\n      function Tt(t) {\n        t.Y = !0, t.listener = null, t.proxy = null, t.src = null, t.ca = null;\n      }\n\n      function Nt(t) {\n        this.src = t, this.a = {}, this.b = 0;\n      }\n\n      function St(t, e) {\n        var n,\n            r,\n            i,\n            o = e.type;\n        o in t.a && (n = t.a[o], (i = 0 <= (r = F(n, e))) && Array.prototype.splice.call(n, r, 1), i && (Tt(e), 0 == t.a[o].length && (delete t.a[o], t.b--)));\n      }\n\n      function At(t, e, n, r) {\n        for (var i = 0; i < t.length; ++i) {\n          var o = t[i];\n          if (!o.Y && o.listener == e && o.capture == !!n && o.ca == r) return i;\n        }\n\n        return -1;\n      }\n\n      Nt.prototype.add = function (t, e, n, r, i) {\n        var o = t.toString();\n        (t = this.a[o]) || (t = this.a[o] = [], this.b++);\n        var s = At(t, e, r, i);\n        return -1 < s ? (e = t[s], n || (e.Z = !1)) : ((e = new Et(e, this.src, o, !!r, i)).Z = n, t.push(e)), e;\n      };\n\n      var xt = \"closure_lm_\" + (1e6 * Math.random() | 0),\n          Dt = {};\n\n      function Ot(t, e, n, r, i) {\n        if (r && r.once) return function t(e, n, r, i, o) {\n          if (Array.isArray(n)) {\n            for (var s = 0; s < n.length; s++) t(e, n[s], r, i, o);\n\n            return null;\n          }\n\n          r = Ut(r);\n          return e && e[It] ? e.wa(n, r, k(i) ? !!i.capture : !!i, o) : kt(e, n, r, !0, i, o);\n        }(t, e, n, r, i);\n\n        if (Array.isArray(e)) {\n          for (var o = 0; o < e.length; o++) Ot(t, e[o], n, r, i);\n\n          return null;\n        }\n\n        return n = Ut(n), t && t[It] ? t.va(e, n, k(r) ? !!r.capture : !!r, i) : kt(t, e, n, !1, r, i);\n      }\n\n      function kt(t, e, n, r, i, o) {\n        if (!e) throw Error(\"Invalid event type\");\n        var s = k(i) ? !!i.capture : !!i;\n        if (s && !yt) return null;\n        var u,\n            a,\n            c = Vt(t);\n        if (c || (t[xt] = c = new Nt(t)), (n = c.add(e, n, r, s, o)).proxy) return n;\n        if (u = Rt, r = a = yt ? function (t) {\n          return u.call(a.src, a.listener, t);\n        } : function (t) {\n          if (!(t = u.call(a.src, a.listener, t))) return t;\n        }, (n.proxy = r).src = t, r.listener = n, t.addEventListener) gt || (i = s), void 0 === i && (i = !1), t.addEventListener(e.toString(), r, i);else if (t.attachEvent) t.attachEvent(Lt(e.toString()), r);else {\n          if (!t.addListener || !t.removeListener) throw Error(\"addEventListener and attachEvent are unavailable.\");\n          t.addListener(r);\n        }\n        return n;\n      }\n\n      function Pt(t) {\n        var e, n, r;\n        \"number\" != typeof t && t && !t.Y && ((e = t.src) && e[It] ? St(e.c, t) : (n = t.type, r = t.proxy, e.removeEventListener ? e.removeEventListener(n, r, t.capture) : e.detachEvent ? e.detachEvent(Lt(n), r) : e.addListener && e.removeListener && e.removeListener(r), (n = Vt(e)) ? (St(n, t), 0 == n.b && (n.src = null, e[xt] = null)) : Tt(t)));\n      }\n\n      function Lt(t) {\n        return t in Dt ? Dt[t] : Dt[t] = \"on\" + t;\n      }\n\n      function Ct(t, e) {\n        var n = t.listener,\n            r = t.ca || t.src;\n        return t.Z && Pt(t), n.call(r, e);\n      }\n\n      function Rt(t, e) {\n        if (t.Y) return !0;\n        if (yt) return Ct(t, new wt(e, this));\n        if (!e) t: {\n          e = [\"window\", \"event\"];\n\n          for (var n = x, r = 0; r < e.length; r++) if (null == (n = n[e[r]])) {\n            e = null;\n            break t;\n          }\n\n          e = n;\n        }\n        return Ct(t, e = new wt(e, this));\n      }\n\n      function Vt(t) {\n        return (t = t[xt]) instanceof Nt ? t : null;\n      }\n\n      var Mt = \"__closure_events_fn_\" + (1e9 * Math.random() >>> 0);\n\n      function Ut(e) {\n        return \"function\" == typeof e ? e : (e[Mt] || (e[Mt] = function (t) {\n          return e.handleEvent(t);\n        }), e[Mt]);\n      }\n\n      function jt() {\n        q.call(this), this.c = new Nt(this), (this.J = this).C = null;\n      }\n\n      function qt(t, e) {\n        var n,\n            r = t.C;\n        if (r) for (n = []; r; r = r.C) n.push(r);\n        if (t = t.J, r = e.type || e, \"string\" == typeof e ? e = new mt(e, t) : e instanceof mt ? e.target = e.target || t : (s = e, tt(e = new mt(r, t), s)), s = !0, n) for (var i = n.length - 1; 0 <= i; i--) var o = e.a = n[i], s = Ft(o, r, !0, e) && s;\n        if (s = Ft(o = e.a = t, r, !0, e) && s, s = Ft(o, r, !1, e) && s, n) for (i = 0; i < n.length; i++) s = Ft(o = e.a = n[i], r, !1, e) && s;\n      }\n\n      function Ft(t, e, n, r) {\n        if (!(e = t.c.a[String(e)])) return !0;\n        e = e.concat();\n\n        for (var i = !0, o = 0; o < e.length; ++o) {\n          var s,\n              u,\n              a = e[o];\n          a && !a.Y && a.capture == n && (s = a.listener, u = a.ca || a.src, a.Z && St(t.c, a), i = !1 !== s.call(u, r) && i);\n        }\n\n        return i && !r.defaultPrevented;\n      }\n\n      j(jt, q), jt.prototype[It] = !0, (N = jt.prototype).addEventListener = function (t, e, n, r) {\n        Ot(this, t, e, n, r);\n      }, N.removeEventListener = function (t, e, n, r) {\n        !function t(e, n, r, i, o) {\n          if (Array.isArray(n)) for (var s = 0; s < n.length; s++) t(e, n[s], r, i, o);else i = k(i) ? !!i.capture : !!i, r = Ut(r), e && e[It] ? (e = e.c, (n = String(n).toString()) in e.a && -1 < (r = At(s = e.a[n], r, i, o)) && (Tt(s[r]), Array.prototype.splice.call(s, r, 1), 0 == s.length && (delete e.a[n], e.b--))) : (e = e && Vt(e)) && (n = e.a[n.toString()], e = -1, n && (e = At(n, r, i, o)), (r = -1 < e ? n[e] : null) && Pt(r));\n        }(this, t, e, n, r);\n      }, N.G = function () {\n        if (jt.X.G.call(this), this.c) {\n          var t,\n              e = this.c;\n\n          for (t in e.a) {\n            for (var n = e.a[t], r = 0; r < n.length; r++) Tt(n[r]);\n\n            delete e.a[t], e.b--;\n          }\n        }\n\n        this.C = null;\n      }, N.va = function (t, e, n, r) {\n        return this.c.add(String(t), e, !1, n, r);\n      }, N.wa = function (t, e, n, r) {\n        return this.c.add(String(t), e, !0, n, r);\n      };\n      var Ht = x.JSON.stringify;\n\n      function Bt() {\n        this.b = this.a = null;\n      }\n\n      var Gt,\n          zt = (Kt.prototype.get = function () {\n        var t;\n        return 0 < this.b ? (this.b--, t = this.a, this.a = t.next, t.next = null) : t = this.c(), t;\n      }, new Kt(function () {\n        return new Jt();\n      }, function (t) {\n        t.reset();\n      }));\n\n      function Kt(t, e) {\n        this.c = t, this.f = e, this.b = 0, this.a = null;\n      }\n\n      function Jt() {\n        this.next = this.b = this.a = null;\n      }\n\n      function Wt(t, e) {\n        var n;\n        Gt || (n = x.Promise.resolve(void 0), Gt = function Gt() {\n          n.then(Qt);\n        }), Xt || (Gt(), Xt = !0), Yt.add(t, e);\n      }\n\n      Bt.prototype.add = function (t, e) {\n        var n = zt.get();\n        n.set(t, e), this.b ? this.b.next = n : this.a = n, this.b = n;\n      }, Jt.prototype.set = function (t, e) {\n        this.a = t, this.b = e, this.next = null;\n      };\n      var Xt = !(Jt.prototype.reset = function () {\n        this.next = this.b = this.a = null;\n      }),\n          Yt = new Bt();\n\n      function Qt() {\n        for (var t, e; n = e = void 0, n = null, (e = Yt).a && (n = e.a, e.a = e.a.next, e.a || (e.b = null), n.next = null), t = n;) {\n          try {\n            t.a.call(t.b);\n          } catch (t) {\n            !function (t) {\n              x.setTimeout(function () {\n                throw t;\n              }, 0);\n            }(t);\n          }\n\n          var n = zt;\n          n.f(t), n.b < 100 && (n.b++, t.next = n.a, n.a = t);\n        }\n\n        Xt = !1;\n      }\n\n      function $t(t, e) {\n        jt.call(this), this.b = t || 1, this.a = e || x, this.f = V(this.Za, this), this.g = U();\n      }\n\n      function Zt(t) {\n        t.aa = !1, t.M && (t.a.clearTimeout(t.M), t.M = null);\n      }\n\n      function te(t, e, n) {\n        if (\"function\" == typeof t) n && (t = V(t, n));else {\n          if (!t || \"function\" != typeof t.handleEvent) throw Error(\"Invalid listener argument\");\n          t = V(t.handleEvent, t);\n        }\n        return 2147483647 < Number(e) ? -1 : x.setTimeout(t, e || 0);\n      }\n\n      j($t, jt), (N = $t.prototype).aa = !1, N.M = null, N.Za = function () {\n        var t;\n        this.aa && (0 < (t = U() - this.g) && t < .8 * this.b ? this.M = this.a.setTimeout(this.f, this.b - t) : (this.M && (this.a.clearTimeout(this.M), this.M = null), qt(this, \"tick\"), this.aa && (Zt(this), this.start())));\n      }, N.start = function () {\n        this.aa = !0, this.M || (this.M = this.a.setTimeout(this.f, this.b), this.g = U());\n      }, N.G = function () {\n        $t.X.G.call(this), Zt(this), delete this.a;\n      };\n      var ee,\n          ne,\n          re,\n          ie = (_E(ne = se, re = ee = q), ne.prototype = null === re ? Object.create(re) : (oe.prototype = re.prototype, new oe()), se.prototype.f = function (t) {\n        this.b = arguments, this.a ? this.c = !0 : function t(e) {\n          e.a = te(function () {\n            e.a = null, e.c && (e.c = !1, t(e));\n          }, e.h);\n          var n = e.b;\n          e.b = null, e.g.apply(null, n);\n        }(this);\n      }, se.prototype.G = function () {\n        ee.prototype.G.call(this), this.a && (x.clearTimeout(this.a), this.a = null, this.c = !1, this.b = null);\n      }, se);\n\n      function oe() {\n        this.constructor = ne;\n      }\n\n      function se(t, e) {\n        var n = ee.call(this) || this;\n        return n.g = t, n.h = e, n.b = null, n.c = !1, n.a = null, n;\n      }\n\n      function ue(t) {\n        q.call(this), this.b = t, this.a = {};\n      }\n\n      j(ue, q);\n      var ae = [];\n\n      function ce(t, e, n, r) {\n        Array.isArray(n) || (n && (ae[0] = n.toString()), n = ae);\n\n        for (var i = 0; i < n.length; i++) {\n          var o = Ot(e, n[i], r || t.handleEvent, !1, t.b || t);\n          if (!o) break;\n          t.a[o.key] = o;\n        }\n      }\n\n      function he(t) {\n        Q(t.a, function (t, e) {\n          this.a.hasOwnProperty(e) && Pt(t);\n        }, t), t.a = {};\n      }\n\n      function fe() {\n        this.a = !0;\n      }\n\n      function le(t, e, n, r) {\n        t.info(function () {\n          return \"XMLHTTP TEXT (\" + e + \"): \" + function (t, e) {\n            if (!t.a) return e;\n            if (!e) return null;\n\n            try {\n              var n = JSON.parse(e);\n              if (n) for (t = 0; t < n.length; t++) if (Array.isArray(n[t])) {\n                var r = n[t];\n\n                if (!(r.length < 2)) {\n                  var i = r[1];\n\n                  if (Array.isArray(i) && !(i.length < 1)) {\n                    r = i[0];\n                    if (\"noop\" != r && \"stop\" != r && \"close\" != r) for (var o = 1; o < i.length; o++) i[o] = \"\";\n                  }\n                }\n              }\n              return Ht(n);\n            } catch (t) {\n              return e;\n            }\n          }(t, n) + (r ? \" \" + r : \"\");\n        });\n      }\n\n      ue.prototype.G = function () {\n        ue.X.G.call(this), he(this);\n      }, ue.prototype.handleEvent = function () {\n        throw Error(\"EventHandler.handleEvent not implemented\");\n      }, fe.prototype.info = function () {};\n      var pe = {},\n          de = null;\n\n      function ye() {\n        return de = de || new jt();\n      }\n\n      function ve(t) {\n        mt.call(this, pe.Fa, t);\n      }\n\n      function ge(t) {\n        var e = ye();\n        qt(e, new ve(e));\n      }\n\n      function me(t, e) {\n        mt.call(this, pe.STAT_EVENT, t), this.stat = e;\n      }\n\n      function we(t) {\n        var e = ye();\n        qt(e, new me(e, t));\n      }\n\n      function be(t) {\n        mt.call(this, pe.Ga, t);\n      }\n\n      function Ie(t, e) {\n        if (\"function\" != typeof t) throw Error(\"Fn must not be null and must be a function\");\n        return x.setTimeout(function () {\n          t();\n        }, e);\n      }\n\n      pe.Fa = \"serverreachability\", j(ve, mt), pe.STAT_EVENT = \"statevent\", j(me, mt), pe.Ga = \"timingevent\", j(be, mt);\n      var _e = {\n        NO_ERROR: 0,\n        $a: 1,\n        nb: 2,\n        mb: 3,\n        hb: 4,\n        lb: 5,\n        ob: 6,\n        Da: 7,\n        TIMEOUT: 8,\n        rb: 9\n      },\n          Ee = {\n        fb: \"complete\",\n        Bb: \"success\",\n        Ea: \"error\",\n        Da: \"abort\",\n        tb: \"ready\",\n        ub: \"readystatechange\",\n        TIMEOUT: \"timeout\",\n        pb: \"incrementaldata\",\n        sb: \"progress\",\n        ib: \"downloadprogress\",\n        Jb: \"uploadprogress\"\n      };\n\n      function Te() {}\n\n      function Ne(t) {\n        var e;\n        return (e = t.a) || (e = t.a = {}), e;\n      }\n\n      function Se() {}\n\n      Te.prototype.a = null;\n      var Ae,\n          S = {\n        OPEN: \"a\",\n        eb: \"b\",\n        Ea: \"c\",\n        qb: \"d\"\n      };\n\n      function xe() {\n        mt.call(this, \"d\");\n      }\n\n      function De() {\n        mt.call(this, \"c\");\n      }\n\n      function Oe() {}\n\n      function ke(t, e, n, r) {\n        this.g = t, this.c = e, this.f = n, this.S = r || 1, this.J = new ue(this), this.P = Pe, t = st ? 125 : void 0, this.R = new $t(t), this.B = null, this.b = !1, this.j = this.l = this.i = this.H = this.u = this.T = this.o = null, this.s = [], this.a = null, this.D = 0, this.h = this.m = null, this.N = -1, this.A = !1, this.O = 0, this.F = null, this.V = this.C = this.U = this.I = !1;\n      }\n\n      j(xe, mt), j(De, mt), j(Oe, Te), Ae = new Oe();\n      var Pe = 45e3,\n          Le = {},\n          Ce = {};\n\n      function Re(t, e, n) {\n        t.H = 1, t.i = nn(Ye(e)), t.j = n, t.I = !0, Ve(t, null);\n      }\n\n      function Ve(t, e) {\n        t.u = U(), Ue(t), t.l = Ye(t.i);\n        var s,\n            u,\n            a,\n            c,\n            h,\n            f,\n            n = t.l,\n            r = t.S;\n        Array.isArray(r) || (r = [String(r)]), vn(n.b, \"t\", r), t.D = 0, t.a = cr(t.g, t.g.C ? e : null), 0 < t.O && (t.F = new ie(V(t.Ca, t, t.a), t.O)), ce(t.J, t.a, \"readystatechange\", t.Xa), e = t.B ? $(t.B) : {}, t.j ? (t.m || (t.m = \"POST\"), e[\"Content-Type\"] = \"application/x-www-form-urlencoded\", t.a.ba(t.l, t.m, t.j, e)) : (t.m = \"GET\", t.a.ba(t.l, t.m, null, e)), ge(1), s = t.c, u = t.m, a = t.l, c = t.f, h = t.S, f = t.j, s.info(function () {\n          if (s.a) {\n            if (f) for (var t = \"\", e = f.split(\"&\"), n = 0; n < e.length; n++) {\n              var r,\n                  i,\n                  o = e[n].split(\"=\");\n              1 < o.length && (r = o[0], o = o[1], t = 2 <= (i = r.split(\"_\")).length && \"type\" == i[1] ? t + (r + \"=\") + o + \"&\" : t + (r + \"=redacted&\"));\n            } else t = null;\n          } else t = f;\n          return \"XMLHTTP REQ (\" + c + \") [attempt \" + h + \"]: \" + u + \"\\n\" + a + \"\\n\" + t;\n        });\n      }\n\n      function Me(t, e, n) {\n        for (var r, i, o, s = !0; !t.A && t.D < n.length;) {\n          var u = (u = n, o = i = void 0, i = (r = t).D, -1 == (o = u.indexOf(\"\\n\", i)) ? Ce : (i = Number(u.substring(i, o)), isNaN(i) ? Le : (o += 1) + i > u.length ? Ce : (u = u.substr(o, i), r.D = o + i, u)));\n\n          if (u == Ce) {\n            4 == e && (t.h = 4, we(14), s = !1), le(t.c, t.f, null, \"[Incomplete Response]\");\n            break;\n          }\n\n          if (u == Le) {\n            t.h = 4, we(15), le(t.c, t.f, n, \"[Invalid Chunk]\"), s = !1;\n            break;\n          }\n\n          le(t.c, t.f, u, null), Be(t, u);\n        }\n\n        4 == e && 0 == n.length && (t.h = 1, we(16), s = !1), t.b = t.b && s, s ? 0 < n.length && !t.V && (t.V = !0, (e = t.g).a == t && e.U && !e.F && (e.c.info(\"Great, no buffering proxy detected. Bytes received: \" + n.length), er(e), e.F = !0, we(11))) : (le(t.c, t.f, n, \"[Invalid Chunked Response]\"), He(t), Fe(t));\n      }\n\n      function Ue(t) {\n        t.T = U() + t.P, je(t, t.P);\n      }\n\n      function je(t, e) {\n        if (null != t.o) throw Error(\"WatchDog timer not null\");\n        t.o = Ie(V(t.Va, t), e);\n      }\n\n      function qe(t) {\n        t.o && (x.clearTimeout(t.o), t.o = null);\n      }\n\n      function Fe(t) {\n        0 == t.g.v || t.A || ir(t.g, t);\n      }\n\n      function He(t) {\n        qe(t);\n        var e = t.F;\n        e && \"function\" == typeof e.ja && e.ja(), t.F = null, Zt(t.R), he(t.J), t.a && (e = t.a, t.a = null, e.abort(), e.ja());\n      }\n\n      function Be(t, e) {\n        try {\n          var n,\n              r,\n              i,\n              o,\n              s,\n              u = t.g;\n          if (0 != u.v && (u.a == t || En(u.b, t))) if (u.I = t.N, !t.C && En(u.b, t) && 3 == u.v) {\n            try {\n              var a = u.ka.a.parse(e);\n            } catch (t) {\n              a = null;\n            }\n\n            if (Array.isArray(a) && 3 == a.length) {\n              var c = a;\n\n              if (0 == c[0]) {\n                t: if (!u.j) {\n                  if (u.a) {\n                    if (!(u.a.u + 3e3 < t.u)) break t;\n                    rr(u), Kn(u);\n                  }\n\n                  tr(u), we(18);\n                }\n              } else u.oa = c[1], 0 < u.oa - u.P && c[2] < 37500 && u.H && 0 == u.o && !u.m && (u.m = Ie(V(u.Sa, u), 6e3));\n\n              if (_n(u.b) <= 1 && u.ea) {\n                try {\n                  u.ea();\n                } catch (t) {}\n\n                u.ea = void 0;\n              }\n            } else sr(u, 11);\n          } else if (!t.C && u.a != t || rr(u), !z(e)) for (e = a = u.ka.a.parse(e), a = 0; a < e.length; a++) {\n            c = e[a], u.P = c[0], c = c[1], 2 == u.v ? \"c\" == c[0] ? (u.J = c[1], u.ga = c[2], null != (r = c[3]) && (u.ha = r, u.c.info(\"VER=\" + u.ha)), null != (o = c[4]) && (u.pa = o, u.c.info(\"SVER=\" + u.pa)), null != (r = c[5]) && \"number\" == typeof r && 0 < r && (n = 1.5 * r, u.D = n, u.c.info(\"backChannelRequestTimeoutMs_=\" + n)), n = u, (o = t.a) && (!(r = o.a ? o.a.getResponseHeader(\"X-Client-Wire-Protocol\") : null) || !(i = n.b).a && (W(r, \"spdy\") || W(r, \"quic\") || W(r, \"h2\")) && (i.f = i.g, i.a = new Set(), i.b && (Tn(i, i.b), i.b = null)), !n.A || (s = o.a ? o.a.getResponseHeader(\"X-HTTP-Session-Id\") : null) && (n.na = s, en(n.B, n.A, s))), u.v = 3, u.f && u.f.ta(), u.U && (u.N = U() - t.u, u.c.info(\"Handshake RTT: \" + u.N + \"ms\")), i = t, (n = u).la = ar(n, n.C ? n.ga : null, n.fa), i.C ? (Nn(n.b, i), o = i, (s = n.D) && o.setTimeout(s), o.o && (qe(o), Ue(o)), n.a = i) : Zn(n), 0 < u.g.length && Xn(u)) : \"stop\" != c[0] && \"close\" != c[0] || sr(u, 7) : 3 == u.v && (\"stop\" == c[0] || \"close\" == c[0] ? \"stop\" == c[0] ? sr(u, 7) : zn(u) : \"noop\" != c[0] && u.f && u.f.sa(c), u.o = 0);\n          }\n          ge(4);\n        } catch (t) {}\n      }\n\n      function Ge(t, e) {\n        if (t.forEach && \"function\" == typeof t.forEach) t.forEach(e, void 0);else if (O(t) || \"string\" == typeof t) H(t, e, void 0);else {\n          if (t.L && \"function\" == typeof t.L) var n = t.L();else if (t.K && \"function\" == typeof t.K) n = void 0;else if (O(t) || \"string\" == typeof t) {\n            n = [];\n\n            for (var r = t.length, i = 0; i < r; i++) n.push(i);\n          } else for (i in n = [], r = 0, t) n[r++] = i;\n\n          i = (r = function (t) {\n            if (t.K && \"function\" == typeof t.K) return t.K();\n            if (\"string\" == typeof t) return t.split(\"\");\n\n            if (O(t)) {\n              for (var e = [], n = t.length, r = 0; r < n; r++) e.push(t[r]);\n\n              return e;\n            }\n\n            for (r in e = [], n = 0, t) e[n++] = t[r];\n\n            return e;\n          }(t)).length;\n\n          for (var o = 0; o < i; o++) e.call(void 0, r[o], n && n[o], t);\n        }\n      }\n\n      function ze(t, e) {\n        this.b = {}, this.a = [], this.c = 0;\n        var n = arguments.length;\n\n        if (1 < n) {\n          if (n % 2) throw Error(\"Uneven number of arguments\");\n\n          for (var r = 0; r < n; r += 2) this.set(arguments[r], arguments[r + 1]);\n        } else if (t) if (t instanceof ze) for (n = t.L(), r = 0; r < n.length; r++) this.set(n[r], t.get(n[r]));else for (r in t) this.set(r, t[r]);\n      }\n\n      function Ke(t) {\n        if (t.c != t.a.length) {\n          for (var e = 0, n = 0; e < t.a.length;) {\n            var r = t.a[e];\n            Je(t.b, r) && (t.a[n++] = r), e++;\n          }\n\n          t.a.length = n;\n        }\n\n        if (t.c != t.a.length) {\n          for (var i = {}, n = e = 0; e < t.a.length;) Je(i, r = t.a[e]) || (i[t.a[n++] = r] = 1), e++;\n\n          t.a.length = n;\n        }\n      }\n\n      function Je(t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      }\n\n      (N = ke.prototype).setTimeout = function (t) {\n        this.P = t;\n      }, N.Xa = function (t) {\n        t = t.target;\n        var e = this.F;\n        e && 3 == Fn(t) ? e.f() : this.Ca(t);\n      }, N.Ca = function (t) {\n        try {\n          if (t == this.a) t: {\n            var e = Fn(this.a),\n                n = this.a.ua(),\n                r = this.a.W();\n\n            if (!(e < 3 || 3 == e && !st && !this.a.$())) {\n              this.A || 4 != e || 7 == n || ge(8 == n || r <= 0 ? 3 : 2), qe(this);\n              var i = this.a.W();\n              this.N = i;\n              n = this.a.$();\n\n              if (this.b = 200 == i, r = this.c, u = this.m, a = this.l, c = this.f, h = this.S, f = e, l = i, r.info(function () {\n                return \"XMLHTTP RESP (\" + c + \") [ attempt \" + h + \"]: \" + u + \"\\n\" + a + \"\\n\" + f + \" \" + l;\n              }), this.b) {\n                if (this.U && !this.C) {\n                  e: {\n                    if (this.a) {\n                      var o = this.a;\n\n                      if ((o = o.a ? o.a.getResponseHeader(\"X-HTTP-Initial-Response\") : null) && !z(o)) {\n                        var s = o;\n                        break e;\n                      }\n                    }\n\n                    s = null;\n                  }\n\n                  if (!s) {\n                    this.b = !1, this.h = 3, we(12), He(this), Fe(this);\n                    break t;\n                  }\n\n                  le(this.c, this.f, s, \"Initial handshake response via X-HTTP-Initial-Response\"), this.C = !0, Be(this, s);\n                }\n\n                this.I ? (Me(this, e, n), st && this.b && 3 == e && (ce(this.J, this.R, \"tick\", this.Wa), this.R.start())) : (le(this.c, this.f, n, null), Be(this, n)), 4 == e && He(this), this.b && !this.A && (4 == e ? ir(this.g, this) : (this.b = !1, Ue(this)));\n              } else 400 == i && 0 < n.indexOf(\"Unknown SID\") ? (this.h = 3, we(12)) : (this.h = 0, we(13)), He(this), Fe(this);\n            }\n          }\n        } catch (t) {}\n\n        var u, a, c, h, f, l;\n      }, N.Wa = function () {\n        var t, e;\n        this.a && (t = Fn(this.a), e = this.a.$(), this.D < e.length && (qe(this), Me(this, t, e), this.b && 4 != t && Ue(this)));\n      }, N.cancel = function () {\n        this.A = !0, He(this);\n      }, N.Va = function () {\n        this.o = null;\n        var t,\n            e,\n            n = U();\n        0 <= n - this.T ? (t = this.c, e = this.l, t.info(function () {\n          return \"TIMEOUT: \" + e;\n        }), 2 != this.H && (ge(3), we(17)), He(this), this.h = 2, Fe(this)) : je(this, this.T - n);\n      }, (N = ze.prototype).K = function () {\n        Ke(this);\n\n        for (var t = [], e = 0; e < this.a.length; e++) t.push(this.b[this.a[e]]);\n\n        return t;\n      }, N.L = function () {\n        return Ke(this), this.a.concat();\n      }, N.get = function (t, e) {\n        return Je(this.b, t) ? this.b[t] : e;\n      }, N.set = function (t, e) {\n        Je(this.b, t) || (this.c++, this.a.push(t)), this.b[t] = e;\n      }, N.forEach = function (t, e) {\n        for (var n = this.L(), r = 0; r < n.length; r++) {\n          var i = n[r],\n              o = this.get(i);\n          t.call(e, o, i, this);\n        }\n      };\n      var We = /^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;\n\n      function Xe(t, e) {\n        var n;\n        this.c = this.j = this.f = \"\", this.h = null, this.i = this.g = \"\", this.a = !1, t instanceof Xe ? (this.a = void 0 !== e ? e : t.a, Qe(this, t.f), this.j = t.j, $e(this, t.c), Ze(this, t.h), this.g = t.g, e = t.b, (n = new ln()).c = e.c, e.a && (n.a = new ze(e.a), n.b = e.b), tn(this, n), this.i = t.i) : t && (n = String(t).match(We)) ? (this.a = !!e, Qe(this, n[1] || \"\", !0), this.j = rn(n[2] || \"\"), $e(this, n[3] || \"\", !0), Ze(this, n[4]), this.g = rn(n[5] || \"\", !0), tn(this, n[6] || \"\", !0), this.i = rn(n[7] || \"\")) : (this.a = !!e, this.b = new ln(null, this.a));\n      }\n\n      function Ye(t) {\n        return new Xe(t);\n      }\n\n      function Qe(t, e, n) {\n        t.f = n ? rn(e, !0) : e, t.f && (t.f = t.f.replace(/:$/, \"\"));\n      }\n\n      function $e(t, e, n) {\n        t.c = n ? rn(e, !0) : e;\n      }\n\n      function Ze(t, e) {\n        if (e) {\n          if (e = Number(e), isNaN(e) || e < 0) throw Error(\"Bad port number \" + e);\n          t.h = e;\n        } else t.h = null;\n      }\n\n      function tn(t, e, n) {\n        var r, i;\n        e instanceof ln ? (t.b = e, r = t.b, (i = t.a) && !r.f && (pn(r), r.c = null, r.a.forEach(function (t, e) {\n          var n = e.toLowerCase();\n          e != n && (dn(this, e), vn(this, n, t));\n        }, r)), r.f = i) : (n || (e = on(e, hn)), t.b = new ln(e, t.a));\n      }\n\n      function en(t, e, n) {\n        t.b.set(e, n);\n      }\n\n      function nn(t) {\n        return en(t, \"zx\", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ U()).toString(36)), t;\n      }\n\n      function rn(t, e) {\n        return t ? e ? decodeURI(t.replace(/%25/g, \"%2525\")) : decodeURIComponent(t) : \"\";\n      }\n\n      function on(t, e, n) {\n        return \"string\" == typeof t ? (t = encodeURI(t).replace(e, sn), n && (t = t.replace(/%25([0-9a-fA-F]{2})/g, \"%$1\")), t) : null;\n      }\n\n      function sn(t) {\n        return \"%\" + ((t = t.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t).toString(16);\n      }\n\n      Xe.prototype.toString = function () {\n        var t = [],\n            e = this.f;\n        e && t.push(on(e, un, !0), \":\");\n        var n = this.c;\n        return !n && \"file\" != e || (t.push(\"//\"), (e = this.j) && t.push(on(e, un, !0), \"@\"), t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g, \"%$1\")), null != (n = this.h) && t.push(\":\", String(n))), (n = this.g) && (this.c && \"/\" != n.charAt(0) && t.push(\"/\"), t.push(on(n, \"/\" == n.charAt(0) ? cn : an, !0))), (n = this.b.toString()) && t.push(\"?\", n), (n = this.i) && t.push(\"#\", on(n, fn)), t.join(\"\");\n      };\n\n      var un = /[#\\/\\?@]/g,\n          an = /[#\\?:]/g,\n          cn = /[#\\?]/g,\n          hn = /[#\\?@]/g,\n          fn = /#/g;\n\n      function ln(t, e) {\n        this.b = this.a = null, this.c = t || null, this.f = !!e;\n      }\n\n      function pn(n) {\n        n.a || (n.a = new ze(), n.b = 0, n.c && function (t, e) {\n          if (t) {\n            t = t.split(\"&\");\n\n            for (var n = 0; n < t.length; n++) {\n              var r,\n                  i = t[n].indexOf(\"=\"),\n                  o = null;\n              0 <= i ? (r = t[n].substring(0, i), o = t[n].substring(i + 1)) : r = t[n], e(r, o ? decodeURIComponent(o.replace(/\\+/g, \" \")) : \"\");\n            }\n          }\n        }(n.c, function (t, e) {\n          n.add(decodeURIComponent(t.replace(/\\+/g, \" \")), e);\n        }));\n      }\n\n      function dn(t, e) {\n        pn(t), e = gn(t, e), Je(t.a.b, e) && (t.c = null, t.b -= t.a.get(e).length, Je((t = t.a).b, e) && (delete t.b[e], t.c--, t.a.length > 2 * t.c && Ke(t)));\n      }\n\n      function yn(t, e) {\n        return pn(t), e = gn(t, e), Je(t.a.b, e);\n      }\n\n      function vn(t, e, n) {\n        dn(t, e), 0 < n.length && (t.c = null, t.a.set(gn(t, e), G(n)), t.b += n.length);\n      }\n\n      function gn(t, e) {\n        return e = String(e), t.f && (e = e.toLowerCase()), e;\n      }\n\n      (N = ln.prototype).add = function (t, e) {\n        pn(this), this.c = null, t = gn(this, t);\n        var n = this.a.get(t);\n        return n || this.a.set(t, n = []), n.push(e), this.b += 1, this;\n      }, N.forEach = function (n, r) {\n        pn(this), this.a.forEach(function (t, e) {\n          H(t, function (t) {\n            n.call(r, t, e, this);\n          }, this);\n        }, this);\n      }, N.L = function () {\n        pn(this);\n\n        for (var t = this.a.K(), e = this.a.L(), n = [], r = 0; r < e.length; r++) for (var i = t[r], o = 0; o < i.length; o++) n.push(e[r]);\n\n        return n;\n      }, N.K = function (t) {\n        pn(this);\n        var e = [];\n        if (\"string\" == typeof t) yn(this, t) && (e = B(e, this.a.get(gn(this, t))));else {\n          t = this.a.K();\n\n          for (var n = 0; n < t.length; n++) e = B(e, t[n]);\n        }\n        return e;\n      }, N.set = function (t, e) {\n        return pn(this), this.c = null, yn(this, t = gn(this, t)) && (this.b -= this.a.get(t).length), this.a.set(t, [e]), this.b += 1, this;\n      }, N.get = function (t, e) {\n        return t && 0 < (t = this.K(t)).length ? String(t[0]) : e;\n      }, N.toString = function () {\n        if (this.c) return this.c;\n        if (!this.a) return \"\";\n\n        for (var t = [], e = this.a.L(), n = 0; n < e.length; n++) for (var r = e[n], i = encodeURIComponent(String(r)), r = this.K(r), o = 0; o < r.length; o++) {\n          var s = i;\n          \"\" !== r[o] && (s += \"=\" + encodeURIComponent(String(r[o]))), t.push(s);\n        }\n\n        return this.c = t.join(\"&\");\n      };\n\n      var mn = function mn(t, e) {\n        this.b = t, this.a = e;\n      };\n\n      function wn(t) {\n        this.g = t || bn, t = x.PerformanceNavigationTiming ? 0 < (t = x.performance.getEntriesByType(\"navigation\")).length && (\"hq\" == t[0].nextHopProtocol || \"h2\" == t[0].nextHopProtocol) : !!(x.ia && x.ia.ya && x.ia.ya() && x.ia.ya().Lb), this.f = t ? this.g : 1, this.a = null, 1 < this.f && (this.a = new Set()), this.b = null, this.c = [];\n      }\n\n      var bn = 10;\n\n      function In(t) {\n        return t.b || t.a && t.a.size >= t.f;\n      }\n\n      function _n(t) {\n        return t.b ? 1 : t.a ? t.a.size : 0;\n      }\n\n      function En(t, e) {\n        return t.b ? t.b == e : t.a && t.a.has(e);\n      }\n\n      function Tn(t, e) {\n        t.a ? t.a.add(e) : t.b = e;\n      }\n\n      function Nn(t, e) {\n        t.b && t.b == e ? t.b = null : t.a && t.a.has(e) && t.a.delete(e);\n      }\n\n      function Sn(t) {\n        var e, n;\n        if (null != t.b) return t.c.concat(t.b.s);\n        if (null == t.a || 0 === t.a.size) return G(t.c);\n        var r = t.c;\n\n        try {\n          for (var i = T(t.a.values()), o = i.next(); !o.done; o = i.next()) var s = o.value, r = r.concat(s.s);\n        } catch (t) {\n          e = {\n            error: t\n          };\n        } finally {\n          try {\n            o && !o.done && (n = i.return) && n.call(i);\n          } finally {\n            if (e) throw e.error;\n          }\n        }\n\n        return r;\n      }\n\n      function An() {}\n\n      function xn() {\n        this.a = new An();\n      }\n\n      function Dn(t, e, n, r, i) {\n        try {\n          e.onload = null, e.onerror = null, e.onabort = null, e.ontimeout = null, i(r);\n        } catch (t) {}\n      }\n\n      wn.prototype.cancel = function () {\n        var e, t;\n        if (this.c = Sn(this), this.b) this.b.cancel(), this.b = null;else if (this.a && 0 !== this.a.size) {\n          try {\n            for (var n = T(this.a.values()), r = n.next(); !r.done; r = n.next()) {\n              r.value.cancel();\n            }\n          } catch (t) {\n            e = {\n              error: t\n            };\n          } finally {\n            try {\n              r && !r.done && (t = n.return) && t.call(n);\n            } finally {\n              if (e) throw e.error;\n            }\n          }\n\n          this.a.clear();\n        }\n      }, An.prototype.stringify = function (t) {\n        return x.JSON.stringify(t, void 0);\n      }, An.prototype.parse = function (t) {\n        return x.JSON.parse(t, void 0);\n      };\n      var On = x.JSON.parse;\n\n      function kn(t) {\n        jt.call(this), this.headers = new ze(), this.H = t || null, this.b = !1, this.s = this.a = null, this.B = \"\", this.h = 0, this.f = \"\", this.g = this.A = this.l = this.u = !1, this.o = 0, this.m = null, this.I = Pn, this.D = this.F = !1;\n      }\n\n      j(kn, jt);\n      var Pn = \"\",\n          Ln = /^https?$/i,\n          Cn = [\"POST\", \"PUT\"];\n\n      function Rn(t) {\n        return \"content-type\" == t.toLowerCase();\n      }\n\n      function Vn(t, e) {\n        t.b = !1, t.a && (t.g = !0, t.a.abort(), t.g = !1), t.f = e, t.h = 5, Mn(t), jn(t);\n      }\n\n      function Mn(t) {\n        t.u || (t.u = !0, qt(t, \"complete\"), qt(t, \"error\"));\n      }\n\n      function Un(t) {\n        if (t.b && void 0 !== A && (!t.s[1] || 4 != Fn(t) || 2 != t.W())) if (t.l && 4 == Fn(t)) te(t.za, 0, t);else if (qt(t, \"readystatechange\"), 4 == Fn(t)) {\n          t.b = !1;\n\n          try {\n            var e,\n                n,\n                r,\n                i,\n                o = t.W();\n\n            t: switch (o) {\n              case 200:\n              case 201:\n              case 202:\n              case 204:\n              case 206:\n              case 304:\n              case 1223:\n                var s = !0;\n                break t;\n\n              default:\n                s = !1;\n            }\n\n            (e = s) || ((n = 0 === o) && (!(i = String(t.B).match(We)[1] || null) && x.self && x.self.location && (i = (r = x.self.location.protocol).substr(0, r.length - 1)), n = !Ln.test(i ? i.toLowerCase() : \"\")), e = n);\n            if (e) qt(t, \"complete\"), qt(t, \"success\");else {\n              t.h = 6;\n\n              try {\n                var u = 2 < Fn(t) ? t.a.statusText : \"\";\n              } catch (o) {\n                u = \"\";\n              }\n\n              t.f = u + \" [\" + t.W() + \"]\", Mn(t);\n            }\n          } finally {\n            jn(t);\n          }\n        }\n      }\n\n      function jn(t, e) {\n        if (t.a) {\n          qn(t);\n          var n = t.a,\n              r = t.s[0] ? D : null;\n          t.a = null, t.s = null, e || qt(t, \"ready\");\n\n          try {\n            n.onreadystatechange = r;\n          } catch (t) {}\n        }\n      }\n\n      function qn(t) {\n        t.a && t.D && (t.a.ontimeout = null), t.m && (x.clearTimeout(t.m), t.m = null);\n      }\n\n      function Fn(t) {\n        return t.a ? t.a.readyState : 0;\n      }\n\n      function Hn(t, e, n) {\n        t: {\n          for (r in n) {\n            var r = !1;\n            break t;\n          }\n\n          r = !0;\n        }\n\n        var i;\n        r || (i = \"\", Q(n, function (t, e) {\n          i += e, i += \":\", i += t, i += \"\\r\\n\";\n        }), n = i, \"string\" == typeof t ? null != n && encodeURIComponent(String(n)) : en(t, e, n));\n      }\n\n      function Bn(t, e, n) {\n        return n && n.internalChannelParams && n.internalChannelParams[t] || e;\n      }\n\n      function Gn(t) {\n        this.pa = 0, this.g = [], this.c = new fe(), this.ga = this.la = this.B = this.fa = this.a = this.na = this.A = this.V = this.i = this.O = this.l = null, this.Oa = this.R = 0, this.La = Bn(\"failFast\", !1, t), this.H = this.m = this.j = this.h = this.f = null, this.S = !0, this.I = this.oa = this.P = -1, this.T = this.o = this.u = 0, this.Ha = Bn(\"baseRetryDelayMs\", 5e3, t), this.Ra = Bn(\"retryDelaySeedMs\", 1e4, t), this.Ma = Bn(\"forwardChannelMaxRetries\", 2, t), this.ma = Bn(\"forwardChannelRequestTimeoutMs\", 2e4, t), this.Na = t && t.g || void 0, this.D = void 0, this.C = t && t.supportsCrossDomainXhr || !1, this.J = \"\", this.b = new wn(t && t.concurrentRequestLimit), this.ka = new xn(), this.da = t && t.fastHandshake || !1, this.Ia = t && t.b || !1, t && t.f && (this.c.a = !1), t && t.forceLongPolling && (this.S = !1), this.U = !this.da && this.S && t && t.detectBufferingProxy || !1, this.ea = void 0, this.N = 0, this.F = !1, this.s = null, (this.Ka = t && t.c || !1) && this.c.info(\"Opt-in to enable Chrome Origin Trials.\");\n      }\n\n      function zn(t) {\n        var e, n;\n        Jn(t), 3 == t.v && (e = t.R++, en(n = Ye(t.B), \"SID\", t.J), en(n, \"RID\", e), en(n, \"TYPE\", \"terminate\"), Qn(t, n), (e = new ke(t, t.c, e, void 0)).H = 2, e.i = nn(Ye(n)), n = !1, x.navigator && x.navigator.sendBeacon && (n = x.navigator.sendBeacon(e.i.toString(), \"\")), !n && x.Image && (new Image().src = e.i, n = !0), n || (e.a = cr(e.g, null), e.a.ba(e.i)), e.u = U(), Ue(e)), ur(t);\n      }\n\n      function Kn(t) {\n        t.a && (er(t), t.a.cancel(), t.a = null);\n      }\n\n      function Jn(t) {\n        Kn(t), t.j && (x.clearTimeout(t.j), t.j = null), rr(t), t.b.cancel(), t.h && (\"number\" == typeof t.h && x.clearTimeout(t.h), t.h = null);\n      }\n\n      function Wn(t, e) {\n        t.g.push(new mn(t.Oa++, e)), 3 == t.v && Xn(t);\n      }\n\n      function Xn(t) {\n        In(t.b) || t.h || (t.h = !0, Wt(t.Ba, t), t.u = 0);\n      }\n\n      function Yn(t, e) {\n        var n = e ? e.f : t.R++,\n            r = Ye(t.B);\n        en(r, \"SID\", t.J), en(r, \"RID\", n), en(r, \"AID\", t.P), Qn(t, r), t.i && t.l && Hn(r, t.i, t.l), n = new ke(t, t.c, n, t.u + 1), null === t.i && (n.B = t.l), e && (t.g = e.s.concat(t.g)), e = $n(t, n, 1e3), n.setTimeout(Math.round(.5 * t.ma) + Math.round(.5 * t.ma * Math.random())), Tn(t.b, n), Re(n, r, e);\n      }\n\n      function Qn(t, n) {\n        t.f && Ge({}, function (t, e) {\n          en(n, e, t);\n        });\n      }\n\n      function $n(t, e, n) {\n        n = Math.min(t.g.length, n);\n        var r = t.f ? V(t.f.Ja, t.f, t) : null;\n\n        t: for (var i = t.g, o = -1;;) {\n          var s = [\"count=\" + n];\n          -1 == o ? 0 < n ? (o = i[0].b, s.push(\"ofs=\" + o)) : o = 0 : s.push(\"ofs=\" + o);\n\n          for (var u = !0, a = 0; a < n; a++) {\n            var c = i[a].b,\n                h = i[a].a;\n            if ((c -= o) < 0) o = Math.max(0, i[a].b - 100), u = !1;else try {\n              !function (t, r, e) {\n                var i = e || \"\";\n\n                try {\n                  Ge(t, function (t, e) {\n                    var n = t;\n                    k(t) && (n = Ht(t)), r.push(i + e + \"=\" + encodeURIComponent(n));\n                  });\n                } catch (t) {\n                  throw r.push(i + \"type=\" + encodeURIComponent(\"_badmap\")), t;\n                }\n              }(h, s, \"req\" + c + \"_\");\n            } catch (t) {\n              r && r(h);\n            }\n          }\n\n          if (u) {\n            r = s.join(\"&\");\n            break t;\n          }\n        }\n\n        return t = t.g.splice(0, n), e.s = t, r;\n      }\n\n      function Zn(t) {\n        t.a || t.j || (t.T = 1, Wt(t.Aa, t), t.o = 0);\n      }\n\n      function tr(t) {\n        return !(t.a || t.j || 3 <= t.o) && (t.T++, t.j = Ie(V(t.Aa, t), or(t, t.o)), t.o++, 1);\n      }\n\n      function er(t) {\n        null != t.s && (x.clearTimeout(t.s), t.s = null);\n      }\n\n      function nr(t) {\n        t.a = new ke(t, t.c, \"rpc\", t.T), null === t.i && (t.a.B = t.l), t.a.O = 0;\n        var e = Ye(t.la);\n        en(e, \"RID\", \"rpc\"), en(e, \"SID\", t.J), en(e, \"CI\", t.H ? \"0\" : \"1\"), en(e, \"AID\", t.P), Qn(t, e), en(e, \"TYPE\", \"xmlhttp\"), t.i && t.l && Hn(e, t.i, t.l), t.D && t.a.setTimeout(t.D);\n        var n = t.a;\n        t = t.ga, n.H = 1, n.i = nn(Ye(e)), n.j = null, n.I = !0, Ve(n, t);\n      }\n\n      function rr(t) {\n        null != t.m && (x.clearTimeout(t.m), t.m = null);\n      }\n\n      function ir(t, e) {\n        var n,\n            r = null;\n\n        if (t.a == e) {\n          rr(t), er(t), t.a = null;\n          var i = 2;\n        } else {\n          if (!En(t.b, e)) return;\n          r = e.s, Nn(t.b, e), i = 1;\n        }\n\n        if (t.I = e.N, 0 != t.v) if (e.b) {\n          1 == i ? (r = e.j ? e.j.length : 0, e = U() - e.u, n = t.u, qt(i = ye(), new be(i)), Xn(t)) : Zn(t);\n        } else if (3 == (n = e.h) || 0 == n && 0 < t.I || !(1 == i && function (t, e) {\n          if (!(_n(t.b) >= t.b.f - (t.h ? 1 : 0))) {\n            if (t.h) return t.g = e.s.concat(t.g), 1;\n            if (!(1 == t.v || 2 == t.v || t.u >= (t.La ? 0 : t.Ma))) return t.h = Ie(V(t.Ba, t, e), or(t, t.u)), t.u++, 1;\n          }\n        }(t, e) || 2 == i && tr(t))) switch (r && 0 < r.length && (e = t.b, e.c = e.c.concat(r)), n) {\n          case 1:\n            sr(t, 5);\n            break;\n\n          case 4:\n            sr(t, 10);\n            break;\n\n          case 3:\n            sr(t, 6);\n            break;\n\n          default:\n            sr(t, 2);\n        }\n      }\n\n      function or(t, e) {\n        var n = t.Ha + Math.floor(Math.random() * t.Ra);\n        return t.f || (n *= 2), n * e;\n      }\n\n      function sr(t, e) {\n        var n, r, i, o;\n        t.c.info(\"Error code \" + e), 2 == e ? (r = null, t.f && (r = null), o = V(t.Ya, t), r || (r = new Xe(\"//www.google.com/images/cleardot.gif\"), x.location && \"http\" == x.location.protocol || Qe(r, \"https\"), nn(r)), n = r.toString(), r = o, o = new fe(), x.Image ? ((i = new Image()).onload = M(Dn, o, i, \"TestLoadImage: loaded\", !0, r), i.onerror = M(Dn, o, i, \"TestLoadImage: error\", !1, r), i.onabort = M(Dn, o, i, \"TestLoadImage: abort\", !1, r), i.ontimeout = M(Dn, o, i, \"TestLoadImage: timeout\", !1, r), x.setTimeout(function () {\n          i.ontimeout && i.ontimeout();\n        }, 1e4), i.src = n) : r(!1)) : we(2), t.v = 0, t.f && t.f.ra(e), ur(t), Jn(t);\n      }\n\n      function ur(t) {\n        t.v = 0, t.I = -1, t.f && (0 == Sn(t.b).length && 0 == t.g.length || (t.b.c.length = 0, G(t.g), t.g.length = 0), t.f.qa());\n      }\n\n      function ar(t, e, n) {\n        var r,\n            i,\n            o,\n            s,\n            u,\n            a = (s = n) instanceof Xe ? Ye(s) : new Xe(s, void 0);\n        return \"\" != a.c ? (e && $e(a, e + \".\" + a.c), Ze(a, a.h)) : (u = x.location, r = u.protocol, i = e ? e + \".\" + u.hostname : u.hostname, o = +u.port, s = n, u = new Xe(null, void 0), r && Qe(u, r), i && $e(u, i), o && Ze(u, o), s && (u.g = s), a = u), t.V && Q(t.V, function (t, e) {\n          en(a, e, t);\n        }), e = t.A, n = t.na, e && n && en(a, e, n), en(a, \"VER\", t.ha), Qn(t, a), a;\n      }\n\n      function cr(t, e) {\n        if (e && !t.C) throw Error(\"Can't create secondary domain capable XhrIo object.\");\n        return (e = new kn(t.Na)).F = t.C, e;\n      }\n\n      function hr() {}\n\n      function fr() {\n        if (it && !(10 <= Number(dt))) throw Error(\"Environmental error: no available transport.\");\n      }\n\n      function lr(t, e) {\n        jt.call(this), this.a = new Gn(e), this.o = t, this.b = e && e.messageUrlParams || null, t = e && e.messageHeaders || null, e && e.clientProtocolHeaderRequired && (t ? t[\"X-Client-Protocol\"] = \"webchannel\" : t = {\n          \"X-Client-Protocol\": \"webchannel\"\n        }), this.a.l = t, t = e && e.initMessageHeaders || null, e && e.messageContentType && (t ? t[\"X-WebChannel-Content-Type\"] = e.messageContentType : t = {\n          \"X-WebChannel-Content-Type\": e.messageContentType\n        }), e && e.a && (t ? t[\"X-WebChannel-Client-Profile\"] = e.a : t = {\n          \"X-WebChannel-Client-Profile\": e.a\n        }), this.a.O = t, (t = e && e.httpHeadersOverwriteParam) && !z(t) && (this.a.i = t), this.m = e && e.supportsCrossDomainXhr || !1, this.l = e && e.sendRawJson || !1, (e = e && e.httpSessionIdParam) && !z(e) && (this.a.A = e, null !== (t = this.b) && e in t && e in (t = this.b) && delete t[e]), this.f = new yr(this);\n      }\n\n      function pr(t) {\n        xe.call(this);\n        var e = t.__sm__;\n\n        if (e) {\n          t: {\n            for (var n in e) {\n              t = n;\n              break t;\n            }\n\n            t = void 0;\n          }\n\n          (this.c = t) ? (t = this.c, this.data = null !== e && t in e ? e[t] : void 0) : this.data = e;\n        } else this.data = t;\n      }\n\n      function dr() {\n        De.call(this), this.status = 1;\n      }\n\n      function yr(t) {\n        this.a = t;\n      }\n\n      (N = kn.prototype).ba = function (t, e, n, r) {\n        if (this.a) throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.B + \"; newUri=\" + t);\n        e = e ? e.toUpperCase() : \"GET\", this.B = t, this.f = \"\", this.h = 0, this.u = !1, this.b = !0, this.a = new XMLHttpRequest(), this.s = this.H ? Ne(this.H) : Ne(Ae), this.a.onreadystatechange = V(this.za, this);\n\n        try {\n          this.A = !0, this.a.open(e, String(t), !0), this.A = !1;\n        } catch (t) {\n          return void Vn(this, t);\n        }\n\n        t = n || \"\";\n        var i,\n            o = new ze(this.headers);\n        r && Ge(r, function (t, e) {\n          o.set(e, t);\n        }), r = function (t) {\n          t: {\n            for (var e = Rn, n = t.length, r = \"string\" == typeof t ? t.split(\"\") : t, i = 0; i < n; i++) if (i in r && e.call(void 0, r[i], i, t)) {\n              e = i;\n              break t;\n            }\n\n            e = -1;\n          }\n\n          return e < 0 ? null : \"string\" == typeof t ? t.charAt(e) : t[e];\n        }(o.L()), n = x.FormData && t instanceof x.FormData, 0 <= F(Cn, e) && !r && !n && o.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\"), o.forEach(function (t, e) {\n          this.a.setRequestHeader(e, t);\n        }, this), this.I && (this.a.responseType = this.I), \"withCredentials\" in this.a && this.a.withCredentials !== this.F && (this.a.withCredentials = this.F);\n\n        try {\n          qn(this), 0 < this.o && ((this.D = (i = this.a, it && pt(9) && \"number\" == typeof i.timeout && void 0 !== i.ontimeout)) ? (this.a.timeout = this.o, this.a.ontimeout = V(this.xa, this)) : this.m = te(this.xa, this.o, this)), this.l = !0, this.a.send(t), this.l = !1;\n        } catch (t) {\n          Vn(this, t);\n        }\n      }, N.xa = function () {\n        void 0 !== A && this.a && (this.f = \"Timed out after \" + this.o + \"ms, aborting\", this.h = 8, qt(this, \"timeout\"), this.abort(8));\n      }, N.abort = function (t) {\n        this.a && this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1, this.h = t || 7, qt(this, \"complete\"), qt(this, \"abort\"), jn(this));\n      }, N.G = function () {\n        this.a && (this.b && (this.b = !1, this.g = !0, this.a.abort(), this.g = !1), jn(this, !0)), kn.X.G.call(this);\n      }, N.za = function () {\n        this.j || (this.A || this.l || this.g ? Un(this) : this.Ua());\n      }, N.Ua = function () {\n        Un(this);\n      }, N.W = function () {\n        try {\n          return 2 < Fn(this) ? this.a.status : -1;\n        } catch (t) {\n          return -1;\n        }\n      }, N.$ = function () {\n        try {\n          return this.a ? this.a.responseText : \"\";\n        } catch (t) {\n          return \"\";\n        }\n      }, N.Pa = function (t) {\n        if (this.a) {\n          var e = this.a.responseText;\n          return t && 0 == e.indexOf(t) && (e = e.substring(t.length)), On(e);\n        }\n      }, N.ua = function () {\n        return this.h;\n      }, N.Qa = function () {\n        return \"string\" == typeof this.f ? this.f : String(this.f);\n      }, (N = Gn.prototype).ha = 8, N.v = 1, N.Ba = function (t) {\n        if (this.h) if (this.h = null, 1 == this.v) {\n          if (!t) {\n            this.R = Math.floor(1e5 * Math.random()), t = this.R++;\n            var e,\n                n = new ke(this, this.c, t, void 0),\n                r = this.l;\n            if (this.O && (r ? tt(r = $(r), this.O) : r = this.O), null === this.i && (n.B = r), this.da) t: {\n              for (var i = e = 0; i < this.g.length; i++) {\n                var o = this.g[i];\n                if (\"__data__\" in o.a && \"string\" == typeof (o = o.a.__data__) ? o = o.length : o = void 0, void 0 === o) break;\n\n                if (4096 < (e += o)) {\n                  e = i;\n                  break t;\n                }\n\n                if (4096 === e || i === this.g.length - 1) {\n                  e = i + 1;\n                  break t;\n                }\n              }\n\n              e = 1e3;\n            } else e = 1e3;\n            e = $n(this, n, e), en(i = Ye(this.B), \"RID\", t), en(i, \"CVER\", 22), this.A && en(i, \"X-HTTP-Session-Id\", this.A), Qn(this, i), this.i && r && Hn(i, this.i, r), Tn(this.b, n), this.Ia && en(i, \"TYPE\", \"init\"), this.da ? (en(i, \"$req\", e), en(i, \"SID\", \"null\"), n.U = !0, Re(n, i, null)) : Re(n, i, e), this.v = 2;\n          }\n        } else 3 == this.v && (t ? Yn(this, t) : 0 == this.g.length || In(this.b) || Yn(this));\n      }, N.Aa = function () {\n        var t;\n        this.j = null, nr(this), this.U && !(this.F || null == this.a || this.N <= 0) && (t = 2 * this.N, this.c.info(\"BP detection timer enabled: \" + t), this.s = Ie(V(this.Ta, this), t));\n      }, N.Ta = function () {\n        this.s && (this.s = null, this.c.info(\"BP detection timeout reached.\"), this.c.info(\"Buffering proxy detected and switch to long-polling!\"), this.H = !1, this.F = !0, we(10), Kn(this), nr(this));\n      }, N.Sa = function () {\n        null != this.m && (this.m = null, Kn(this), tr(this), we(19));\n      }, N.Ya = function (t) {\n        t ? (this.c.info(\"Successfully pinged google.com\"), we(2)) : (this.c.info(\"Failed to ping google.com\"), we(1));\n      }, (N = hr.prototype).ta = function () {}, N.sa = function () {}, N.ra = function () {}, N.qa = function () {}, N.Ja = function () {}, fr.prototype.a = function (t, e) {\n        return new lr(t, e);\n      }, j(lr, jt), lr.prototype.g = function () {\n        this.a.f = this.f, this.m && (this.a.C = !0);\n        var t = this.a,\n            e = this.o,\n            n = this.b || void 0;\n        we(0), t.fa = e, t.V = n || {}, t.H = t.S, t.B = ar(t, null, t.fa), Xn(t);\n      }, lr.prototype.close = function () {\n        zn(this.a);\n      }, lr.prototype.h = function (t) {\n        var e;\n        \"string\" == typeof t ? ((e = {}).__data__ = t, Wn(this.a, e)) : this.l ? ((e = {}).__data__ = Ht(t), Wn(this.a, e)) : Wn(this.a, t);\n      }, lr.prototype.G = function () {\n        this.a.f = null, delete this.f, zn(this.a), delete this.a, lr.X.G.call(this);\n      }, j(pr, xe), j(dr, De), j(yr, hr), yr.prototype.ta = function () {\n        qt(this.a, \"a\");\n      }, yr.prototype.sa = function (t) {\n        qt(this.a, new pr(t));\n      }, yr.prototype.ra = function (t) {\n        qt(this.a, new dr());\n      }, yr.prototype.qa = function () {\n        qt(this.a, \"b\");\n      }, fr.prototype.createWebChannel = fr.prototype.a, lr.prototype.send = lr.prototype.h, lr.prototype.open = lr.prototype.g, _e.NO_ERROR = 0, _e.TIMEOUT = 8, _e.HTTP_ERROR = 6, Ee.COMPLETE = \"complete\", (Se.EventType = S).OPEN = \"a\", S.CLOSE = \"b\", S.ERROR = \"c\", S.MESSAGE = \"d\", jt.prototype.listen = jt.prototype.va, kn.prototype.listenOnce = kn.prototype.wa, kn.prototype.getLastError = kn.prototype.Qa, kn.prototype.getLastErrorCode = kn.prototype.ua, kn.prototype.getStatus = kn.prototype.W, kn.prototype.getResponseJson = kn.prototype.Pa, kn.prototype.getResponseText = kn.prototype.$, kn.prototype.send = kn.prototype.ba;\n      var vr = ye,\n          gr = _e,\n          mr = Ee,\n          wr = pe,\n          br = 10,\n          Ir = 11,\n          _r = Se,\n          Er = kn,\n          Tr = new o(\"@firebase/firestore\");\n\n      function Nr() {\n        return Tr.logLevel;\n      }\n\n      function Sr(t) {\n        for (var e, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n        Tr.logLevel <= l.DEBUG && (e = n.map(Dr), Tr.debug.apply(Tr, f([\"Firestore (8.2.3): \" + t], e)));\n      }\n\n      function Ar(t) {\n        for (var e, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n        Tr.logLevel <= l.ERROR && (e = n.map(Dr), Tr.error.apply(Tr, f([\"Firestore (8.2.3): \" + t], e)));\n      }\n\n      function xr(t) {\n        for (var e, n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n        Tr.logLevel <= l.WARN && (e = n.map(Dr), Tr.warn.apply(Tr, f([\"Firestore (8.2.3): \" + t], e)));\n      }\n\n      function Dr(e) {\n        if (\"string\" == typeof e) return e;\n\n        try {\n          return JSON.stringify(e);\n        } catch (t) {\n          return e;\n        }\n      }\n\n      function Or(t) {\n        void 0 === t && (t = \"Unexpected state\");\n        t = \"FIRESTORE (8.2.3) INTERNAL ASSERTION FAILED: \" + t;\n        throw Ar(t), new Error(t);\n      }\n\n      function kr(t) {\n        t || Or();\n      }\n\n      var Pr = (Lr.t = function () {\n        for (var t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", e = Math.floor(256 / t.length) * t.length, n = \"\"; n.length < 20;) for (var r = function (t) {\n          var e = \"undefined\" != typeof self && (self.crypto || self.msCrypto),\n              n = new Uint8Array(t);\n          if (e && \"function\" == typeof e.getRandomValues) e.getRandomValues(n);else for (var r = 0; r < t; r++) n[r] = Math.floor(256 * Math.random());\n          return n;\n        }(40), i = 0; i < r.length; ++i) n.length < 20 && r[i] < e && (n += t.charAt(r[i] % t.length));\n\n        return n;\n      }, Lr);\n\n      function Lr() {}\n\n      function Cr(t, e) {\n        return t < e ? -1 : e < t ? 1 : 0;\n      }\n\n      function Rr(t, n, r) {\n        return t.length === n.length && t.every(function (t, e) {\n          return r(t, n[e]);\n        });\n      }\n\n      function Vr(t) {\n        return t + \"\\0\";\n      }\n\n      var Mr = (Ur.fromBase64String = function (t) {\n        return new Ur(atob(t));\n      }, Ur.fromUint8Array = function (t) {\n        return new Ur(function (t) {\n          for (var e = \"\", n = 0; n < t.length; ++n) e += String.fromCharCode(t[n]);\n\n          return e;\n        }(t));\n      }, Ur.prototype.toBase64 = function () {\n        return t = this.i, btoa(t);\n        var t;\n      }, Ur.prototype.toUint8Array = function () {\n        return function (t) {\n          for (var e = new Uint8Array(t.length), n = 0; n < t.length; n++) e[n] = t.charCodeAt(n);\n\n          return e;\n        }(this.i);\n      }, Ur.prototype.o = function () {\n        return 2 * this.i.length;\n      }, Ur.prototype.u = function (t) {\n        return Cr(this.i, t.i);\n      }, Ur.prototype.isEqual = function (t) {\n        return this.i === t.i;\n      }, Ur);\n\n      function Ur(t) {\n        this.i = t;\n      }\n\n      Mr.h = new Mr(\"\");\n\n      var jr,\n          qr = {\n        OK: \"ok\",\n        CANCELLED: \"cancelled\",\n        UNKNOWN: \"unknown\",\n        INVALID_ARGUMENT: \"invalid-argument\",\n        DEADLINE_EXCEEDED: \"deadline-exceeded\",\n        NOT_FOUND: \"not-found\",\n        ALREADY_EXISTS: \"already-exists\",\n        PERMISSION_DENIED: \"permission-denied\",\n        UNAUTHENTICATED: \"unauthenticated\",\n        RESOURCE_EXHAUSTED: \"resource-exhausted\",\n        FAILED_PRECONDITION: \"failed-precondition\",\n        ABORTED: \"aborted\",\n        OUT_OF_RANGE: \"out-of-range\",\n        UNIMPLEMENTED: \"unimplemented\",\n        INTERNAL: \"internal\",\n        UNAVAILABLE: \"unavailable\",\n        DATA_LOSS: \"data-loss\"\n      },\n          Fr = (h(zr, jr = Error), zr),\n          Hr = (Gr.fromBase64String = function (t) {\n        try {\n          return new Gr(Mr.fromBase64String(t));\n        } catch (t) {\n          throw new Fr(qr.INVALID_ARGUMENT, \"Failed to construct data from Base64 string: \" + t);\n        }\n      }, Gr.fromUint8Array = function (t) {\n        return new Gr(Mr.fromUint8Array(t));\n      }, Gr.prototype.toBase64 = function () {\n        return this.l.toBase64();\n      }, Gr.prototype.toUint8Array = function () {\n        return this.l.toUint8Array();\n      }, Gr.prototype.toString = function () {\n        return \"Bytes(base64: \" + this.toBase64() + \")\";\n      }, Gr.prototype.isEqual = function (t) {\n        return this.l.isEqual(t.l);\n      }, Gr),\n          Br = function Br(t) {\n        this._ = t;\n      };\n\n      function Gr(t) {\n        this.l = t;\n      }\n\n      function zr(t, e) {\n        var n = this;\n        return (n = jr.call(this, e) || this).code = t, n.message = e, n.name = \"FirebaseError\", n.toString = function () {\n          return n.name + \": [code=\" + n.code + \"]: \" + n.message;\n        }, n;\n      }\n\n      function Kr() {\n        if (\"undefined\" == typeof Uint8Array) throw new Fr(qr.UNIMPLEMENTED, \"Uint8Arrays are not available in this environment.\");\n      }\n\n      function Jr() {\n        if (\"undefined\" == typeof atob) throw new Fr(qr.UNIMPLEMENTED, \"Blobs are unavailable in Firestore in this environment.\");\n      }\n\n      var Wr,\n          Xr = (h(ei, Wr = Br), ei.fromBase64String = function (t) {\n        return Jr(), new ei(Hr.fromBase64String(t));\n      }, ei.fromUint8Array = function (t) {\n        return Kr(), new ei(Hr.fromUint8Array(t));\n      }, ei.prototype.toBase64 = function () {\n        return Jr(), this._.toBase64();\n      }, ei.prototype.toUint8Array = function () {\n        return Kr(), this._.toUint8Array();\n      }, ei.prototype.isEqual = function (t) {\n        return this._.isEqual(t._);\n      }, ei.prototype.toString = function () {\n        return \"Blob(base64: \" + this.toBase64() + \")\";\n      }, ei),\n          Yr = function Yr(t, e, n, r, i, o) {\n        this.T = t, this.persistenceKey = e, this.host = n, this.ssl = r, this.forceLongPolling = i, this.I = o;\n      },\n          Qr = (Object.defineProperty(ti.prototype, \"m\", {\n        get: function get() {\n          return \"(default)\" === this.database;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), ti.prototype.isEqual = function (t) {\n        return t instanceof ti && t.projectId === this.projectId && t.database === this.database;\n      }, ti),\n          $r = (Zr.prototype.A = function () {\n        return null != this.uid;\n      }, Zr.prototype.R = function () {\n        return this.A() ? \"uid:\" + this.uid : \"anonymous-user\";\n      }, Zr.prototype.isEqual = function (t) {\n        return t.uid === this.uid;\n      }, Zr);\n\n      function Zr(t) {\n        this.uid = t;\n      }\n\n      function ti(t, e) {\n        this.projectId = t, this.database = e || \"(default)\";\n      }\n\n      function ei() {\n        return null !== Wr && Wr.apply(this, arguments) || this;\n      }\n\n      $r.UNAUTHENTICATED = new $r(null), $r.P = new $r(\"google-credentials-uid\"), $r.g = new $r(\"first-party-uid\");\n\n      function ni(t, e) {\n        this.user = e, this.type = \"OAuth\", this.V = {}, this.V.Authorization = \"Bearer \" + t;\n      }\n\n      var ri = (li.prototype.getToken = function () {\n        return Promise.resolve(null);\n      }, li.prototype.v = function () {}, li.prototype.S = function (t) {\n        (this.p = t)($r.UNAUTHENTICATED);\n      }, li.prototype.D = function () {\n        this.p = null;\n      }, li),\n          ii = (fi.prototype.getToken = function () {\n        var e = this,\n            n = this.O,\n            t = this.forceRefresh;\n        return this.forceRefresh = !1, this.auth ? this.auth.getToken(t).then(function (t) {\n          return e.O !== n ? (Sr(\"FirebaseCredentialsProvider\", \"getToken aborted due to token change.\"), e.getToken()) : t ? (kr(\"string\" == typeof t.accessToken), new ni(t.accessToken, e.currentUser)) : null;\n        }) : Promise.resolve(null);\n      }, fi.prototype.v = function () {\n        this.forceRefresh = !0;\n      }, fi.prototype.S = function (t) {\n        this.p = t, this.N && t(this.currentUser);\n      }, fi.prototype.D = function () {\n        this.auth && this.auth.removeAuthTokenListener(this.C), this.C = null, this.p = null;\n      }, fi.prototype.F = function () {\n        var t = this.auth && this.auth.getUid();\n        return kr(null === t || \"string\" == typeof t), new $r(t);\n      }, fi),\n          oi = (Object.defineProperty(hi.prototype, \"V\", {\n        get: function get() {\n          var t = {\n            \"X-Goog-AuthUser\": this.M\n          },\n              e = this.k.auth.getAuthHeaderValueForFirstParty([]);\n          return e && (t.Authorization = e), t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), hi),\n          si = (ci.prototype.getToken = function () {\n        return Promise.resolve(new oi(this.k, this.M));\n      }, ci.prototype.S = function (t) {\n        t($r.g);\n      }, ci.prototype.D = function () {}, ci.prototype.v = function () {}, ci),\n          ui = (ai.prototype.$ = function (t) {\n        return this.previousValue = Math.max(t, this.previousValue), this.previousValue;\n      }, ai.prototype.next = function () {\n        var t = ++this.previousValue;\n        return this.B && this.B(t), t;\n      }, ai);\n\n      function ai(t, e) {\n        var n = this;\n        this.previousValue = t, e && (e.L = function (t) {\n          return n.$(t);\n        }, this.B = function (t) {\n          return e.q(t);\n        });\n      }\n\n      function ci(t, e) {\n        this.k = t, this.M = e;\n      }\n\n      function hi(t, e) {\n        this.k = t, this.M = e, this.type = \"FirstParty\", this.user = $r.g;\n      }\n\n      function fi(t) {\n        var e = this;\n        this.C = null, this.currentUser = $r.UNAUTHENTICATED, this.N = !1, this.O = 0, this.p = null, this.forceRefresh = !1, this.C = function () {\n          e.O++, e.currentUser = e.F(), e.N = !0, e.p && e.p(e.currentUser);\n        }, this.O = 0, this.auth = t.getImmediate({\n          optional: !0\n        }), this.auth ? this.auth.addAuthTokenListener(this.C) : (this.C(null), t.get().then(function (t) {\n          e.auth = t, e.C && e.auth.addAuthTokenListener(e.C);\n        }, function () {}));\n      }\n\n      function li() {\n        this.p = null;\n      }\n\n      ui.U = -1;\n      var pi,\n          di,\n          yi = (Si.now = function () {\n        return Si.fromMillis(Date.now());\n      }, Si.fromDate = function (t) {\n        return Si.fromMillis(t.getTime());\n      }, Si.fromMillis = function (t) {\n        var e = Math.floor(t / 1e3);\n        return new Si(e, 1e6 * (t - 1e3 * e));\n      }, Si.prototype.toDate = function () {\n        return new Date(this.toMillis());\n      }, Si.prototype.toMillis = function () {\n        return 1e3 * this.seconds + this.nanoseconds / 1e6;\n      }, Si.prototype.K = function (t) {\n        return this.seconds === t.seconds ? Cr(this.nanoseconds, t.nanoseconds) : Cr(this.seconds, t.seconds);\n      }, Si.prototype.isEqual = function (t) {\n        return t.seconds === this.seconds && t.nanoseconds === this.nanoseconds;\n      }, Si.prototype.toString = function () {\n        return \"Timestamp(seconds=\" + this.seconds + \", nanoseconds=\" + this.nanoseconds + \")\";\n      }, Si.prototype.toJSON = function () {\n        return {\n          seconds: this.seconds,\n          nanoseconds: this.nanoseconds\n        };\n      }, Si.prototype.valueOf = function () {\n        var t = this.seconds - -62135596800;\n        return String(t).padStart(12, \"0\") + \".\" + String(this.nanoseconds).padStart(9, \"0\");\n      }, Si),\n          vi = (Ni.j = function (t) {\n        return new Ni(t);\n      }, Ni.min = function () {\n        return new Ni(new yi(0, 0));\n      }, Ni.prototype.u = function (t) {\n        return this.timestamp.K(t.timestamp);\n      }, Ni.prototype.isEqual = function (t) {\n        return this.timestamp.isEqual(t.timestamp);\n      }, Ni.prototype.W = function () {\n        return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;\n      }, Ni.prototype.toString = function () {\n        return \"SnapshotVersion(\" + this.timestamp.toString() + \")\";\n      }, Ni.prototype.G = function () {\n        return this.timestamp;\n      }, Ni),\n          Ee = (Object.defineProperty(Ti.prototype, \"length\", {\n        get: function get() {\n          return this.H;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Ti.prototype.isEqual = function (t) {\n        return 0 === Ti.J(this, t);\n      }, Ti.prototype.child = function (t) {\n        var e = this.segments.slice(this.offset, this.limit());\n        return t instanceof Ti ? t.forEach(function (t) {\n          e.push(t);\n        }) : e.push(t), this.Y(e);\n      }, Ti.prototype.limit = function () {\n        return this.offset + this.length;\n      }, Ti.prototype.X = function (t) {\n        return t = void 0 === t ? 1 : t, this.Y(this.segments, this.offset + t, this.length - t);\n      }, Ti.prototype.Z = function () {\n        return this.Y(this.segments, this.offset, this.length - 1);\n      }, Ti.prototype.tt = function () {\n        return this.segments[this.offset];\n      }, Ti.prototype.et = function () {\n        return this.get(this.length - 1);\n      }, Ti.prototype.get = function (t) {\n        return this.segments[this.offset + t];\n      }, Ti.prototype.nt = function () {\n        return 0 === this.length;\n      }, Ti.prototype.st = function (t) {\n        if (t.length < this.length) return !1;\n\n        for (var e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n\n        return !0;\n      }, Ti.prototype.it = function (t) {\n        if (this.length + 1 !== t.length) return !1;\n\n        for (var e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n\n        return !0;\n      }, Ti.prototype.forEach = function (t) {\n        for (var e = this.offset, n = this.limit(); e < n; e++) t(this.segments[e]);\n      }, Ti.prototype.rt = function () {\n        return this.segments.slice(this.offset, this.limit());\n      }, Ti.J = function (t, e) {\n        for (var n = Math.min(t.length, e.length), r = 0; r < n; r++) {\n          var i = t.get(r),\n              o = e.get(r);\n          if (i < o) return -1;\n          if (o < i) return 1;\n        }\n\n        return t.length < e.length ? -1 : t.length > e.length ? 1 : 0;\n      }, Ti),\n          gi = (h(Ei, di = Ee), Ei.prototype.Y = function (t, e, n) {\n        return new Ei(t, e, n);\n      }, Ei.prototype.ot = function () {\n        return this.rt().join(\"/\");\n      }, Ei.prototype.toString = function () {\n        return this.ot();\n      }, Ei.ct = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        for (var n = [], r = 0, i = t; r < i.length; r++) {\n          var o = i[r];\n          if (0 <= o.indexOf(\"//\")) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid segment (\" + o + \"). Paths must not contain // in them.\");\n          n.push.apply(n, o.split(\"/\").filter(function (t) {\n            return 0 < t.length;\n          }));\n        }\n\n        return new Ei(n);\n      }, Ei.at = function () {\n        return new Ei([]);\n      }, Ei),\n          mi = /^[_a-zA-Z][_a-zA-Z0-9]*$/,\n          wi = (h(_i, pi = Ee), _i.prototype.Y = function (t, e, n) {\n        return new _i(t, e, n);\n      }, _i.ut = function (t) {\n        return mi.test(t);\n      }, _i.prototype.ot = function () {\n        return this.rt().map(function (t) {\n          return t = t.replace(/\\\\/g, \"\\\\\\\\\").replace(/`/g, \"\\\\`\"), _i.ut(t) || (t = \"`\" + t + \"`\"), t;\n        }).join(\".\");\n      }, _i.prototype.toString = function () {\n        return this.ot();\n      }, _i.prototype.ht = function () {\n        return 1 === this.length && \"__name__\" === this.get(0);\n      }, _i.lt = function () {\n        return new _i([\"__name__\"]);\n      }, _i._t = function (t) {\n        for (var e = [], n = \"\", r = 0, i = function i() {\n          if (0 === n.length) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid field path (\" + t + \"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");\n          e.push(n), n = \"\";\n        }, o = !1; r < t.length;) {\n          var s = t[r];\n\n          if (\"\\\\\" === s) {\n            if (r + 1 === t.length) throw new Fr(qr.INVALID_ARGUMENT, \"Path has trailing escape character: \" + t);\n            var u = t[r + 1];\n            if (\"\\\\\" !== u && \".\" !== u && \"`\" !== u) throw new Fr(qr.INVALID_ARGUMENT, \"Path has invalid escape sequence: \" + t);\n            n += u, r += 2;\n          } else \"`\" === s ? o = !o : \".\" !== s || o ? n += s : i(), r++;\n        }\n\n        if (i(), o) throw new Fr(qr.INVALID_ARGUMENT, \"Unterminated ` in path: \" + t);\n        return new _i(e);\n      }, _i.at = function () {\n        return new _i([]);\n      }, _i),\n          bi = (Ii.ft = function (t) {\n        return new Ii(gi.ct(t));\n      }, Ii.dt = function (t) {\n        return new Ii(gi.ct(t).X(5));\n      }, Ii.prototype.wt = function (t) {\n        return 2 <= this.path.length && this.path.get(this.path.length - 2) === t;\n      }, Ii.prototype.isEqual = function (t) {\n        return null !== t && 0 === gi.J(this.path, t.path);\n      }, Ii.prototype.toString = function () {\n        return this.path.toString();\n      }, Ii.J = function (t, e) {\n        return gi.J(t.path, e.path);\n      }, Ii.Et = function (t) {\n        return t.length % 2 == 0;\n      }, Ii.Tt = function (t) {\n        return new Ii(new gi(t.slice()));\n      }, Ii);\n\n      function Ii(t) {\n        this.path = t;\n      }\n\n      function _i() {\n        return null !== pi && pi.apply(this, arguments) || this;\n      }\n\n      function Ei() {\n        return null !== di && di.apply(this, arguments) || this;\n      }\n\n      function Ti(t, e, n) {\n        void 0 === e ? e = 0 : e > t.length && Or(), void 0 === n ? n = t.length - e : n > t.length - e && Or(), this.segments = t, this.offset = e, this.H = n;\n      }\n\n      function Ni(t) {\n        this.timestamp = t;\n      }\n\n      function Si(t, e) {\n        if (this.seconds = t, (this.nanoseconds = e) < 0) throw new Fr(qr.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n        if (1e9 <= e) throw new Fr(qr.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n        if (t < -62135596800) throw new Fr(qr.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n        if (253402300800 <= t) throw new Fr(qr.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n      }\n\n      function Ai(t) {\n        var e,\n            n = 0;\n\n        for (e in t) Object.prototype.hasOwnProperty.call(t, e) && n++;\n\n        return n;\n      }\n\n      function xi(t, e) {\n        for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);\n      }\n\n      function Di(t) {\n        for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;\n\n        return !0;\n      }\n\n      var Oi = (Pi.prototype.It = function (t) {\n        for (var e = 0, n = this.fields; e < n.length; e++) if (n[e].st(t)) return !0;\n\n        return !1;\n      }, Pi.prototype.isEqual = function (t) {\n        return Rr(this.fields, t.fields, function (t, e) {\n          return t.isEqual(e);\n        });\n      }, Pi),\n          ki = new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);\n\n      function Pi(t) {\n        (this.fields = t).sort(wi.J);\n      }\n\n      function Li(t) {\n        if (kr(!!t), \"string\" != typeof t) return {\n          seconds: Ci(t.seconds),\n          nanos: Ci(t.nanos)\n        };\n        var e = 0,\n            n = ki.exec(t);\n        kr(!!n), n[1] && (n = ((n = n[1]) + \"000000000\").substr(0, 9), e = Number(n));\n        t = new Date(t);\n        return {\n          seconds: Math.floor(t.getTime() / 1e3),\n          nanos: e\n        };\n      }\n\n      function Ci(t) {\n        return \"number\" == typeof t ? t : \"string\" == typeof t ? Number(t) : 0;\n      }\n\n      function Ri(t) {\n        return \"string\" == typeof t ? Mr.fromBase64String(t) : Mr.fromUint8Array(t);\n      }\n\n      function Vi(t) {\n        return \"server_timestamp\" === (null === (t = ((null === (t = null == t ? void 0 : t.mapValue) || void 0 === t ? void 0 : t.fields) || {}).__type__) || void 0 === t ? void 0 : t.stringValue);\n      }\n\n      function Mi(t) {\n        t = Li(t.mapValue.fields.__local_write_time__.timestampValue);\n        return new yi(t.seconds, t.nanos);\n      }\n\n      function Ui(t) {\n        return null == t;\n      }\n\n      function ji(t) {\n        return 0 === t && 1 / t == -1 / 0;\n      }\n\n      function qi(t) {\n        return \"number\" == typeof t && Number.isInteger(t) && !ji(t) && t <= Number.MAX_SAFE_INTEGER && t >= Number.MIN_SAFE_INTEGER;\n      }\n\n      function Fi(t) {\n        return \"nullValue\" in t ? 0 : \"booleanValue\" in t ? 1 : \"integerValue\" in t || \"doubleValue\" in t ? 2 : \"timestampValue\" in t ? 3 : \"stringValue\" in t ? 5 : \"bytesValue\" in t ? 6 : \"referenceValue\" in t ? 7 : \"geoPointValue\" in t ? 8 : \"arrayValue\" in t ? 9 : \"mapValue\" in t ? Vi(t) ? 4 : 10 : Or();\n      }\n\n      function Hi(r, i) {\n        var t,\n            e = Fi(r);\n        if (e !== Fi(i)) return !1;\n\n        switch (e) {\n          case 0:\n            return !0;\n\n          case 1:\n            return r.booleanValue === i.booleanValue;\n\n          case 4:\n            return Mi(r).isEqual(Mi(i));\n\n          case 3:\n            return function (t) {\n              if (\"string\" == typeof r.timestampValue && \"string\" == typeof t.timestampValue && r.timestampValue.length === t.timestampValue.length) return r.timestampValue === t.timestampValue;\n              var e = Li(r.timestampValue),\n                  t = Li(t.timestampValue);\n              return e.seconds === t.seconds && e.nanos === t.nanos;\n            }(i);\n\n          case 5:\n            return r.stringValue === i.stringValue;\n\n          case 6:\n            return t = i, Ri(r.bytesValue).isEqual(Ri(t.bytesValue));\n\n          case 7:\n            return r.referenceValue === i.referenceValue;\n\n          case 8:\n            return e = i, Ci((t = r).geoPointValue.latitude) === Ci(e.geoPointValue.latitude) && Ci(t.geoPointValue.longitude) === Ci(e.geoPointValue.longitude);\n\n          case 2:\n            return function (t, e) {\n              if (\"integerValue\" in t && \"integerValue\" in e) return Ci(t.integerValue) === Ci(e.integerValue);\n\n              if (\"doubleValue\" in t && \"doubleValue\" in e) {\n                t = Ci(t.doubleValue), e = Ci(e.doubleValue);\n                return t === e ? ji(t) === ji(e) : isNaN(t) && isNaN(e);\n              }\n\n              return !1;\n            }(r, i);\n\n          case 9:\n            return Rr(r.arrayValue.values || [], i.arrayValue.values || [], Hi);\n\n          case 10:\n            return function () {\n              var t,\n                  e = r.mapValue.fields || {},\n                  n = i.mapValue.fields || {};\n              if (Ai(e) !== Ai(n)) return !1;\n\n              for (t in e) if (e.hasOwnProperty(t) && (void 0 === n[t] || !Hi(e[t], n[t]))) return !1;\n\n              return !0;\n            }();\n\n          default:\n            return Or();\n        }\n      }\n\n      function Bi(t, e) {\n        return void 0 !== (t.values || []).find(function (t) {\n          return Hi(t, e);\n        });\n      }\n\n      function Gi(t, e) {\n        var n,\n            r,\n            i = Fi(t),\n            o = Fi(e);\n        if (i !== o) return Cr(i, o);\n\n        switch (i) {\n          case 0:\n            return 0;\n\n          case 1:\n            return Cr(t.booleanValue, e.booleanValue);\n\n          case 2:\n            return n = e, r = Ci(t.integerValue || t.doubleValue), n = Ci(n.integerValue || n.doubleValue), r < n ? -1 : n < r ? 1 : r === n ? 0 : isNaN(r) ? isNaN(n) ? 0 : -1 : 1;\n\n          case 3:\n            return zi(t.timestampValue, e.timestampValue);\n\n          case 4:\n            return zi(Mi(t), Mi(e));\n\n          case 5:\n            return Cr(t.stringValue, e.stringValue);\n\n          case 6:\n            return function (t, e) {\n              t = Ri(t), e = Ri(e);\n              return t.u(e);\n            }(t.bytesValue, e.bytesValue);\n\n          case 7:\n            return function (t, e) {\n              for (var n = t.split(\"/\"), r = e.split(\"/\"), i = 0; i < n.length && i < r.length; i++) {\n                var o = Cr(n[i], r[i]);\n                if (0 !== o) return o;\n              }\n\n              return Cr(n.length, r.length);\n            }(t.referenceValue, e.referenceValue);\n\n          case 8:\n            return i = t.geoPointValue, r = e.geoPointValue, 0 !== (n = Cr(Ci(i.latitude), Ci(r.latitude))) ? n : Cr(Ci(i.longitude), Ci(r.longitude));\n\n          case 9:\n            return function (t, e) {\n              for (var n = t.values || [], r = e.values || [], i = 0; i < n.length && i < r.length; ++i) {\n                var o = Gi(n[i], r[i]);\n                if (o) return o;\n              }\n\n              return Cr(n.length, r.length);\n            }(t.arrayValue, e.arrayValue);\n\n          case 10:\n            return function (t, e) {\n              var n = t.fields || {},\n                  r = Object.keys(n),\n                  i = e.fields || {},\n                  o = Object.keys(i);\n              r.sort(), o.sort();\n\n              for (var s = 0; s < r.length && s < o.length; ++s) {\n                var u = Cr(r[s], o[s]);\n                if (0 !== u) return u;\n                u = Gi(n[r[s]], i[o[s]]);\n                if (0 !== u) return u;\n              }\n\n              return Cr(r.length, o.length);\n            }(t.mapValue, e.mapValue);\n\n          default:\n            throw Or();\n        }\n      }\n\n      function zi(t, e) {\n        if (\"string\" == typeof t && \"string\" == typeof e && t.length === e.length) return Cr(t, e);\n        var n = Li(t),\n            t = Li(e),\n            e = Cr(n.seconds, t.seconds);\n        return 0 !== e ? e : Cr(n.nanos, t.nanos);\n      }\n\n      function Ki(t) {\n        return function s(t) {\n          return \"nullValue\" in t ? \"null\" : \"booleanValue\" in t ? \"\" + t.booleanValue : \"integerValue\" in t ? \"\" + t.integerValue : \"doubleValue\" in t ? \"\" + t.doubleValue : \"timestampValue\" in t ? function (t) {\n            var t = Li(t);\n            return \"time(\" + t.seconds + \",\" + t.nanos + \")\";\n          }(t.timestampValue) : \"stringValue\" in t ? t.stringValue : \"bytesValue\" in t ? Ri(t.bytesValue).toBase64() : \"referenceValue\" in t ? (e = t.referenceValue, bi.dt(e).toString()) : \"geoPointValue\" in t ? \"geo(\" + (e = t.geoPointValue).latitude + \",\" + e.longitude + \")\" : \"arrayValue\" in t ? function (t) {\n            for (var e = \"[\", n = !0, r = 0, i = t.values || []; r < i.length; r++) n ? n = !1 : e += \",\", e += s(i[r]);\n\n            return e + \"]\";\n          }(t.arrayValue) : \"mapValue\" in t ? function (t) {\n            for (var e = \"{\", n = !0, r = 0, i = Object.keys(t.fields || {}).sort(); r < i.length; r++) {\n              var o = i[r];\n              n ? n = !1 : e += \",\", e += o + \":\" + s(t.fields[o]);\n            }\n\n            return e + \"}\";\n          }(t.mapValue) : Or();\n          var e;\n        }(t);\n      }\n\n      function Ji(t, e) {\n        return {\n          referenceValue: \"projects/\" + t.projectId + \"/databases/\" + t.database + \"/documents/\" + e.path.ot()\n        };\n      }\n\n      function Wi(t) {\n        return t && \"integerValue\" in t;\n      }\n\n      function Xi(t) {\n        return !!t && \"arrayValue\" in t;\n      }\n\n      function Yi(t) {\n        return t && \"nullValue\" in t;\n      }\n\n      function Qi(t) {\n        return t && \"doubleValue\" in t && isNaN(Number(t.doubleValue));\n      }\n\n      function $i(t) {\n        return t && \"mapValue\" in t;\n      }\n\n      var Zi = (no.empty = function () {\n        return new no({\n          mapValue: {}\n        });\n      }, no.prototype.field = function (t) {\n        if (t.nt()) return this.proto;\n\n        for (var e = this.proto, n = 0; n < t.length - 1; ++n) {\n          if (!e.mapValue.fields) return null;\n          if (!$i(e = e.mapValue.fields[t.get(n)])) return null;\n        }\n\n        return (e = (e.mapValue.fields || {})[t.et()]) || null;\n      }, no.prototype.isEqual = function (t) {\n        return Hi(this.proto, t.proto);\n      }, no),\n          to = (eo.prototype.set = function (t, e) {\n        return this.Pt(t, e), this;\n      }, eo.prototype.delete = function (t) {\n        return this.Pt(t, null), this;\n      }, eo.prototype.Pt = function (t, e) {\n        for (var n = this.Rt, r = 0; r < t.length - 1; ++r) var i = t.get(r), o = n.get(i), n = (o instanceof Map || (o = o && 10 === Fi(o) ? new Map(Object.entries(o.mapValue.fields || {})) : new Map(), n.set(i, o)), o);\n\n        n.set(t.et(), e);\n      }, eo.prototype.yt = function () {\n        var t = this.gt(wi.at(), this.Rt);\n        return null != t ? new Zi(t) : this.At;\n      }, eo.prototype.gt = function (r, t) {\n        var i = this,\n            o = !1,\n            e = this.At.field(r),\n            s = $i(e) ? Object.assign({}, e.mapValue.fields) : {};\n        return t.forEach(function (t, e) {\n          var n;\n          t instanceof Map ? null != (n = i.gt(r.child(e), t)) && (s[e] = n, o = !0) : null !== t ? (s[e] = t, o = !0) : s.hasOwnProperty(e) && (delete s[e], o = !0);\n        }), o ? {\n          mapValue: {\n            fields: s\n          }\n        } : null;\n      }, eo);\n\n      function eo(t) {\n        void 0 === t && (t = Zi.empty()), this.At = t, this.Rt = new Map();\n      }\n\n      function no(t) {\n        this.proto = t;\n      }\n\n      var ro,\n          io,\n          oo,\n          o = function o(t, e) {\n        this.key = t, this.version = e;\n      },\n          so = (h(lo, oo = o), lo.prototype.field = function (t) {\n        return this.Vt.field(t);\n      }, lo.prototype.data = function () {\n        return this.Vt;\n      }, lo.prototype.vt = function () {\n        return this.Vt.proto;\n      }, lo.prototype.isEqual = function (t) {\n        return t instanceof lo && this.key.isEqual(t.key) && this.version.isEqual(t.version) && this.bt === t.bt && this.hasCommittedMutations === t.hasCommittedMutations && this.Vt.isEqual(t.Vt);\n      }, lo.prototype.toString = function () {\n        return \"Document(\" + this.key + \", \" + this.version + \", \" + this.Vt.toString() + \", {hasLocalMutations: \" + this.bt + \"}), {hasCommittedMutations: \" + this.hasCommittedMutations + \"})\";\n      }, Object.defineProperty(lo.prototype, \"hasPendingWrites\", {\n        get: function get() {\n          return this.bt || this.hasCommittedMutations;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), lo),\n          uo = (h(fo, io = o), fo.prototype.toString = function () {\n        return \"NoDocument(\" + this.key + \", \" + this.version + \")\";\n      }, Object.defineProperty(fo.prototype, \"hasPendingWrites\", {\n        get: function get() {\n          return this.hasCommittedMutations;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), fo.prototype.isEqual = function (t) {\n        return t instanceof fo && t.hasCommittedMutations === this.hasCommittedMutations && t.version.isEqual(this.version) && t.key.isEqual(this.key);\n      }, fo),\n          ao = (h(ho, ro = o), ho.prototype.toString = function () {\n        return \"UnknownDocument(\" + this.key + \", \" + this.version + \")\";\n      }, Object.defineProperty(ho.prototype, \"hasPendingWrites\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), ho.prototype.isEqual = function (t) {\n        return t instanceof ho && t.version.isEqual(this.version) && t.key.isEqual(this.key);\n      }, ho),\n          co = function co(t, e, n, r, i, o, s) {\n        void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = null), void 0 === s && (s = null), this.path = t, this.collectionGroup = e, this.orderBy = n, this.filters = r, this.limit = i, this.startAt = o, this.endAt = s, this.St = null;\n      };\n\n      function ho() {\n        return null !== ro && ro.apply(this, arguments) || this;\n      }\n\n      function fo(t, e, n) {\n        var r = this;\n        return (r = io.call(this, t, e) || this).hasCommittedMutations = !(!n || !n.hasCommittedMutations), r;\n      }\n\n      function lo(t, e, n, r) {\n        var i = this;\n        return (i = oo.call(this, t, e) || this).Vt = n, i.bt = !!r.bt, i.hasCommittedMutations = !!r.hasCommittedMutations, i;\n      }\n\n      function po(t, e, n, r, i, o, s) {\n        return void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = null), void 0 === s && (s = null), new co(t, e, n, r, i, o, s);\n      }\n\n      function yo(t) {\n        var e = t;\n        return null === e.St && (t = e.path.ot(), null !== e.collectionGroup && (t += \"|cg:\" + e.collectionGroup), t += \"|f:\", t += e.filters.map(function (t) {\n          return (t = t).field.ot() + t.op.toString() + Ki(t.value);\n        }).join(\",\"), t += \"|ob:\", t += e.orderBy.map(function (t) {\n          return (t = t).field.ot() + t.dir;\n        }).join(\",\"), Ui(e.limit) || (t += \"|l:\", t += e.limit), e.startAt && (t += \"|lb:\", t += Go(e.startAt)), e.endAt && (t += \"|ub:\", t += Go(e.endAt)), e.St = t), e.St;\n      }\n\n      function vo(t, e) {\n        if (t.limit !== e.limit) return !1;\n        if (t.orderBy.length !== e.orderBy.length) return !1;\n\n        for (var n, r, i = 0; i < t.orderBy.length; i++) if (n = t.orderBy[i], r = e.orderBy[i], n.dir !== r.dir || !n.field.isEqual(r.field)) return !1;\n\n        if (t.filters.length !== e.filters.length) return !1;\n\n        for (var o, s, u = 0; u < t.filters.length; u++) if (o = t.filters[u], s = e.filters[u], o.op !== s.op || !o.field.isEqual(s.field) || !Hi(o.value, s.value)) return !1;\n\n        return t.collectionGroup === e.collectionGroup && !!t.path.isEqual(e.path) && !!Jo(t.startAt, e.startAt) && Jo(t.endAt, e.endAt);\n      }\n\n      function go(t) {\n        return bi.Et(t.path) && null === t.collectionGroup && 0 === t.filters.length;\n      }\n\n      var mo,\n          wo = (h(bo, mo = function mo() {}), bo.create = function (t, e, n) {\n        return t.ht() ? \"in\" === e || \"not-in\" === e ? this.Dt(t, e, n) : new To(t, e, n) : \"array-contains\" === e ? new Ro(t, n) : \"in\" === e ? new Vo(t, n) : \"not-in\" === e ? new Mo(t, n) : \"array-contains-any\" === e ? new Uo(t, n) : new bo(t, e, n);\n      }, bo.Dt = function (t, e, n) {\n        return new (\"in\" === e ? No : So)(t, n);\n      }, bo.prototype.matches = function (t) {\n        t = t.field(this.field);\n        return \"!=\" === this.op ? null !== t && this.Ct(Gi(t, this.value)) : null !== t && Fi(this.value) === Fi(t) && this.Ct(Gi(t, this.value));\n      }, bo.prototype.Ct = function (t) {\n        switch (this.op) {\n          case \"<\":\n            return t < 0;\n\n          case \"<=\":\n            return t <= 0;\n\n          case \"==\":\n            return 0 === t;\n\n          case \"!=\":\n            return 0 !== t;\n\n          case \">\":\n            return 0 < t;\n\n          case \">=\":\n            return 0 <= t;\n\n          default:\n            return Or();\n        }\n      }, bo.prototype.xt = function () {\n        return 0 <= [\"<\", \"<=\", \">\", \">=\", \"!=\", \"not-in\"].indexOf(this.op);\n      }, bo);\n\n      function bo(t, e, n) {\n        var r = this;\n        return (r = mo.call(this) || this).field = t, r.op = e, r.value = n, r;\n      }\n\n      var Io,\n          _o,\n          Eo,\n          To = (h(Do, Eo = wo), Do.prototype.matches = function (t) {\n        t = bi.J(t.key, this.key);\n        return this.Ct(t);\n      }, Do),\n          No = (h(xo, _o = wo), xo.prototype.matches = function (e) {\n        return this.keys.some(function (t) {\n          return t.isEqual(e.key);\n        });\n      }, xo),\n          So = (h(Ao, Io = wo), Ao.prototype.matches = function (e) {\n        return !this.keys.some(function (t) {\n          return t.isEqual(e.key);\n        });\n      }, Ao);\n\n      function Ao(t, e) {\n        var n = this;\n        return (n = Io.call(this, t, \"not-in\", e) || this).keys = Oo(0, e), n;\n      }\n\n      function xo(t, e) {\n        var n = this;\n        return (n = _o.call(this, t, \"in\", e) || this).keys = Oo(0, e), n;\n      }\n\n      function Do(t, e, n) {\n        var r = this;\n        return (r = Eo.call(this, t, e, n) || this).key = bi.dt(n.referenceValue), r;\n      }\n\n      function Oo(t, e) {\n        return ((null === (e = e.arrayValue) || void 0 === e ? void 0 : e.values) || []).map(function (t) {\n          return bi.dt(t.referenceValue);\n        });\n      }\n\n      var ko,\n          Po,\n          Lo,\n          Co,\n          Ro = (h(Bo, Co = wo), Bo.prototype.matches = function (t) {\n        t = t.field(this.field);\n        return Xi(t) && Bi(t.arrayValue, this.value);\n      }, Bo),\n          Vo = (h(Ho, Lo = wo), Ho.prototype.matches = function (t) {\n        t = t.field(this.field);\n        return null !== t && Bi(this.value.arrayValue, t);\n      }, Ho),\n          Mo = (h(Fo, Po = wo), Fo.prototype.matches = function (t) {\n        if (Bi(this.value.arrayValue, {\n          nullValue: \"NULL_VALUE\"\n        })) return !1;\n        t = t.field(this.field);\n        return null !== t && !Bi(this.value.arrayValue, t);\n      }, Fo),\n          Uo = (h(qo, ko = wo), qo.prototype.matches = function (t) {\n        var e = this,\n            t = t.field(this.field);\n        return !(!Xi(t) || !t.arrayValue.values) && t.arrayValue.values.some(function (t) {\n          return Bi(e.value.arrayValue, t);\n        });\n      }, qo),\n          jo = function jo(t, e) {\n        this.position = t, this.before = e;\n      };\n\n      function qo(t, e) {\n        return ko.call(this, t, \"array-contains-any\", e) || this;\n      }\n\n      function Fo(t, e) {\n        return Po.call(this, t, \"not-in\", e) || this;\n      }\n\n      function Ho(t, e) {\n        return Lo.call(this, t, \"in\", e) || this;\n      }\n\n      function Bo(t, e) {\n        return Co.call(this, t, \"array-contains\", e) || this;\n      }\n\n      function Go(t) {\n        return (t.before ? \"b\" : \"a\") + \":\" + t.position.map(Ki).join(\",\");\n      }\n\n      var zo = function zo(t, e) {\n        void 0 === e && (e = \"asc\"), this.field = t, this.dir = e;\n      };\n\n      function Ko(t, e, n) {\n        for (var r = 0, i = 0; i < t.position.length; i++) {\n          var o = e[i],\n              s = t.position[i],\n              r = o.field.ht() ? bi.J(bi.dt(s.referenceValue), n.key) : Gi(s, n.field(o.field));\n          if (\"desc\" === o.dir && (r *= -1), 0 !== r) break;\n        }\n\n        return t.before ? r <= 0 : r < 0;\n      }\n\n      function Jo(t, e) {\n        if (null === t) return null === e;\n        if (null === e) return !1;\n        if (t.before !== e.before || t.position.length !== e.position.length) return !1;\n\n        for (var n = 0; n < t.position.length; n++) if (!Hi(t.position[n], e.position[n])) return !1;\n\n        return !0;\n      }\n\n      var Wo = function Wo(t, e, n, r, i, o, s, u) {\n        void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === o && (o = \"F\"), void 0 === s && (s = null), void 0 === u && (u = null), this.path = t, this.collectionGroup = e, this.Nt = n, this.filters = r, this.limit = i, this.limitType = o, this.startAt = s, this.endAt = u, this.Ot = null, this.Ft = null, this.startAt, this.endAt;\n      };\n\n      function Xo(t, e, n, r, i, o, s, u) {\n        return new Wo(t, e, n, r, i, o, s, u);\n      }\n\n      function Yo(t) {\n        return new Wo(t);\n      }\n\n      function Qo(t) {\n        return !Ui(t.limit) && \"F\" === t.limitType;\n      }\n\n      function $o(t) {\n        return !Ui(t.limit) && \"L\" === t.limitType;\n      }\n\n      function Zo(t) {\n        return 0 < t.Nt.length ? t.Nt[0].field : null;\n      }\n\n      function ts(t) {\n        for (var e = 0, n = t.filters; e < n.length; e++) {\n          var r = n[e];\n          if (r.xt()) return r.field;\n        }\n\n        return null;\n      }\n\n      function es(t) {\n        return null !== t.collectionGroup;\n      }\n\n      function ns(t) {\n        var e = t;\n\n        if (null === e.Ot) {\n          e.Ot = [];\n          var n = ts(e),\n              t = Zo(e);\n          if (null !== n && null === t) n.ht() || e.Ot.push(new zo(n)), e.Ot.push(new zo(wi.lt(), \"asc\"));else {\n            for (var r = !1, i = 0, o = e.Nt; i < o.length; i++) {\n              var s = o[i];\n              e.Ot.push(s), s.field.ht() && (r = !0);\n            }\n\n            r || (n = 0 < e.Nt.length ? e.Nt[e.Nt.length - 1].dir : \"asc\", e.Ot.push(new zo(wi.lt(), n)));\n          }\n        }\n\n        return e.Ot;\n      }\n\n      function rs(t) {\n        var e = t;\n        if (!e.Ft) if (\"F\" === e.limitType) e.Ft = po(e.path, e.collectionGroup, ns(e), e.filters, e.limit, e.startAt, e.endAt);else {\n          for (var n = [], r = 0, i = ns(e); r < i.length; r++) {\n            var o = i[r],\n                s = \"desc\" === o.dir ? \"asc\" : \"desc\";\n            n.push(new zo(o.field, s));\n          }\n\n          var u = e.endAt ? new jo(e.endAt.position, !e.endAt.before) : null,\n              t = e.startAt ? new jo(e.startAt.position, !e.startAt.before) : null;\n          e.Ft = po(e.path, e.collectionGroup, n, e.filters, e.limit, u, t);\n        }\n        return e.Ft;\n      }\n\n      function is(t, e, n) {\n        return new Wo(t.path, t.collectionGroup, t.Nt.slice(), t.filters.slice(), e, n, t.startAt, t.endAt);\n      }\n\n      function os(t, e) {\n        return vo(rs(t), rs(e)) && t.limitType === e.limitType;\n      }\n\n      function ss(t) {\n        return yo(rs(t)) + \"|lt:\" + t.limitType;\n      }\n\n      function us(t) {\n        return \"Query(target=\" + (e = rs(t), n = e.path.ot(), null !== e.collectionGroup && (n += \" collectionGroup=\" + e.collectionGroup), 0 < e.filters.length && (n += \", filters: [\" + e.filters.map(function (t) {\n          return (t = t).field.ot() + \" \" + t.op + \" \" + Ki(t.value);\n        }).join(\", \") + \"]\"), Ui(e.limit) || (n += \", limit: \" + e.limit), 0 < e.orderBy.length && (n += \", orderBy: [\" + e.orderBy.map(function (t) {\n          return (t = t).field.ot() + \" (\" + t.dir + \")\";\n        }).join(\", \") + \"]\"), e.startAt && (n += \", startAt: \" + Go(e.startAt)), e.endAt && (n += \", endAt: \" + Go(e.endAt)), \"Target(\" + n + \")\") + \"; limitType=\" + t.limitType + \")\";\n        var e, n;\n      }\n\n      function as(i, t) {\n        return e = i, n = t.key.path, (null !== e.collectionGroup ? t.key.wt(e.collectionGroup) && e.path.st(n) : bi.Et(e.path) ? e.path.isEqual(n) : e.path.it(n)) && function (t) {\n          for (var e = 0, n = i.Nt; e < n.length; e++) {\n            var r = n[e];\n            if (!r.field.ht() && null === t.field(r.field)) return;\n          }\n\n          return 1;\n        }(t) && function (t) {\n          for (var e = 0, n = i.filters; e < n.length; e++) if (!n[e].matches(t)) return;\n\n          return 1;\n        }(t) && (n = t, (!(t = i).startAt || Ko(t.startAt, ns(t), n)) && (!t.endAt || !Ko(t.endAt, ns(t), n)));\n        var e, n;\n      }\n\n      function cs(u) {\n        return function (t, e) {\n          for (var n = !1, r = 0, i = ns(u); r < i.length; r++) {\n            var o = i[r],\n                s = function (t, r, e) {\n              e = t.field.ht() ? bi.J(r.key, e.key) : function (t, e) {\n                var n = r.field(t),\n                    t = e.field(t);\n                return null !== n && null !== t ? Gi(n, t) : Or();\n              }(t.field, e);\n\n              switch (t.dir) {\n                case \"asc\":\n                  return e;\n\n                case \"desc\":\n                  return -1 * e;\n\n                default:\n                  return Or();\n              }\n            }(o, t, e);\n\n            if (0 !== s) return s;\n            n = n || o.field.ht();\n          }\n\n          return 0;\n        };\n      }\n\n      var hs = (fs.prototype.Lt = function (t) {\n        return new fs(this.target, this.targetId, this.kt, t, this.Mt, this.lastLimboFreeSnapshotVersion, this.resumeToken);\n      }, fs.prototype.$t = function (t, e) {\n        return new fs(this.target, this.targetId, this.kt, this.sequenceNumber, e, this.lastLimboFreeSnapshotVersion, t);\n      }, fs.prototype.Bt = function (t) {\n        return new fs(this.target, this.targetId, this.kt, this.sequenceNumber, this.Mt, t, this.resumeToken);\n      }, fs);\n\n      function fs(t, e, n, r, i, o, s) {\n        void 0 === i && (i = vi.min()), void 0 === o && (o = vi.min()), void 0 === s && (s = Mr.h), this.target = t, this.targetId = e, this.kt = n, this.sequenceNumber = r, this.Mt = i, this.lastLimboFreeSnapshotVersion = o, this.resumeToken = s;\n      }\n\n      function ls(t, e) {\n        if (t.qt) {\n          if (isNaN(e)) return {\n            doubleValue: \"NaN\"\n          };\n          if (e === 1 / 0) return {\n            doubleValue: \"Infinity\"\n          };\n          if (e === -1 / 0) return {\n            doubleValue: \"-Infinity\"\n          };\n        }\n\n        return {\n          doubleValue: ji(e) ? \"-0\" : e\n        };\n      }\n\n      function ps(t) {\n        return {\n          integerValue: \"\" + t\n        };\n      }\n\n      function ds(t, e) {\n        return qi(e) ? ps(e) : ls(t, e);\n      }\n\n      Ee = function Ee() {\n        this.Ut = void 0;\n      };\n\n      function ys(t, e) {\n        return t instanceof xs ? Wi(t = e) || t && \"doubleValue\" in t ? e : {\n          integerValue: 0\n        } : null;\n      }\n\n      var vs,\n          gs,\n          ms = (h(Is, gs = Ee), Is),\n          ws = (h(bs, vs = Ee), bs);\n\n      function bs(t) {\n        var e = this;\n        return (e = vs.call(this) || this).elements = t, e;\n      }\n\n      function Is() {\n        return null !== gs && gs.apply(this, arguments) || this;\n      }\n\n      function _s(t, e) {\n        for (var n = ks(e), r = 0, i = t.elements; r < i.length; r++) !function (e) {\n          n.some(function (t) {\n            return Hi(t, e);\n          }) || n.push(e);\n        }(i[r]);\n\n        return {\n          arrayValue: {\n            values: n\n          }\n        };\n      }\n\n      var Es,\n          Ts = (h(Ns, Es = Ee), Ns);\n\n      function Ns(t) {\n        var e = this;\n        return (e = Es.call(this) || this).elements = t, e;\n      }\n\n      function Ss(t, e) {\n        for (var n = ks(e), r = 0, i = t.elements; r < i.length; r++) !function (e) {\n          n = n.filter(function (t) {\n            return !Hi(t, e);\n          });\n        }(i[r]);\n\n        return {\n          arrayValue: {\n            values: n\n          }\n        };\n      }\n\n      var As,\n          xs = (h(Ds, As = Ee), Ds);\n\n      function Ds(t, e) {\n        var n = this;\n        return (n = As.call(this) || this).Kt = t, n.Qt = e, n;\n      }\n\n      function Os(t) {\n        return Ci(t.integerValue || t.doubleValue);\n      }\n\n      function ks(t) {\n        return Xi(t) && t.arrayValue.values ? t.arrayValue.values.slice() : [];\n      }\n\n      function Ps(t, e) {\n        this.version = t, this.transformResults = e;\n      }\n\n      var Ls = function Ls(t, e) {\n        this.field = t, this.transform = e;\n      },\n          Cs = (Rs.jt = function () {\n        return new Rs();\n      }, Rs.exists = function (t) {\n        return new Rs(void 0, t);\n      }, Rs.updateTime = function (t) {\n        return new Rs(t);\n      }, Object.defineProperty(Rs.prototype, \"Wt\", {\n        get: function get() {\n          return void 0 === this.updateTime && void 0 === this.exists;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Rs.prototype.isEqual = function (t) {\n        return this.exists === t.exists && (this.updateTime ? !!t.updateTime && this.updateTime.isEqual(t.updateTime) : !t.updateTime);\n      }, Rs);\n\n      function Rs(t, e) {\n        this.updateTime = t, this.exists = e;\n      }\n\n      function Vs(t, e) {\n        return void 0 !== t.updateTime ? e instanceof so && e.version.isEqual(t.updateTime) : void 0 === t.exists || t.exists === e instanceof so;\n      }\n\n      o = function o() {};\n\n      function Ms(t, e, n, r) {\n        return t instanceof Hs ? function (t, e, n) {\n          if (!Vs(t.Gt, e)) return e;\n          var r = t.value,\n              n = Ws(t.fieldTransforms, n, e),\n              r = Xs(t.fieldTransforms, r, n),\n              e = js(e);\n          return new so(t.key, e, r, {\n            bt: !0\n          });\n        }(t, e, r) : t instanceof Bs ? function (t, e, n) {\n          if (!Vs(t.Gt, e)) return e;\n          var r = js(e),\n              e = Ks(t, e, Ws(t.fieldTransforms, n, e));\n          return new so(t.key, r, e, {\n            bt: !0\n          });\n        }(t, e, r) : (e = e, Vs((t = t).Gt, e) ? new uo(t.key, vi.min()) : e);\n      }\n\n      function Us(t, e) {\n        return t.type === e.type && !!t.key.isEqual(e.key) && !!t.Gt.isEqual(e.Gt) && (n = t.fieldTransforms, r = e.fieldTransforms, !!(void 0 === n && void 0 === r || n && r && Rr(n, r, function (t, e) {\n          return e = e, (t = t).field.isEqual(e.field) && (t = t.transform, e = e.transform, t instanceof ws && e instanceof ws || t instanceof Ts && e instanceof Ts ? Rr(t.elements, e.elements, Hi) : t instanceof xs && e instanceof xs ? Hi(t.Qt, e.Qt) : t instanceof ms && e instanceof ms);\n        }))) && (0 === t.type ? t.value.isEqual(e.value) : 1 !== t.type || t.data.isEqual(e.data) && t.zt.isEqual(e.zt));\n        var n, r;\n      }\n\n      function js(t) {\n        return t instanceof so ? t.version : vi.min();\n      }\n\n      var qs,\n          Fs,\n          Hs = (h(zs, Fs = o), zs),\n          Bs = (h(Gs, qs = o), Gs);\n\n      function Gs(t, e, n, r, i) {\n        void 0 === i && (i = []);\n        var o = this;\n        return (o = qs.call(this) || this).key = t, o.data = e, o.zt = n, o.Gt = r, o.fieldTransforms = i, o.type = 1, o;\n      }\n\n      function zs(t, e, n, r) {\n        void 0 === r && (r = []);\n        var i = this;\n        return (i = Fs.call(this) || this).key = t, i.value = e, i.Gt = n, i.fieldTransforms = r, i.type = 0, i;\n      }\n\n      function Ks(t, e, n) {\n        var r, i, o;\n        return i = t, e = r = e instanceof so ? e.data() : Zi.empty(), o = new to(e), i.zt.fields.forEach(function (t) {\n          var e;\n          t.nt() || (null !== (e = i.data.field(t)) ? o.set(t, e) : o.delete(t));\n        }), r = o.yt(), Xs(t.fieldTransforms, r, n);\n      }\n\n      function Js(t, e, n) {\n        var r = [];\n        kr(t.length === n.length);\n\n        for (var i = 0; i < n.length; i++) {\n          var o = t[i],\n              s = o.transform,\n              u = null;\n          e instanceof so && (u = e.field(o.field)), r.push((o = s, s = u, u = n[i], o instanceof ws ? _s(o, s) : o instanceof Ts ? Ss(o, s) : u));\n        }\n\n        return r;\n      }\n\n      function Ws(t, e, n) {\n        for (var r, i = [], o = 0, s = t; o < s.length; o++) {\n          var u = s[o],\n              a = u.transform,\n              c = null;\n          n instanceof so && (c = n.field(u.field)), i.push((r = c, u = e, c = void 0, (a = a) instanceof ms ? (c = {\n            fields: {\n              __type__: {\n                stringValue: \"server_timestamp\"\n              },\n              __local_write_time__: {\n                timestampValue: {\n                  seconds: u.seconds,\n                  nanos: u.nanoseconds\n                }\n              }\n            }\n          }, r && (c.fields.__previous_value__ = r), {\n            mapValue: c\n          }) : a instanceof ws ? _s(a, r) : a instanceof Ts ? Ss(a, r) : (a = ys(c = a, r), r = Os(a) + Os(c.Qt), Wi(a) && Wi(c.Qt) ? ps(r) : ls(c.Kt, r))));\n        }\n\n        return i;\n      }\n\n      function Xs(t, e, n) {\n        for (var r = new to(e), i = 0; i < t.length; i++) {\n          var o = t[i];\n          r.set(o.field, n[i]);\n        }\n\n        return r.yt();\n      }\n\n      function Ys(t) {\n        this.count = t;\n      }\n\n      var Qs,\n          $s,\n          Zs,\n          tu = (h(ru, Zs = o), ru),\n          eu = (h(nu, $s = o), nu);\n\n      function nu(t, e) {\n        var n = this;\n        return (n = $s.call(this) || this).key = t, n.Gt = e, n.type = 3, n.fieldTransforms = [], n;\n      }\n\n      function ru(t, e) {\n        var n = this;\n        return (n = Zs.call(this) || this).key = t, n.Gt = e, n.type = 2, n.fieldTransforms = [], n;\n      }\n\n      function iu(t) {\n        switch (t) {\n          case qr.OK:\n            return Or(), 0;\n\n          case qr.CANCELLED:\n          case qr.UNKNOWN:\n          case qr.DEADLINE_EXCEEDED:\n          case qr.RESOURCE_EXHAUSTED:\n          case qr.INTERNAL:\n          case qr.UNAVAILABLE:\n          case qr.UNAUTHENTICATED:\n            return;\n\n          case qr.INVALID_ARGUMENT:\n          case qr.NOT_FOUND:\n          case qr.ALREADY_EXISTS:\n          case qr.PERMISSION_DENIED:\n          case qr.FAILED_PRECONDITION:\n          case qr.ABORTED:\n          case qr.OUT_OF_RANGE:\n          case qr.UNIMPLEMENTED:\n          case qr.DATA_LOSS:\n            return 1;\n\n          default:\n            return Or(), 0;\n        }\n      }\n\n      function ou(t) {\n        if (void 0 === t) return Ar(\"GRPC error has no .code\"), qr.UNKNOWN;\n\n        switch (t) {\n          case Qs.OK:\n            return qr.OK;\n\n          case Qs.CANCELLED:\n            return qr.CANCELLED;\n\n          case Qs.UNKNOWN:\n            return qr.UNKNOWN;\n\n          case Qs.DEADLINE_EXCEEDED:\n            return qr.DEADLINE_EXCEEDED;\n\n          case Qs.RESOURCE_EXHAUSTED:\n            return qr.RESOURCE_EXHAUSTED;\n\n          case Qs.INTERNAL:\n            return qr.INTERNAL;\n\n          case Qs.UNAVAILABLE:\n            return qr.UNAVAILABLE;\n\n          case Qs.UNAUTHENTICATED:\n            return qr.UNAUTHENTICATED;\n\n          case Qs.INVALID_ARGUMENT:\n            return qr.INVALID_ARGUMENT;\n\n          case Qs.NOT_FOUND:\n            return qr.NOT_FOUND;\n\n          case Qs.ALREADY_EXISTS:\n            return qr.ALREADY_EXISTS;\n\n          case Qs.PERMISSION_DENIED:\n            return qr.PERMISSION_DENIED;\n\n          case Qs.FAILED_PRECONDITION:\n            return qr.FAILED_PRECONDITION;\n\n          case Qs.ABORTED:\n            return qr.ABORTED;\n\n          case Qs.OUT_OF_RANGE:\n            return qr.OUT_OF_RANGE;\n\n          case Qs.UNIMPLEMENTED:\n            return qr.UNIMPLEMENTED;\n\n          case Qs.DATA_LOSS:\n            return qr.DATA_LOSS;\n\n          default:\n            return Or();\n        }\n      }\n\n      (Ee = Qs = Qs || {})[Ee.OK = 0] = \"OK\", Ee[Ee.CANCELLED = 1] = \"CANCELLED\", Ee[Ee.UNKNOWN = 2] = \"UNKNOWN\", Ee[Ee.INVALID_ARGUMENT = 3] = \"INVALID_ARGUMENT\", Ee[Ee.DEADLINE_EXCEEDED = 4] = \"DEADLINE_EXCEEDED\", Ee[Ee.NOT_FOUND = 5] = \"NOT_FOUND\", Ee[Ee.ALREADY_EXISTS = 6] = \"ALREADY_EXISTS\", Ee[Ee.PERMISSION_DENIED = 7] = \"PERMISSION_DENIED\", Ee[Ee.UNAUTHENTICATED = 16] = \"UNAUTHENTICATED\", Ee[Ee.RESOURCE_EXHAUSTED = 8] = \"RESOURCE_EXHAUSTED\", Ee[Ee.FAILED_PRECONDITION = 9] = \"FAILED_PRECONDITION\", Ee[Ee.ABORTED = 10] = \"ABORTED\", Ee[Ee.OUT_OF_RANGE = 11] = \"OUT_OF_RANGE\", Ee[Ee.UNIMPLEMENTED = 12] = \"UNIMPLEMENTED\", Ee[Ee.INTERNAL = 13] = \"INTERNAL\", Ee[Ee.UNAVAILABLE = 14] = \"UNAVAILABLE\", Ee[Ee.DATA_LOSS = 15] = \"DATA_LOSS\";\n      var su = (fu.prototype.Ht = function (t, e) {\n        return new fu(this.J, this.root.Ht(t, e, this.J).copy(null, null, au.Jt, null, null));\n      }, fu.prototype.remove = function (t) {\n        return new fu(this.J, this.root.remove(t, this.J).copy(null, null, au.Jt, null, null));\n      }, fu.prototype.get = function (t) {\n        for (var e = this.root; !e.nt();) {\n          var n = this.J(t, e.key);\n          if (0 === n) return e.value;\n          n < 0 ? e = e.left : 0 < n && (e = e.right);\n        }\n\n        return null;\n      }, fu.prototype.indexOf = function (t) {\n        for (var e = 0, n = this.root; !n.nt();) {\n          var r = this.J(t, n.key);\n          if (0 === r) return e + n.left.size;\n          n = r < 0 ? n.left : (e += n.left.size + 1, n.right);\n        }\n\n        return -1;\n      }, fu.prototype.nt = function () {\n        return this.root.nt();\n      }, Object.defineProperty(fu.prototype, \"size\", {\n        get: function get() {\n          return this.root.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), fu.prototype.Yt = function () {\n        return this.root.Yt();\n      }, fu.prototype.Xt = function () {\n        return this.root.Xt();\n      }, fu.prototype.Zt = function (t) {\n        return this.root.Zt(t);\n      }, fu.prototype.forEach = function (n) {\n        this.Zt(function (t, e) {\n          return n(t, e), !1;\n        });\n      }, fu.prototype.toString = function () {\n        var n = [];\n        return this.Zt(function (t, e) {\n          return n.push(t + \":\" + e), !1;\n        }), \"{\" + n.join(\", \") + \"}\";\n      }, fu.prototype.te = function (t) {\n        return this.root.te(t);\n      }, fu.prototype.ee = function () {\n        return new uu(this.root, null, this.J, !1);\n      }, fu.prototype.ne = function (t) {\n        return new uu(this.root, t, this.J, !1);\n      }, fu.prototype.se = function () {\n        return new uu(this.root, null, this.J, !0);\n      }, fu.prototype.ie = function (t) {\n        return new uu(this.root, t, this.J, !0);\n      }, fu),\n          uu = (hu.prototype.ce = function () {\n        var t = this.oe.pop(),\n            e = {\n          key: t.key,\n          value: t.value\n        };\n        if (this.re) for (t = t.left; !t.nt();) this.oe.push(t), t = t.right;else for (t = t.right; !t.nt();) this.oe.push(t), t = t.left;\n        return e;\n      }, hu.prototype.ae = function () {\n        return 0 < this.oe.length;\n      }, hu.prototype.ue = function () {\n        if (0 === this.oe.length) return null;\n        var t = this.oe[this.oe.length - 1];\n        return {\n          key: t.key,\n          value: t.value\n        };\n      }, hu),\n          au = (cu.prototype.copy = function (t, e, n, r, i) {\n        return new cu(null != t ? t : this.key, null != e ? e : this.value, null != n ? n : this.color, null != r ? r : this.left, null != i ? i : this.right);\n      }, cu.prototype.nt = function () {\n        return !1;\n      }, cu.prototype.Zt = function (t) {\n        return this.left.Zt(t) || t(this.key, this.value) || this.right.Zt(t);\n      }, cu.prototype.te = function (t) {\n        return this.right.te(t) || t(this.key, this.value) || this.left.te(t);\n      }, cu.prototype.min = function () {\n        return this.left.nt() ? this : this.left.min();\n      }, cu.prototype.Yt = function () {\n        return this.min().key;\n      }, cu.prototype.Xt = function () {\n        return this.right.nt() ? this.key : this.right.Xt();\n      }, cu.prototype.Ht = function (t, e, n) {\n        var r = this,\n            i = n(t, r.key);\n        return (r = i < 0 ? r.copy(null, null, null, r.left.Ht(t, e, n), null) : 0 === i ? r.copy(null, e, null, null, null) : r.copy(null, null, null, null, r.right.Ht(t, e, n))).he();\n      }, cu.prototype.le = function () {\n        if (this.left.nt()) return cu.EMPTY;\n        var t = this;\n        return t.left._e() || t.left.left._e() || (t = t.fe()), (t = t.copy(null, null, null, t.left.le(), null)).he();\n      }, cu.prototype.remove = function (t, e) {\n        var n,\n            r = this;\n        if (e(t, r.key) < 0) r.left.nt() || r.left._e() || r.left.left._e() || (r = r.fe()), r = r.copy(null, null, null, r.left.remove(t, e), null);else {\n          if (r.left._e() && (r = r.de()), r.right.nt() || r.right._e() || r.right.left._e() || (r = r.we()), 0 === e(t, r.key)) {\n            if (r.right.nt()) return cu.EMPTY;\n            n = r.right.min(), r = r.copy(n.key, n.value, null, null, r.right.le());\n          }\n\n          r = r.copy(null, null, null, null, r.right.remove(t, e));\n        }\n        return r.he();\n      }, cu.prototype._e = function () {\n        return this.color;\n      }, cu.prototype.he = function () {\n        var t = this;\n        return t.right._e() && !t.left._e() && (t = t.Ee()), t.left._e() && t.left.left._e() && (t = t.de()), t.left._e() && t.right._e() && (t = t.Te()), t;\n      }, cu.prototype.fe = function () {\n        var t = this.Te();\n        return t.right.left._e() && (t = (t = (t = t.copy(null, null, null, null, t.right.de())).Ee()).Te()), t;\n      }, cu.prototype.we = function () {\n        var t = this.Te();\n        return t.left.left._e() && (t = (t = t.de()).Te()), t;\n      }, cu.prototype.Ee = function () {\n        var t = this.copy(null, null, cu.RED, null, this.right.left);\n        return this.right.copy(null, null, this.color, t, null);\n      }, cu.prototype.de = function () {\n        var t = this.copy(null, null, cu.RED, this.left.right, null);\n        return this.left.copy(null, null, this.color, null, t);\n      }, cu.prototype.Te = function () {\n        var t = this.left.copy(null, null, !this.left.color, null, null),\n            e = this.right.copy(null, null, !this.right.color, null, null);\n        return this.copy(null, null, !this.color, t, e);\n      }, cu.prototype.Ie = function () {\n        var t = this.me();\n        return Math.pow(2, t) <= this.size + 1;\n      }, cu.prototype.me = function () {\n        if (this._e() && this.left._e()) throw Or();\n        if (this.right._e()) throw Or();\n        var t = this.left.me();\n        if (t !== this.right.me()) throw Or();\n        return t + (this._e() ? 0 : 1);\n      }, cu);\n\n      function cu(t, e, n, r, i) {\n        this.key = t, this.value = e, this.color = null != n ? n : cu.RED, this.left = null != r ? r : cu.EMPTY, this.right = null != i ? i : cu.EMPTY, this.size = this.left.size + 1 + this.right.size;\n      }\n\n      function hu(t, e, n, r) {\n        this.re = r, this.oe = [];\n\n        for (var i = 1; !t.nt();) if (i = e ? n(t.key, e) : 1, r && (i *= -1), i < 0) t = this.re ? t.left : t.right;else {\n          if (0 === i) {\n            this.oe.push(t);\n            break;\n          }\n\n          this.oe.push(t), t = this.re ? t.right : t.left;\n        }\n      }\n\n      function fu(t, e) {\n        this.J = t, this.root = e || au.EMPTY;\n      }\n\n      function lu() {\n        this.size = 0;\n      }\n\n      au.EMPTY = null, au.RED = !0, au.Jt = !1, au.EMPTY = (Object.defineProperty(lu.prototype, \"key\", {\n        get: function get() {\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(lu.prototype, \"value\", {\n        get: function get() {\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(lu.prototype, \"color\", {\n        get: function get() {\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(lu.prototype, \"left\", {\n        get: function get() {\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(lu.prototype, \"right\", {\n        get: function get() {\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), lu.prototype.copy = function (t, e, n, r, i) {\n        return this;\n      }, lu.prototype.Ht = function (t, e, n) {\n        return new au(t, e);\n      }, lu.prototype.remove = function (t, e) {\n        return this;\n      }, lu.prototype.nt = function () {\n        return !0;\n      }, lu.prototype.Zt = function (t) {\n        return !1;\n      }, lu.prototype.te = function (t) {\n        return !1;\n      }, lu.prototype.Yt = function () {\n        return null;\n      }, lu.prototype.Xt = function () {\n        return null;\n      }, lu.prototype._e = function () {\n        return !1;\n      }, lu.prototype.Ie = function () {\n        return !0;\n      }, lu.prototype.me = function () {\n        return 0;\n      }, new lu());\n      var pu = (gu.prototype.has = function (t) {\n        return null !== this.data.get(t);\n      }, gu.prototype.first = function () {\n        return this.data.Yt();\n      }, gu.prototype.last = function () {\n        return this.data.Xt();\n      }, Object.defineProperty(gu.prototype, \"size\", {\n        get: function get() {\n          return this.data.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), gu.prototype.indexOf = function (t) {\n        return this.data.indexOf(t);\n      }, gu.prototype.forEach = function (n) {\n        this.data.Zt(function (t, e) {\n          return n(t), !1;\n        });\n      }, gu.prototype.Ae = function (t, e) {\n        for (var n = this.data.ne(t[0]); n.ae();) {\n          var r = n.ce();\n          if (0 <= this.J(r.key, t[1])) return;\n          e(r.key);\n        }\n      }, gu.prototype.Re = function (t, e) {\n        for (var n = void 0 !== e ? this.data.ne(e) : this.data.ee(); n.ae();) if (!t(n.ce().key)) return;\n      }, gu.prototype.Pe = function (t) {\n        t = this.data.ne(t);\n        return t.ae() ? t.ce().key : null;\n      }, gu.prototype.ee = function () {\n        return new du(this.data.ee());\n      }, gu.prototype.ne = function (t) {\n        return new du(this.data.ne(t));\n      }, gu.prototype.add = function (t) {\n        return this.copy(this.data.remove(t).Ht(t, !0));\n      }, gu.prototype.delete = function (t) {\n        return this.has(t) ? this.copy(this.data.remove(t)) : this;\n      }, gu.prototype.nt = function () {\n        return this.data.nt();\n      }, gu.prototype.ye = function (t) {\n        var e = this;\n        return e.size < t.size && (e = t, t = this), t.forEach(function (t) {\n          e = e.add(t);\n        }), e;\n      }, gu.prototype.isEqual = function (t) {\n        if (!(t instanceof gu)) return !1;\n        if (this.size !== t.size) return !1;\n\n        for (var e = this.data.ee(), n = t.data.ee(); e.ae();) {\n          var r = e.ce().key,\n              i = n.ce().key;\n          if (0 !== this.J(r, i)) return !1;\n        }\n\n        return !0;\n      }, gu.prototype.rt = function () {\n        var e = [];\n        return this.forEach(function (t) {\n          e.push(t);\n        }), e;\n      }, gu.prototype.toString = function () {\n        var e = [];\n        return this.forEach(function (t) {\n          return e.push(t);\n        }), \"SortedSet(\" + e.toString() + \")\";\n      }, gu.prototype.copy = function (t) {\n        var e = new gu(this.J);\n        return e.data = t, e;\n      }, gu),\n          du = (vu.prototype.ce = function () {\n        return this.ge.ce().key;\n      }, vu.prototype.ae = function () {\n        return this.ge.ae();\n      }, vu),\n          yu = new su(bi.J);\n\n      function vu(t) {\n        this.ge = t;\n      }\n\n      function gu(t) {\n        this.J = t, this.data = new su(this.J);\n      }\n\n      var mu = new su(bi.J);\n      var wu = new su(bi.J);\n      var bu = new pu(bi.J);\n\n      function Iu() {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        for (var n = bu, r = 0, i = t; r < i.length; r++) var o = i[r], n = n.add(o);\n\n        return n;\n      }\n\n      var _u = new pu(Cr);\n\n      var Eu = (ju.be = function (t) {\n        return new ju(t.J);\n      }, ju.prototype.has = function (t) {\n        return null != this.Ve.get(t);\n      }, ju.prototype.get = function (t) {\n        return this.Ve.get(t);\n      }, ju.prototype.first = function () {\n        return this.pe.Yt();\n      }, ju.prototype.last = function () {\n        return this.pe.Xt();\n      }, ju.prototype.nt = function () {\n        return this.pe.nt();\n      }, ju.prototype.indexOf = function (t) {\n        t = this.Ve.get(t);\n        return t ? this.pe.indexOf(t) : -1;\n      }, Object.defineProperty(ju.prototype, \"size\", {\n        get: function get() {\n          return this.pe.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), ju.prototype.forEach = function (n) {\n        this.pe.Zt(function (t, e) {\n          return n(t), !1;\n        });\n      }, ju.prototype.add = function (t) {\n        var e = this.delete(t.key);\n        return e.copy(e.Ve.Ht(t.key, t), e.pe.Ht(t, null));\n      }, ju.prototype.delete = function (t) {\n        var e = this.get(t);\n        return e ? this.copy(this.Ve.remove(t), this.pe.remove(e)) : this;\n      }, ju.prototype.isEqual = function (t) {\n        if (!(t instanceof ju)) return !1;\n        if (this.size !== t.size) return !1;\n\n        for (var e = this.pe.ee(), n = t.pe.ee(); e.ae();) {\n          var r = e.ce().key,\n              i = n.ce().key;\n          if (!r.isEqual(i)) return !1;\n        }\n\n        return !0;\n      }, ju.prototype.toString = function () {\n        var e = [];\n        return this.forEach(function (t) {\n          e.push(t.toString());\n        }), 0 === e.length ? \"DocumentSet ()\" : \"DocumentSet (\\n  \" + e.join(\"  \\n\") + \"\\n)\";\n      }, ju.prototype.copy = function (t, e) {\n        var n = new ju();\n        return n.J = this.J, n.Ve = t, n.pe = e, n;\n      }, ju),\n          Tu = (Uu.prototype.track = function (t) {\n        var e = t.doc.key,\n            n = this.ve.get(e);\n        !n || 0 !== t.type && 3 === n.type ? this.ve = this.ve.Ht(e, t) : 3 === t.type && 1 !== n.type ? this.ve = this.ve.Ht(e, {\n          type: n.type,\n          doc: t.doc\n        }) : 2 === t.type && 2 === n.type ? this.ve = this.ve.Ht(e, {\n          type: 2,\n          doc: t.doc\n        }) : 2 === t.type && 0 === n.type ? this.ve = this.ve.Ht(e, {\n          type: 0,\n          doc: t.doc\n        }) : 1 === t.type && 0 === n.type ? this.ve = this.ve.remove(e) : 1 === t.type && 2 === n.type ? this.ve = this.ve.Ht(e, {\n          type: 1,\n          doc: n.doc\n        }) : 0 === t.type && 1 === n.type ? this.ve = this.ve.Ht(e, {\n          type: 2,\n          doc: t.doc\n        }) : Or();\n      }, Uu.prototype.Se = function () {\n        var n = [];\n        return this.ve.Zt(function (t, e) {\n          n.push(e);\n        }), n;\n      }, Uu),\n          Nu = (Mu.Oe = function (t, e, n, r) {\n        var i = [];\n        return e.forEach(function (t) {\n          i.push({\n            type: 0,\n            doc: t\n          });\n        }), new Mu(t, e, Eu.be(e), i, n, r, !0, !1);\n      }, Object.defineProperty(Mu.prototype, \"hasPendingWrites\", {\n        get: function get() {\n          return !this.Ce.nt();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Mu.prototype.isEqual = function (t) {\n        if (!(this.fromCache === t.fromCache && this.xe === t.xe && this.Ce.isEqual(t.Ce) && os(this.query, t.query) && this.docs.isEqual(t.docs) && this.De.isEqual(t.De))) return !1;\n        var e = this.docChanges,\n            n = t.docChanges;\n        if (e.length !== n.length) return !1;\n\n        for (var r = 0; r < e.length; r++) if (e[r].type !== n[r].type || !e[r].doc.isEqual(n[r].doc)) return !1;\n\n        return !0;\n      }, Mu),\n          Su = (Vu.$e = function (t, e) {\n        var n = new Map();\n        return n.set(t, Au.Be(t, e)), new Vu(vi.min(), n, _u, yu, Iu());\n      }, Vu),\n          Au = (Ru.Be = function (t, e) {\n        return new Ru(Mr.h, e, Iu(), Iu(), Iu());\n      }, Ru),\n          xu = function xu(t, e, n, r) {\n        this.je = t, this.removedTargetIds = e, this.key = n, this.We = r;\n      },\n          Du = function Du(t, e) {\n        this.targetId = t, this.Ge = e;\n      },\n          Ou = function Ou(t, e, n, r) {\n        void 0 === n && (n = Mr.h), void 0 === r && (r = null), this.state = t, this.targetIds = e, this.resumeToken = n, this.cause = r;\n      },\n          ku = (Object.defineProperty(Cu.prototype, \"qe\", {\n        get: function get() {\n          return this.Ye;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Cu.prototype, \"resumeToken\", {\n        get: function get() {\n          return this.Je;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Cu.prototype, \"Ze\", {\n        get: function get() {\n          return 0 !== this.ze;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Cu.prototype, \"tn\", {\n        get: function get() {\n          return this.Xe;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Cu.prototype.en = function (t) {\n        0 < t.o() && (this.Xe = !0, this.Je = t);\n      }, Cu.prototype.nn = function () {\n        var n = Iu(),\n            r = Iu(),\n            i = Iu();\n        return this.He.forEach(function (t, e) {\n          switch (e) {\n            case 0:\n              n = n.add(t);\n              break;\n\n            case 2:\n              r = r.add(t);\n              break;\n\n            case 1:\n              i = i.add(t);\n              break;\n\n            default:\n              Or();\n          }\n        }), new Au(this.Je, this.Ye, n, r, i);\n      }, Cu.prototype.sn = function () {\n        this.Xe = !1, this.He = Fu();\n      }, Cu.prototype.rn = function (t, e) {\n        this.Xe = !0, this.He = this.He.Ht(t, e);\n      }, Cu.prototype.on = function (t) {\n        this.Xe = !0, this.He = this.He.remove(t);\n      }, Cu.prototype.cn = function () {\n        this.ze += 1;\n      }, Cu.prototype.an = function () {\n        --this.ze;\n      }, Cu.prototype.un = function () {\n        this.Xe = !0, this.Ye = !0;\n      }, Cu),\n          Pu = (Lu.prototype.wn = function (t) {\n        for (var e = 0, n = t.je; e < n.length; e++) {\n          var r = n[e];\n          t.We instanceof so ? this.En(r, t.We) : t.We instanceof uo && this.Tn(r, t.key, t.We);\n        }\n\n        for (var i = 0, o = t.removedTargetIds; i < o.length; i++) r = o[i], this.Tn(r, t.key, t.We);\n      }, Lu.prototype.In = function (n) {\n        var r = this;\n        this.mn(n, function (t) {\n          var e = r.An(t);\n\n          switch (n.state) {\n            case 0:\n              r.Rn(t) && e.en(n.resumeToken);\n              break;\n\n            case 1:\n              e.an(), e.Ze || e.sn(), e.en(n.resumeToken);\n              break;\n\n            case 2:\n              e.an(), e.Ze || r.removeTarget(t);\n              break;\n\n            case 3:\n              r.Rn(t) && (e.un(), e.en(n.resumeToken));\n              break;\n\n            case 4:\n              r.Rn(t) && (r.Pn(t), e.en(n.resumeToken));\n              break;\n\n            default:\n              Or();\n          }\n        });\n      }, Lu.prototype.mn = function (t, n) {\n        var r = this;\n        0 < t.targetIds.length ? t.targetIds.forEach(n) : this.ln.forEach(function (t, e) {\n          r.Rn(e) && n(e);\n        });\n      }, Lu.prototype.yn = function (t) {\n        var e = t.targetId,\n            n = t.Ge.count,\n            t = this.gn(e);\n        t && (go(t = t.target) ? 0 === n ? (t = new bi(t.path), this.Tn(e, t, new uo(t, vi.min()))) : kr(1 === n) : this.Vn(e) !== n && (this.Pn(e), this.dn = this.dn.add(e)));\n      }, Lu.prototype.pn = function (r) {\n        var i = this,\n            o = new Map();\n        this.ln.forEach(function (t, e) {\n          var n = i.gn(e);\n          n && (t.qe && go(n.target) && (n = new bi(n.target.path), null !== i._n.get(n) || i.bn(e, n) || i.Tn(e, n, new uo(n, r))), t.tn && (o.set(e, t.nn()), t.sn()));\n        });\n        var s = Iu();\n        this.fn.forEach(function (t, e) {\n          var n = !0;\n          e.Re(function (t) {\n            t = i.gn(t);\n            return !t || 2 === t.kt || (n = !1);\n          }), n && (s = s.add(t));\n        });\n        var t = new Su(r, o, this.dn, this._n, s);\n        return this._n = yu, this.fn = qu(), this.dn = new pu(Cr), t;\n      }, Lu.prototype.En = function (t, e) {\n        var n;\n        this.Rn(t) && (n = this.bn(t, e.key) ? 2 : 0, this.An(t).rn(e.key, n), this._n = this._n.Ht(e.key, e), this.fn = this.fn.Ht(e.key, this.vn(e.key).add(t)));\n      }, Lu.prototype.Tn = function (t, e, n) {\n        var r;\n        this.Rn(t) && (r = this.An(t), this.bn(t, e) ? r.rn(e, 1) : r.on(e), this.fn = this.fn.Ht(e, this.vn(e).delete(t)), n && (this._n = this._n.Ht(e, n)));\n      }, Lu.prototype.removeTarget = function (t) {\n        this.ln.delete(t);\n      }, Lu.prototype.Vn = function (t) {\n        var e = this.An(t).nn();\n        return this.hn.Sn(t).size + e.Ue.size - e.Ke.size;\n      }, Lu.prototype.cn = function (t) {\n        this.An(t).cn();\n      }, Lu.prototype.An = function (t) {\n        var e = this.ln.get(t);\n        return e || (e = new ku(), this.ln.set(t, e)), e;\n      }, Lu.prototype.vn = function (t) {\n        var e = this.fn.get(t);\n        return e || (e = new pu(Cr), this.fn = this.fn.Ht(t, e)), e;\n      }, Lu.prototype.Rn = function (t) {\n        var e = null !== this.gn(t);\n        return e || Sr(\"WatchChangeAggregator\", \"Detected inactive target\", t), e;\n      }, Lu.prototype.gn = function (t) {\n        var e = this.ln.get(t);\n        return e && e.Ze ? null : this.hn.Dn(t);\n      }, Lu.prototype.Pn = function (e) {\n        var n = this;\n        this.ln.set(e, new ku()), this.hn.Sn(e).forEach(function (t) {\n          n.Tn(e, t, null);\n        });\n      }, Lu.prototype.bn = function (t, e) {\n        return this.hn.Sn(t).has(e);\n      }, Lu);\n\n      function Lu(t) {\n        this.hn = t, this.ln = new Map(), this._n = yu, this.fn = qu(), this.dn = new pu(Cr);\n      }\n\n      function Cu() {\n        this.ze = 0, this.He = Fu(), this.Je = Mr.h, this.Ye = !1, this.Xe = !0;\n      }\n\n      function Ru(t, e, n, r, i) {\n        this.resumeToken = t, this.qe = e, this.Ue = n, this.Qe = r, this.Ke = i;\n      }\n\n      function Vu(t, e, n, r, i) {\n        this.Mt = t, this.Fe = e, this.ke = n, this.Me = r, this.Le = i;\n      }\n\n      function Mu(t, e, n, r, i, o, s, u) {\n        this.query = t, this.docs = e, this.De = n, this.docChanges = r, this.Ce = i, this.fromCache = o, this.xe = s, this.Ne = u;\n      }\n\n      function Uu() {\n        this.ve = new su(bi.J);\n      }\n\n      function ju(n) {\n        this.J = n ? function (t, e) {\n          return n(t, e) || bi.J(t.key, e.key);\n        } : function (t, e) {\n          return bi.J(t.key, e.key);\n        }, this.Ve = mu, this.pe = new su(this.J);\n      }\n\n      function qu() {\n        return new su(bi.J);\n      }\n\n      function Fu() {\n        return new su(bi.J);\n      }\n\n      var Hu = {\n        asc: \"ASCENDING\",\n        desc: \"DESCENDING\"\n      },\n          Bu = {\n        \"<\": \"LESS_THAN\",\n        \"<=\": \"LESS_THAN_OR_EQUAL\",\n        \">\": \"GREATER_THAN\",\n        \">=\": \"GREATER_THAN_OR_EQUAL\",\n        \"==\": \"EQUAL\",\n        \"!=\": \"NOT_EQUAL\",\n        \"array-contains\": \"ARRAY_CONTAINS\",\n        in: \"IN\",\n        \"not-in\": \"NOT_IN\",\n        \"array-contains-any\": \"ARRAY_CONTAINS_ANY\"\n      },\n          Gu = function Gu(t, e) {\n        this.T = t, this.qt = e;\n      };\n\n      function zu(t, e) {\n        return t.qt ? new Date(1e3 * e.seconds).toISOString().replace(/\\.\\d*/, \"\").replace(\"Z\", \"\") + \".\" + (\"000000000\" + e.nanoseconds).slice(-9) + \"Z\" : {\n          seconds: \"\" + e.seconds,\n          nanos: e.nanoseconds\n        };\n      }\n\n      function Ku(t, e) {\n        return t.qt ? e.toBase64() : e.toUint8Array();\n      }\n\n      function Ju(t) {\n        return kr(!!t), vi.j((t = Li(t), new yi(t.seconds, t.nanos)));\n      }\n\n      function Wu(t, e) {\n        return new gi([\"projects\", t.projectId, \"databases\", t.database]).child(\"documents\").child(e).ot();\n      }\n\n      function Xu(t) {\n        t = gi.ct(t);\n        return kr(da(t)), t;\n      }\n\n      function Yu(t, e) {\n        return Wu(t.T, e.path);\n      }\n\n      function Qu(t, e) {\n        e = Xu(e);\n        if (e.get(1) !== t.T.projectId) throw new Fr(qr.INVALID_ARGUMENT, \"Tried to deserialize key from different project: \" + e.get(1) + \" vs \" + t.T.projectId);\n        if (e.get(3) !== t.T.database) throw new Fr(qr.INVALID_ARGUMENT, \"Tried to deserialize key from different database: \" + e.get(3) + \" vs \" + t.T.database);\n        return new bi(ea(e));\n      }\n\n      function $u(t, e) {\n        return Wu(t.T, e);\n      }\n\n      function Zu(t) {\n        t = Xu(t);\n        return 4 === t.length ? gi.at() : ea(t);\n      }\n\n      function ta(t) {\n        return new gi([\"projects\", t.T.projectId, \"databases\", t.T.database]).ot();\n      }\n\n      function ea(t) {\n        return kr(4 < t.length && \"documents\" === t.get(4)), t.X(5);\n      }\n\n      function na(t, e, n) {\n        return {\n          name: Yu(t, e),\n          fields: n.proto.mapValue.fields\n        };\n      }\n\n      function ra(t, e, n) {\n        var r = Qu(t, e.name),\n            t = Ju(e.updateTime),\n            e = new Zi({\n          mapValue: {\n            fields: e.fields\n          }\n        });\n        return new so(r, t, e, {\n          hasCommittedMutations: !!n\n        });\n      }\n\n      function ia(t, e) {\n        var n, r, i;\n        if (e instanceof Hs) n = {\n          update: na(t, e.key, e.value)\n        };else if (e instanceof tu) n = {\n          delete: Yu(t, e.key)\n        };else if (e instanceof Bs) n = {\n          update: na(t, e.key, e.data),\n          updateMask: (i = e.zt, r = [], i.fields.forEach(function (t) {\n            return r.push(t.ot());\n          }), {\n            fieldPaths: r\n          })\n        };else {\n          if (!(e instanceof eu)) return Or();\n          n = {\n            verify: Yu(t, e.key)\n          };\n        }\n        return 0 < e.fieldTransforms.length && (n.updateTransforms = e.fieldTransforms.map(function (t) {\n          var e = t.transform;\n          if (e instanceof ms) return {\n            fieldPath: t.field.ot(),\n            setToServerValue: \"REQUEST_TIME\"\n          };\n          if (e instanceof ws) return {\n            fieldPath: t.field.ot(),\n            appendMissingElements: {\n              values: e.elements\n            }\n          };\n          if (e instanceof Ts) return {\n            fieldPath: t.field.ot(),\n            removeAllFromArray: {\n              values: e.elements\n            }\n          };\n          if (e instanceof xs) return {\n            fieldPath: t.field.ot(),\n            increment: e.Qt\n          };\n          throw Or();\n        })), e.Gt.Wt || (n.currentDocument = void 0 !== (i = e.Gt).updateTime ? {\n          updateTime: (e = t, t = i.updateTime, zu(e, t.G()))\n        } : void 0 !== i.exists ? {\n          exists: i.exists\n        } : Or()), n;\n      }\n\n      function oa(e, t) {\n        var n = t.currentDocument ? void 0 !== (s = t.currentDocument).updateTime ? Cs.updateTime(Ju(s.updateTime)) : void 0 !== s.exists ? Cs.exists(s.exists) : Cs.jt() : Cs.jt(),\n            r = t.updateTransforms ? t.updateTransforms.map(function (t) {\n          return function (t, e) {\n            var n,\n                r = null;\n            \"setToServerValue\" in e ? (kr(\"REQUEST_TIME\" === e.setToServerValue), r = new ms()) : \"appendMissingElements\" in e ? (n = e.appendMissingElements.values || [], r = new ws(n)) : \"removeAllFromArray\" in e ? (n = e.removeAllFromArray.values || [], r = new Ts(n)) : \"increment\" in e ? r = new xs(t, e.increment) : Or();\n            e = wi._t(e.fieldPath);\n            return new Ls(e, r);\n          }(e, t);\n        }) : [];\n\n        if (t.update) {\n          t.update.name;\n          var i = Qu(e, t.update.name),\n              o = new Zi({\n            mapValue: {\n              fields: t.update.fields\n            }\n          });\n\n          if (t.updateMask) {\n            var s = (s = t.updateMask.fieldPaths || [], new Oi(s.map(function (t) {\n              return wi._t(t);\n            })));\n            return new Bs(i, o, s, n, r);\n          }\n\n          return new Hs(i, o, n, r);\n        }\n\n        if (t.delete) {\n          r = Qu(e, t.delete);\n          return new tu(r, n);\n        }\n\n        if (t.verify) {\n          t = Qu(e, t.verify);\n          return new eu(t, n);\n        }\n\n        return Or();\n      }\n\n      function sa(t, e) {\n        return {\n          documents: [$u(t, e.path)]\n        };\n      }\n\n      function ua(t, e) {\n        var n = {\n          structuredQuery: {}\n        },\n            r = e.path;\n        null !== e.collectionGroup ? (n.parent = $u(t, r), n.structuredQuery.from = [{\n          collectionId: e.collectionGroup,\n          allDescendants: !0\n        }]) : (n.parent = $u(t, r.Z()), n.structuredQuery.from = [{\n          collectionId: r.et()\n        }]);\n\n        r = function (t) {\n          if (0 !== t.length) {\n            t = t.map(function (t) {\n              if (\"==\" === t.op) {\n                if (Qi(t.value)) return {\n                  unaryFilter: {\n                    field: fa(t.field),\n                    op: \"IS_NAN\"\n                  }\n                };\n                if (Yi(t.value)) return {\n                  unaryFilter: {\n                    field: fa(t.field),\n                    op: \"IS_NULL\"\n                  }\n                };\n              } else if (\"!=\" === t.op) {\n                if (Qi(t.value)) return {\n                  unaryFilter: {\n                    field: fa(t.field),\n                    op: \"IS_NOT_NAN\"\n                  }\n                };\n                if (Yi(t.value)) return {\n                  unaryFilter: {\n                    field: fa(t.field),\n                    op: \"IS_NOT_NULL\"\n                  }\n                };\n              }\n\n              return {\n                fieldFilter: {\n                  field: fa(t.field),\n                  op: (e = t.op, Bu[e]),\n                  value: t.value\n                }\n              };\n              var e;\n            });\n            return 1 === t.length ? t[0] : {\n              compositeFilter: {\n                op: \"AND\",\n                filters: t\n              }\n            };\n          }\n        }(e.filters);\n\n        r && (n.structuredQuery.where = r);\n\n        r = function (t) {\n          if (0 !== t.length) return t.map(function (t) {\n            return {\n              field: fa((t = t).field),\n              direction: (t = t.dir, Hu[t])\n            };\n          });\n        }(e.orderBy);\n\n        r && (n.structuredQuery.orderBy = r);\n        r = e.limit, r = t.qt || Ui(r) ? r : {\n          value: r\n        };\n        return null !== r && (n.structuredQuery.limit = r), e.startAt && (n.structuredQuery.startAt = ca(e.startAt)), e.endAt && (n.structuredQuery.endAt = ca(e.endAt)), n;\n      }\n\n      function aa(t) {\n        var e = Zu(t.parent),\n            n = t.structuredQuery,\n            r = n.from ? n.from.length : 0,\n            i = null;\n        0 < r && (kr(1 === r), (s = n.from[0]).allDescendants ? i = s.collectionId : e = e.child(s.collectionId));\n        var o = [];\n        n.where && (o = function e(t) {\n          return t ? void 0 !== t.unaryFilter ? [pa(t)] : void 0 !== t.fieldFilter ? [(n = t, wo.create(la(n.fieldFilter.field), function () {\n            switch (n.fieldFilter.op) {\n              case \"EQUAL\":\n                return \"==\";\n\n              case \"NOT_EQUAL\":\n                return \"!=\";\n\n              case \"GREATER_THAN\":\n                return \">\";\n\n              case \"GREATER_THAN_OR_EQUAL\":\n                return \">=\";\n\n              case \"LESS_THAN\":\n                return \"<\";\n\n              case \"LESS_THAN_OR_EQUAL\":\n                return \"<=\";\n\n              case \"ARRAY_CONTAINS\":\n                return \"array-contains\";\n\n              case \"IN\":\n                return \"in\";\n\n              case \"NOT_IN\":\n                return \"not-in\";\n\n              case \"ARRAY_CONTAINS_ANY\":\n                return \"array-contains-any\";\n\n              case \"OPERATOR_UNSPECIFIED\":\n              default:\n                return Or();\n            }\n          }(), n.fieldFilter.value))] : void 0 !== t.compositeFilter ? t.compositeFilter.filters.map(function (t) {\n            return e(t);\n          }).reduce(function (t, e) {\n            return t.concat(e);\n          }) : Or() : [];\n          var n;\n        }(n.where));\n        t = [];\n        n.orderBy && (t = n.orderBy.map(function (t) {\n          return new zo(la((e = t).field), function () {\n            switch (e.direction) {\n              case \"ASCENDING\":\n                return \"asc\";\n\n              case \"DESCENDING\":\n                return \"desc\";\n\n              default:\n                return;\n            }\n          }());\n          var e;\n        }));\n        r = null;\n        n.limit && (r = Ui(u = \"object\" == typeof (u = n.limit) ? u.value : u) ? null : u);\n        var s = null;\n        n.startAt && (s = ha(n.startAt));\n        var u = null;\n        return n.endAt && (u = ha(n.endAt)), Xo(e, i, t, o, r, \"F\", s, u);\n      }\n\n      function ca(t) {\n        return {\n          before: t.before,\n          values: t.position\n        };\n      }\n\n      function ha(t) {\n        var e = !!t.before,\n            t = t.values || [];\n        return new jo(t, e);\n      }\n\n      function fa(t) {\n        return {\n          fieldPath: t.ot()\n        };\n      }\n\n      function la(t) {\n        return wi._t(t.fieldPath);\n      }\n\n      function pa(t) {\n        switch (t.unaryFilter.op) {\n          case \"IS_NAN\":\n            var e = la(t.unaryFilter.field);\n            return wo.create(e, \"==\", {\n              doubleValue: NaN\n            });\n\n          case \"IS_NULL\":\n            var n = la(t.unaryFilter.field);\n            return wo.create(n, \"==\", {\n              nullValue: \"NULL_VALUE\"\n            });\n\n          case \"IS_NOT_NAN\":\n            n = la(t.unaryFilter.field);\n            return wo.create(n, \"!=\", {\n              doubleValue: NaN\n            });\n\n          case \"IS_NOT_NULL\":\n            t = la(t.unaryFilter.field);\n            return wo.create(t, \"!=\", {\n              nullValue: \"NULL_VALUE\"\n            });\n\n          case \"OPERATOR_UNSPECIFIED\":\n          default:\n            return Or();\n        }\n      }\n\n      function da(t) {\n        return 4 <= t.length && \"projects\" === t.get(0) && \"databases\" === t.get(2);\n      }\n\n      var ya,\n          va = function va() {\n        var n = this;\n        this.promise = new Promise(function (t, e) {\n          n.resolve = t, n.reject = e;\n        });\n      },\n          ga = (Sa.prototype.catch = function (t) {\n        return this.next(void 0, t);\n      }, Sa.prototype.next = function (r, i) {\n        var o = this;\n        return this.On && Or(), this.On = !0, this.Nn ? this.error ? this.Fn(i, this.error) : this.kn(r, this.result) : new Sa(function (e, n) {\n          o.Cn = function (t) {\n            o.kn(r, t).next(e, n);\n          }, o.xn = function (t) {\n            o.Fn(i, t).next(e, n);\n          };\n        });\n      }, Sa.prototype.Mn = function () {\n        var n = this;\n        return new Promise(function (t, e) {\n          n.next(t, e);\n        });\n      }, Sa.prototype.Ln = function (t) {\n        try {\n          var e = t();\n          return e instanceof Sa ? e : Sa.resolve(e);\n        } catch (t) {\n          return Sa.reject(t);\n        }\n      }, Sa.prototype.kn = function (t, e) {\n        return t ? this.Ln(function () {\n          return t(e);\n        }) : Sa.resolve(e);\n      }, Sa.prototype.Fn = function (t, e) {\n        return t ? this.Ln(function () {\n          return t(e);\n        }) : Sa.reject(e);\n      }, Sa.resolve = function (n) {\n        return new Sa(function (t, e) {\n          t(n);\n        });\n      }, Sa.reject = function (n) {\n        return new Sa(function (t, e) {\n          e(n);\n        });\n      }, Sa.$n = function (t) {\n        return new Sa(function (e, n) {\n          var r = 0,\n              i = 0,\n              o = !1;\n          t.forEach(function (t) {\n            ++r, t.next(function () {\n              ++i, o && i === r && e();\n            }, function (t) {\n              return n(t);\n            });\n          }), o = !0, i === r && e();\n        });\n      }, Sa.Bn = function (t) {\n        for (var n = Sa.resolve(!1), e = 0, r = t; e < r.length; e++) !function (e) {\n          n = n.next(function (t) {\n            return t ? Sa.resolve(t) : e();\n          });\n        }(r[e]);\n\n        return n;\n      }, Sa.forEach = function (t, n) {\n        var r = this,\n            i = [];\n        return t.forEach(function (t, e) {\n          i.push(n.call(r, t, e));\n        }), this.$n(i);\n      }, Sa),\n          ma = (Na.open = function (t, e, n, r) {\n        try {\n          return new Na(e, t.transaction(r, n));\n        } catch (t) {\n          throw new Ia(e, t);\n        }\n      }, Object.defineProperty(Na.prototype, \"Un\", {\n        get: function get() {\n          return this.qn.promise;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Na.prototype.abort = function (t) {\n        t && this.qn.reject(t), this.aborted || (Sr(\"SimpleDb\", \"Aborting transaction:\", t ? t.message : \"Client-initiated abort\"), this.aborted = !0, this.transaction.abort());\n      }, Na.prototype.store = function (t) {\n        t = this.transaction.objectStore(t);\n        return new xa(t);\n      }, Na),\n          wa = (Ta.delete = function (t) {\n        return Sr(\"SimpleDb\", \"Removing database:\", t), Oa(window.indexedDB.deleteDatabase(t)).Mn();\n      }, Ta.jn = function () {\n        if (\"undefined\" == typeof indexedDB) return !1;\n        if (Ta.Wn()) return !0;\n        var t = p(),\n            e = Ta.Kn(t),\n            n = 0 < e && e < 10,\n            e = Ta.Gn(t),\n            e = 0 < e && e < 4.5;\n        return !(0 < t.indexOf(\"MSIE \") || 0 < t.indexOf(\"Trident/\") || 0 < t.indexOf(\"Edge/\") || n || e);\n      }, Ta.Wn = function () {\n        var t;\n        return \"undefined\" != typeof process && \"YES\" === (null === (t = process.env) || void 0 === t ? void 0 : t.zn);\n      }, Ta.Hn = function (t, e) {\n        return t.store(e);\n      }, Ta.Kn = function (t) {\n        t = t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i), t = t ? t[1].split(\"_\").slice(0, 2).join(\".\") : \"-1\";\n        return Number(t);\n      }, Ta.Gn = function (t) {\n        t = t.match(/Android ([\\d.]+)/i), t = t ? t[1].split(\".\").slice(0, 2).join(\".\") : \"-1\";\n        return Number(t);\n      }, Ta.prototype.Jn = function (o) {\n        return y(this, void 0, void 0, function () {\n          var e,\n              i = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.db ? [3, 2] : (Sr(\"SimpleDb\", \"Opening database:\", this.name), e = this, [4, new Promise(function (e, n) {\n                  var r = indexedDB.open(i.name, i.version);\n                  r.onsuccess = function (t) {\n                    t = t.target.result;\n                    e(t);\n                  }, r.onblocked = function () {\n                    n(new Ia(o, \"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"));\n                  }, r.onerror = function (t) {\n                    t = t.target.error;\n                    \"VersionError\" === t.name ? n(new Fr(qr.FAILED_PRECONDITION, \"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")) : n(new Ia(o, t));\n                  }, r.onupgradeneeded = function (t) {\n                    Sr(\"SimpleDb\", 'Database \"' + i.name + '\" requires upgrade from version:', t.oldVersion);\n                    var e = t.target.result;\n                    i.Qn.Yn(e, r.transaction, t.oldVersion, i.version).next(function () {\n                      Sr(\"SimpleDb\", \"Database upgrade to version \" + i.version + \" complete\");\n                    });\n                  };\n                })]);\n\n              case 1:\n                e.db = t.sent(), t.label = 2;\n\n              case 2:\n                return [2, (this.Xn && (this.db.onversionchange = function (t) {\n                  return i.Xn(t);\n                }), this.db)];\n            }\n          });\n        });\n      }, Ta.prototype.Zn = function (e) {\n        this.Xn = e, this.db && (this.db.onversionchange = function (t) {\n          return e(t);\n        });\n      }, Ta.prototype.runTransaction = function (u, n, a, c) {\n        return y(this, void 0, void 0, function () {\n          var i, o, s, e;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                i = \"readonly\" === n, o = 0, e = function e() {\n                  var e, n, r;\n                  return v(this, function (t) {\n                    switch (t.label) {\n                      case 0:\n                        ++o, t.label = 1;\n\n                      case 1:\n                        return t.trys.push([1, 4,, 5]), [4, s.Jn(u)];\n\n                      case 2:\n                        return s.db = t.sent(), e = ma.open(s.db, u, i ? \"readonly\" : \"readwrite\", a), n = c(e).catch(function (t) {\n                          return e.abort(t), ga.reject(t);\n                        }).Mn(), r = {}, n.catch(function () {}), [4, e.Un];\n\n                      case 3:\n                        return [2, (r.value = (t.sent(), n), r)];\n\n                      case 4:\n                        return n = t.sent(), r = \"FirebaseError\" !== n.name && o < 3, Sr(\"SimpleDb\", \"Transaction failed with error:\", n.message, \"Retrying:\", r), s.close(), r ? [3, 5] : [2, {\n                          value: Promise.reject(n)\n                        }];\n\n                      case 5:\n                        return [2];\n                    }\n                  });\n                }, s = this, t.label = 1;\n\n              case 1:\n                return [5, e()];\n\n              case 2:\n                if (\"object\" == typeof (e = t.sent())) return [2, e.value];\n                t.label = 3;\n\n              case 3:\n                return [3, 1];\n\n              case 4:\n                return [2];\n            }\n          });\n        });\n      }, Ta.prototype.close = function () {\n        this.db && this.db.close(), this.db = void 0;\n      }, Ta),\n          ba = (Object.defineProperty(Ea.prototype, \"Nn\", {\n        get: function get() {\n          return this.es;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Ea.prototype, \"ss\", {\n        get: function get() {\n          return this.ns;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Ea.prototype, \"cursor\", {\n        set: function set(t) {\n          this.ts = t;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Ea.prototype.done = function () {\n        this.es = !0;\n      }, Ea.prototype.rs = function (t) {\n        this.ns = t;\n      }, Ea.prototype.delete = function () {\n        return Oa(this.ts.delete());\n      }, Ea),\n          Ia = (h(_a, ya = Fr), _a);\n\n      function _a(t, e) {\n        var n = this;\n        return (n = ya.call(this, qr.UNAVAILABLE, \"IndexedDB transaction '\" + t + \"' failed: \" + e) || this).name = \"IndexedDbTransactionError\", n;\n      }\n\n      function Ea(t) {\n        this.ts = t, this.es = !1, this.ns = null;\n      }\n\n      function Ta(t, e, n) {\n        this.name = t, this.version = e, this.Qn = n, 12.2 === Ta.Kn(p()) && Ar(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");\n      }\n\n      function Na(e, t) {\n        var n = this;\n        this.action = e, this.transaction = t, this.aborted = !1, this.qn = new va(), this.transaction.oncomplete = function () {\n          n.qn.resolve();\n        }, this.transaction.onabort = function () {\n          t.error ? n.qn.reject(new Ia(e, t.error)) : n.qn.resolve();\n        }, this.transaction.onerror = function (t) {\n          t = Pa(t.target.error);\n          n.qn.reject(new Ia(e, t));\n        };\n      }\n\n      function Sa(t) {\n        var e = this;\n        this.Cn = null, this.xn = null, this.result = void 0, this.error = void 0, this.Nn = !1, this.On = !1, t(function (t) {\n          e.Nn = !0, e.result = t, e.Cn && e.Cn(t);\n        }, function (t) {\n          e.Nn = !0, e.error = t, e.xn && e.xn(t);\n        });\n      }\n\n      function Aa(t) {\n        return \"IndexedDbTransactionError\" === t.name;\n      }\n\n      var xa = (Da.prototype.put = function (t, e) {\n        t = void 0 !== e ? (Sr(\"SimpleDb\", \"PUT\", this.store.name, t, e), this.store.put(e, t)) : (Sr(\"SimpleDb\", \"PUT\", this.store.name, \"<auto-key>\", t), this.store.put(t));\n        return Oa(t);\n      }, Da.prototype.add = function (t) {\n        return Sr(\"SimpleDb\", \"ADD\", this.store.name, t, t), Oa(this.store.add(t));\n      }, Da.prototype.get = function (e) {\n        var n = this;\n        return Oa(this.store.get(e)).next(function (t) {\n          return void 0 === t && (t = null), Sr(\"SimpleDb\", \"GET\", n.store.name, e, t), t;\n        });\n      }, Da.prototype.delete = function (t) {\n        return Sr(\"SimpleDb\", \"DELETE\", this.store.name, t), Oa(this.store.delete(t));\n      }, Da.prototype.count = function () {\n        return Sr(\"SimpleDb\", \"COUNT\", this.store.name), Oa(this.store.count());\n      }, Da.prototype.os = function (t, e) {\n        var e = this.cursor(this.options(t, e)),\n            n = [];\n        return this.cs(e, function (t, e) {\n          n.push(e);\n        }).next(function () {\n          return n;\n        });\n      }, Da.prototype.us = function (t, e) {\n        Sr(\"SimpleDb\", \"DELETE ALL\", this.store.name);\n        e = this.options(t, e);\n        e.hs = !1;\n        e = this.cursor(e);\n        return this.cs(e, function (t, e, n) {\n          return n.delete();\n        });\n      }, Da.prototype.ls = function (t, e) {\n        e ? n = t : (n = {}, e = t);\n        var n = this.cursor(n);\n        return this.cs(n, e);\n      }, Da.prototype._s = function (r) {\n        var t = this.cursor({});\n        return new ga(function (n, e) {\n          t.onerror = function (t) {\n            t = Pa(t.target.error);\n            e(t);\n          }, t.onsuccess = function (t) {\n            var e = t.target.result;\n            e ? r(e.primaryKey, e.value).next(function (t) {\n              t ? e.continue() : n();\n            }) : n();\n          };\n        });\n      }, Da.prototype.cs = function (t, i) {\n        var o = [];\n        return new ga(function (r, e) {\n          t.onerror = function (t) {\n            e(t.target.error);\n          }, t.onsuccess = function (t) {\n            var e,\n                n = t.target.result;\n            n ? (e = new ba(n), (t = i(n.primaryKey, n.value, e)) instanceof ga && (t = t.catch(function (t) {\n              return e.done(), ga.reject(t);\n            }), o.push(t)), e.Nn ? r() : null === e.ss ? n.continue() : n.continue(e.ss)) : r();\n          };\n        }).next(function () {\n          return ga.$n(o);\n        });\n      }, Da.prototype.options = function (t, e) {\n        var n = void 0;\n        return void 0 !== t && (\"string\" == typeof t ? n = t : e = t), {\n          index: n,\n          range: e\n        };\n      }, Da.prototype.cursor = function (t) {\n        var e = \"next\";\n\n        if (t.reverse && (e = \"prev\"), t.index) {\n          var n = this.store.index(t.index);\n          return t.hs ? n.openKeyCursor(t.range, e) : n.openCursor(t.range, e);\n        }\n\n        return this.store.openCursor(t.range, e);\n      }, Da);\n\n      function Da(t) {\n        this.store = t;\n      }\n\n      function Oa(t) {\n        return new ga(function (e, n) {\n          t.onsuccess = function (t) {\n            t = t.target.result;\n            e(t);\n          }, t.onerror = function (t) {\n            t = Pa(t.target.error);\n            n(t);\n          };\n        });\n      }\n\n      var ka = !1;\n\n      function Pa(t) {\n        var e = wa.Kn(p());\n\n        if (12.2 <= e && e < 13) {\n          e = \"An internal error was encountered in the Indexed Database server\";\n\n          if (0 <= t.message.indexOf(e)) {\n            var n = new Fr(\"internal\", \"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\" + e + \"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");\n            return ka || (ka = !0, setTimeout(function () {\n              throw n;\n            }, 0)), n;\n          }\n        }\n\n        return t;\n      }\n\n      var La = (Ca.Is = function (t, e, n, r, i) {\n        i = new Ca(t, e, Date.now() + n, r, i);\n        return i.start(n), i;\n      }, Ca.prototype.start = function (t) {\n        var e = this;\n        this.As = setTimeout(function () {\n          return e.Rs();\n        }, t);\n      }, Ca.prototype.Ps = function () {\n        return this.Rs();\n      }, Ca.prototype.cancel = function (t) {\n        null !== this.As && (this.clearTimeout(), this.Ts.reject(new Fr(qr.CANCELLED, \"Operation cancelled\" + (t ? \": \" + t : \"\"))));\n      }, Ca.prototype.Rs = function () {\n        var e = this;\n        this.fs.ys(function () {\n          return null !== e.As ? (e.clearTimeout(), e.op().then(function (t) {\n            return e.Ts.resolve(t);\n          })) : Promise.resolve();\n        });\n      }, Ca.prototype.clearTimeout = function () {\n        null !== this.As && (this.Es(this), clearTimeout(this.As), this.As = null);\n      }, Ca);\n\n      function Ca(t, e, n, r, i) {\n        this.fs = t, this.ds = e, this.ws = n, this.op = r, this.Es = i, this.Ts = new va(), this.then = this.Ts.promise.then.bind(this.Ts.promise), this.Ts.promise.catch(function (t) {});\n      }\n\n      function Ra(t, e) {\n        if (Ar(\"AsyncQueue\", e + \": \" + t), Aa(t)) return new Fr(qr.UNAVAILABLE, e + \": \" + t);\n        throw t;\n      }\n\n      var Va = \"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",\n          o = (Ma.prototype.Vs = function (t) {\n        this.gs.push(t);\n      }, Ma.prototype.ps = function () {\n        this.gs.forEach(function (t) {\n          return t();\n        });\n      }, Ma);\n\n      function Ma() {\n        this.gs = [];\n      }\n\n      function Ua(t) {\n        for (var e = \"\", n = 0; n < t.length; n++) 0 < e.length && (e = ja(e)), e = function (t, e) {\n          for (var n = e, r = t.length, i = 0; i < r; i++) {\n            var o = t.charAt(i);\n\n            switch (o) {\n              case \"\\0\":\n                n += \"\\x01\\x10\";\n                break;\n\n              case \"\\x01\":\n                n += \"\\x01\\x11\";\n                break;\n\n              default:\n                n += o;\n            }\n          }\n\n          return n;\n        }(t.get(n), e);\n\n        return ja(e);\n      }\n\n      function ja(t) {\n        return t + \"\\x01\\x01\";\n      }\n\n      function qa(t) {\n        var e = t.length;\n        if (kr(2 <= e), 2 === e) return kr(\"\\x01\" === t.charAt(0) && \"\\x01\" === t.charAt(1)), gi.at();\n\n        for (var n = e - 2, r = [], i = \"\", o = 0; o < e;) {\n          var s = t.indexOf(\"\\x01\", o);\n\n          switch ((s < 0 || n < s) && Or(), t.charAt(s + 1)) {\n            case \"\\x01\":\n              var u = t.substring(o, s),\n                  a = void 0;\n              0 === i.length ? a = u : (a = i += u, i = \"\"), r.push(a);\n              break;\n\n            case \"\\x10\":\n              i += t.substring(o, s), i += \"\\0\";\n              break;\n\n            case \"\\x11\":\n              i += t.substring(o, s + 1);\n              break;\n\n            default:\n              Or();\n          }\n\n          o = s + 2;\n        }\n\n        return new gi(r);\n      }\n\n      function Fa(t, e, n) {\n        this.ownerId = t, this.allowTabSynchronization = e, this.leaseTimestampMs = n;\n      }\n\n      var Ha = function Ha(t, e) {\n        this.seconds = t, this.nanoseconds = e;\n      };\n\n      Fa.store = \"owner\", Fa.key = \"owner\";\n\n      function Ba(t, e, n) {\n        this.userId = t, this.lastAcknowledgedBatchId = e, this.lastStreamToken = n;\n      }\n\n      Ba.store = \"mutationQueues\", Ba.keyPath = \"userId\";\n\n      function Ga(t, e, n, r, i) {\n        this.userId = t, this.batchId = e, this.localWriteTimeMs = n, this.baseMutations = r, this.mutations = i;\n      }\n\n      Ga.store = \"mutations\", Ga.keyPath = \"batchId\", Ga.userMutationsIndex = \"userMutationsIndex\", Ga.userMutationsKeyPath = [\"userId\", \"batchId\"];\n      var za = (Ka.prefixForUser = function (t) {\n        return [t];\n      }, Ka.prefixForPath = function (t, e) {\n        return [t, Ua(e)];\n      }, Ka.key = function (t, e, n) {\n        return [t, Ua(e), n];\n      }, Ka);\n\n      function Ka() {}\n\n      za.store = \"documentMutations\", za.PLACEHOLDER = new za();\n\n      function Ja(t, e) {\n        this.path = t, this.readTime = e;\n      }\n\n      function Wa(t, e) {\n        this.path = t, this.version = e;\n      }\n\n      var Xa = function Xa(t, e, n, r, i, o) {\n        this.unknownDocument = t, this.noDocument = e, this.document = n, this.hasCommittedMutations = r, this.readTime = i, this.parentPath = o;\n      };\n\n      Xa.store = \"remoteDocuments\", Xa.readTimeIndex = \"readTimeIndex\", Xa.readTimeIndexPath = \"readTime\", Xa.collectionReadTimeIndex = \"collectionReadTimeIndex\", Xa.collectionReadTimeIndexPath = [\"parentPath\", \"readTime\"];\n\n      function Ya(t) {\n        this.byteSize = t;\n      }\n\n      Ya.store = \"remoteDocumentGlobal\", Ya.key = \"remoteDocumentGlobalKey\";\n\n      function Qa(t, e, n, r, i, o, s) {\n        this.targetId = t, this.canonicalId = e, this.readTime = n, this.resumeToken = r, this.lastListenSequenceNumber = i, this.lastLimboFreeSnapshotVersion = o, this.query = s;\n      }\n\n      Qa.store = \"targets\", Qa.keyPath = \"targetId\", Qa.queryTargetsIndexName = \"queryTargetsIndex\", Qa.queryTargetsKeyPath = [\"canonicalId\", \"targetId\"];\n\n      var $a = function $a(t, e, n) {\n        this.targetId = t, this.path = e, this.sequenceNumber = n;\n      };\n\n      $a.store = \"targetDocuments\", $a.keyPath = [\"targetId\", \"path\"], $a.documentTargetsIndex = \"documentTargetsIndex\", $a.documentTargetsKeyPath = [\"path\", \"targetId\"];\n\n      function Za(t, e, n, r) {\n        this.highestTargetId = t, this.highestListenSequenceNumber = e, this.lastRemoteSnapshotVersion = n, this.targetCount = r;\n      }\n\n      Za.key = \"targetGlobalKey\", Za.store = \"targetGlobal\";\n\n      function tc(t, e) {\n        this.collectionId = t, this.parent = e;\n      }\n\n      tc.store = \"collectionParents\", tc.keyPath = [\"collectionId\", \"parent\"];\n\n      function ec(t, e, n, r) {\n        this.clientId = t, this.updateTimeMs = e, this.networkEnabled = n, this.inForeground = r;\n      }\n\n      ec.store = \"clientMetadata\", ec.keyPath = \"clientId\";\n\n      function nc(t, e, n) {\n        this.bundleId = t, this.createTime = e, this.version = n;\n      }\n\n      nc.store = \"bundles\", nc.keyPath = \"bundleId\";\n\n      function rc(t, e, n) {\n        this.name = t, this.readTime = e, this.bundledQuery = n;\n      }\n\n      rc.store = \"namedQueries\", rc.keyPath = \"name\";\n      var ic,\n          oc = f(f(f(f([Ba.store, Ga.store, za.store, Xa.store, Qa.store, Fa.store, Za.store, $a.store], [ec.store]), [Ya.store]), [tc.store]), [nc.store, rc.store]),\n          sc = (h(uc, ic = o), uc);\n\n      function uc(t, e) {\n        var n = this;\n        return (n = ic.call(this) || this).bs = t, n.vs = e, n;\n      }\n\n      function ac(t, e) {\n        return wa.Hn(t.bs, e);\n      }\n\n      var cc = (pc.prototype.Ds = function (t, e, n) {\n        for (var r, i, o, s, u, a, c = n.Cs, h = 0; h < this.mutations.length; h++) {\n          var f = this.mutations[h];\n          f.key.isEqual(t) && (r = f, i = e, o = c[h], f = a = u = s = void 0, e = r instanceof Hs ? (u = o, f = (s = r).value, u.transformResults && (a = Js(s.fieldTransforms, i, u.transformResults), f = Xs(s.fieldTransforms, f, a)), new so(s.key, u.version, f, {\n            hasCommittedMutations: !0\n          })) : r instanceof Bs ? function (t, e, n) {\n            if (!Vs(t.Gt, e)) return new ao(t.key, n.version);\n            e = Ks(t, e, n.transformResults ? Js(t.fieldTransforms, e, n.transformResults) : []);\n            return new so(t.key, n.version, e, {\n              hasCommittedMutations: !0\n            });\n          }(r, i, o) : new uo(r.key, o.version, {\n            hasCommittedMutations: !0\n          }));\n        }\n\n        return e;\n      }, pc.prototype.xs = function (t, e) {\n        for (var n = 0, r = this.baseMutations; n < r.length; n++) (i = r[n]).key.isEqual(t) && (e = Ms(i, e, 0, this.Ss));\n\n        for (var i, o = 0, s = this.mutations; o < s.length; o++) {\n          (i = s[o]).key.isEqual(t) && (e = Ms(i, e, 0, this.Ss));\n        }\n\n        return e;\n      }, pc.prototype.Ns = function (n) {\n        var r = this,\n            i = n;\n        return this.mutations.forEach(function (t) {\n          var e = r.xs(t.key, n.get(t.key));\n          e && (i = i.Ht(t.key, e));\n        }), i;\n      }, pc.prototype.keys = function () {\n        return this.mutations.reduce(function (t, e) {\n          return t.add(e.key);\n        }, Iu());\n      }, pc.prototype.isEqual = function (t) {\n        return this.batchId === t.batchId && Rr(this.mutations, t.mutations, Us) && Rr(this.baseMutations, t.baseMutations, Us);\n      }, pc),\n          hc = (lc.from = function (t, e, n) {\n        kr(t.mutations.length === n.length);\n\n        for (var r = wu, i = t.mutations, o = 0; o < i.length; o++) r = r.Ht(i[o].key, n[o].version);\n\n        return new lc(t, e, n, r);\n      }, lc),\n          fc = function fc(t) {\n        this.ks = t;\n      };\n\n      function lc(t, e, n, r) {\n        this.batch = t, this.Os = e, this.Cs = n, this.Fs = r;\n      }\n\n      function pc(t, e, n, r) {\n        this.batchId = t, this.Ss = e, this.baseMutations = n, this.mutations = r;\n      }\n\n      function dc(t, e) {\n        if (e.document) return ra(t.ks, e.document, !!e.hasCommittedMutations);\n\n        if (e.noDocument) {\n          var n = bi.Tt(e.noDocument.path),\n              r = wc(e.noDocument.readTime);\n          return new uo(n, r, {\n            hasCommittedMutations: !!e.hasCommittedMutations\n          });\n        }\n\n        if (e.unknownDocument) {\n          n = bi.Tt(e.unknownDocument.path), r = wc(e.unknownDocument.version);\n          return new ao(n, r);\n        }\n\n        return Or();\n      }\n\n      function yc(t, e, n) {\n        var r = vc(n),\n            n = e.key.path.Z().rt();\n\n        if (e instanceof so) {\n          var i = {\n            name: Yu(o = t.ks, (s = e).key),\n            fields: s.vt().mapValue.fields,\n            updateTime: zu(o, s.version.G())\n          },\n              o = e.hasCommittedMutations;\n          return new Xa(null, null, i, o, r, n);\n        }\n\n        if (e instanceof uo) {\n          var s = e.key.path.rt(),\n              i = mc(e.version),\n              o = e.hasCommittedMutations;\n          return new Xa(null, new Ja(s, i), null, o, r, n);\n        }\n\n        if (e instanceof ao) {\n          o = e.key.path.rt(), e = mc(e.version);\n          return new Xa(new Wa(o, e), null, null, !0, r, n);\n        }\n\n        return Or();\n      }\n\n      function vc(t) {\n        t = t.G();\n        return [t.seconds, t.nanoseconds];\n      }\n\n      function gc(t) {\n        t = new yi(t[0], t[1]);\n        return vi.j(t);\n      }\n\n      function mc(t) {\n        t = t.G();\n        return new Ha(t.seconds, t.nanoseconds);\n      }\n\n      function wc(t) {\n        t = new yi(t.seconds, t.nanoseconds);\n        return vi.j(t);\n      }\n\n      function bc(e, t) {\n        for (var n = (t.baseMutations || []).map(function (t) {\n          return oa(e.ks, t);\n        }), r = t.mutations.length - 1; 0 <= r; --r) {\n          var i = t.mutations[r];\n          void 0 !== (null == i ? void 0 : i.transform) && (t.mutations[r - 1].updateTransforms = i.transform.fieldTransforms, t.mutations.splice(r, 1), --r);\n        }\n\n        var o = t.mutations.map(function (t) {\n          return oa(e.ks, t);\n        }),\n            s = yi.fromMillis(t.localWriteTimeMs);\n        return new cc(t.batchId, s, n, o);\n      }\n\n      function Ic(t) {\n        var e = wc(t.readTime),\n            n = void 0 !== t.lastLimboFreeSnapshotVersion ? wc(t.lastLimboFreeSnapshotVersion) : vi.min(),\n            r = void 0 !== t.query.documents ? (kr(1 === (r = t.query).documents.length), rs(Yo(Zu(r.documents[0])))) : rs(aa(t.query));\n        return new hs(r, t.targetId, 0, t.lastListenSequenceNumber, e, n, Mr.fromBase64String(t.resumeToken));\n      }\n\n      function _c(t, e) {\n        var n = mc(e.Mt),\n            r = mc(e.lastLimboFreeSnapshotVersion),\n            i = (go(e.target) ? sa : ua)(t.ks, e.target),\n            t = e.resumeToken.toBase64();\n        return new Qa(e.targetId, yo(e.target), n, t, e.sequenceNumber, r, i);\n      }\n\n      function Ec(t) {\n        var e = aa({\n          parent: t.parent,\n          structuredQuery: t.structuredQuery\n        });\n        return \"LAST\" === t.limitType ? is(e, e.limit, \"L\") : e;\n      }\n\n      var Tc = (Nc.prototype.Ms = function (t, e) {\n        return Sc(t).get(e).next(function (t) {\n          if (t) return {\n            id: (t = t).bundleId,\n            createTime: wc(t.createTime),\n            version: t.version\n          };\n        });\n      }, Nc.prototype.Ls = function (t, e) {\n        return Sc(t).put({\n          bundleId: (e = e).id,\n          createTime: mc(Ju(e.createTime)),\n          version: e.version\n        });\n      }, Nc.prototype.$s = function (t, e) {\n        return Ac(t).get(e).next(function (t) {\n          if (t) return {\n            name: (t = t).name,\n            query: Ec(t.bundledQuery),\n            readTime: wc(t.readTime)\n          };\n        });\n      }, Nc.prototype.Bs = function (t, e) {\n        return Ac(t).put({\n          name: (e = e).name,\n          readTime: mc(Ju(e.readTime)),\n          bundledQuery: e.bundledQuery\n        });\n      }, Nc);\n\n      function Nc() {}\n\n      function Sc(t) {\n        return ac(t, nc.store);\n      }\n\n      function Ac(t) {\n        return ac(t, rc.store);\n      }\n\n      var xc = (Lc.prototype.Us = function (t, e) {\n        return this.qs.add(e), ga.resolve();\n      }, Lc.prototype.Qs = function (t, e) {\n        return ga.resolve(this.qs.getEntries(e));\n      }, Lc),\n          Dc = (Pc.prototype.add = function (t) {\n        var e = t.et(),\n            n = t.Z(),\n            r = this.index[e] || new pu(gi.J),\n            t = !r.has(n);\n        return this.index[e] = r.add(n), t;\n      }, Pc.prototype.has = function (t) {\n        var e = t.et(),\n            t = t.Z(),\n            e = this.index[e];\n        return e && e.has(t);\n      }, Pc.prototype.getEntries = function (t) {\n        return (this.index[t] || new pu(gi.J)).rt();\n      }, Pc),\n          Oc = (kc.prototype.Us = function (t, e) {\n        var n = this;\n        if (this.Ks.has(e)) return ga.resolve();\n        var r = e.et(),\n            i = e.Z();\n        t.Vs(function () {\n          n.Ks.add(e);\n        });\n        i = {\n          collectionId: r,\n          parent: Ua(i)\n        };\n        return Cc(t).put(i);\n      }, kc.prototype.Qs = function (t, i) {\n        var o = [],\n            e = IDBKeyRange.bound([i, \"\"], [Vr(i), \"\"], !1, !0);\n        return Cc(t).os(e).next(function (t) {\n          for (var e = 0, n = t; e < n.length; e++) {\n            var r = n[e];\n            if (r.collectionId !== i) break;\n            o.push(qa(r.parent));\n          }\n\n          return o;\n        });\n      }, kc);\n\n      function kc() {\n        this.Ks = new Dc();\n      }\n\n      function Pc() {\n        this.index = {};\n      }\n\n      function Lc() {\n        this.qs = new Dc();\n      }\n\n      function Cc(t) {\n        return ac(t, tc.store);\n      }\n\n      var Rc = {\n        js: !1,\n        Ws: 0,\n        Gs: 0,\n        zs: 0\n      },\n          Vc = (Mc.Xs = function (t) {\n        return new Mc(t, Mc.Zs, Mc.ti);\n      }, Mc);\n\n      function Mc(t, e, n) {\n        this.Hs = t, this.Js = e, this.Ys = n;\n      }\n\n      function Uc(e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            if (e.code !== qr.FAILED_PRECONDITION || e.message !== Va) throw e;\n            return Sr(\"LocalStore\", \"Unexpectedly lost primary lease\"), [2];\n          });\n        });\n      }\n\n      Vc.Zs = 10, Vc.ti = 1e3, Vc.ei = new Vc(41943040, Vc.Zs, Vc.ti), Vc.ni = new Vc(-1, 0, 0);\n      var jc = (Fc.prototype.get = function (t) {\n        var e = this.si(t),\n            e = this.ri[e];\n        if (void 0 !== e) for (var n = 0, r = e; n < r.length; n++) {\n          var i = r[n],\n              o = i[0],\n              i = i[1];\n          if (this.ii(o, t)) return i;\n        }\n      }, Fc.prototype.has = function (t) {\n        return void 0 !== this.get(t);\n      }, Fc.prototype.set = function (t, e) {\n        var n = this.si(t),\n            r = this.ri[n];\n\n        if (void 0 !== r) {\n          for (var i = 0; i < r.length; i++) if (this.ii(r[i][0], t)) return void (r[i] = [t, e]);\n\n          r.push([t, e]);\n        } else this.ri[n] = [[t, e]];\n      }, Fc.prototype.delete = function (t) {\n        var e = this.si(t),\n            n = this.ri[e];\n        if (void 0 === n) return !1;\n\n        for (var r = 0; r < n.length; r++) if (this.ii(n[r][0], t)) return 1 === n.length ? delete this.ri[e] : n.splice(r, 1), !0;\n\n        return !1;\n      }, Fc.prototype.forEach = function (s) {\n        xi(this.ri, function (t, e) {\n          for (var n = 0, r = e; n < r.length; n++) {\n            var i = r[n],\n                o = i[0],\n                i = i[1];\n            s(o, i);\n          }\n        });\n      }, Fc.prototype.nt = function () {\n        return Di(this.ri);\n      }, Fc),\n          Ee = (qc.prototype.ai = function (t) {\n        t = this.oi.get(t);\n        return t ? t.readTime : vi.min();\n      }, qc.prototype.ui = function (t, e) {\n        this.hi(), this.oi.set(t.key, {\n          li: t,\n          readTime: e\n        });\n      }, qc.prototype._i = function (t, e) {\n        void 0 === e && (e = null), this.hi(), this.oi.set(t, {\n          li: null,\n          readTime: e\n        });\n      }, qc.prototype.fi = function (t, e) {\n        this.hi();\n        var n = this.oi.get(e);\n        return void 0 !== n ? ga.resolve(n.li) : this.di(t, e);\n      }, qc.prototype.getEntries = function (t, e) {\n        return this.wi(t, e);\n      }, qc.prototype.apply = function (t) {\n        return this.hi(), this.ci = !0, this.Ei(t);\n      }, qc.prototype.hi = function () {}, qc);\n\n      function qc() {\n        this.oi = new jc(function (t) {\n          return t.toString();\n        }, function (t, e) {\n          return t.isEqual(e);\n        }), this.ci = !1;\n      }\n\n      function Fc(t, e) {\n        this.si = t, this.ii = e, this.ri = {};\n      }\n\n      function Hc(t, e, n) {\n        var r = t.store(Ga.store),\n            i = t.store(za.store),\n            o = [],\n            t = IDBKeyRange.only(n.batchId),\n            s = 0,\n            t = r.ls({\n          range: t\n        }, function (t, e, n) {\n          return s++, n.delete();\n        });\n        o.push(t.next(function () {\n          kr(1 === s);\n        }));\n\n        for (var u = [], a = 0, c = n.mutations; a < c.length; a++) {\n          var h = c[a],\n              f = za.key(e, h.key.path, n.batchId);\n          o.push(i.delete(f)), u.push(h.key);\n        }\n\n        return ga.$n(o).next(function () {\n          return u;\n        });\n      }\n\n      function Bc(t) {\n        var e;\n        if (t.document) e = t.document;else if (t.unknownDocument) e = t.unknownDocument;else {\n          if (!t.noDocument) throw Or();\n          e = t.noDocument;\n        }\n        return JSON.stringify(e).length;\n      }\n\n      var Gc = (zc.Ai = function (t, e, n, r) {\n        return kr(\"\" !== t.uid), new zc(t.A() ? t.uid : \"\", e, n, r);\n      }, zc.prototype.Ri = function (t) {\n        var r = !0,\n            e = IDBKeyRange.bound([this.userId, Number.NEGATIVE_INFINITY], [this.userId, Number.POSITIVE_INFINITY]);\n        return Jc(t).ls({\n          index: Ga.userMutationsIndex,\n          range: e\n        }, function (t, e, n) {\n          r = !1, n.done();\n        }).next(function () {\n          return r;\n        });\n      }, zc.prototype.Pi = function (d, y, v, g) {\n        var m = this,\n            w = Wc(d),\n            b = Jc(d);\n        return b.add({}).next(function (t) {\n          kr(\"number\" == typeof t);\n\n          for (var e, n, r, i, o, s = new cc(t, y, v, g), u = (e = m.Kt, n = m.userId, i = (r = s).baseMutations.map(function (t) {\n            return ia(e.ks, t);\n          }), o = r.mutations.map(function (t) {\n            return ia(e.ks, t);\n          }), new Ga(n, r.batchId, r.Ss.toMillis(), i, o)), a = [], c = new pu(function (t, e) {\n            return Cr(t.ot(), e.ot());\n          }), h = 0, f = g; h < f.length; h++) {\n            var l = f[h],\n                p = za.key(m.userId, l.key.path, t),\n                c = c.add(l.key.path.Z());\n            a.push(b.put(u)), a.push(w.put(p, za.PLACEHOLDER));\n          }\n\n          return c.forEach(function (t) {\n            a.push(m.Ti.Us(d, t));\n          }), d.Vs(function () {\n            m.mi[t] = s.keys();\n          }), ga.$n(a).next(function () {\n            return s;\n          });\n        });\n      }, zc.prototype.yi = function (t, e) {\n        var n = this;\n        return Jc(t).get(e).next(function (t) {\n          return t ? (kr(t.userId === n.userId), bc(n.Kt, t)) : null;\n        });\n      }, zc.prototype.gi = function (t, e) {\n        var n = this;\n        return this.mi[e] ? ga.resolve(this.mi[e]) : this.yi(t, e).next(function (t) {\n          if (t) {\n            t = t.keys();\n            return n.mi[e] = t;\n          }\n\n          return null;\n        });\n      }, zc.prototype.Vi = function (t, e) {\n        var r = this,\n            i = e + 1,\n            e = IDBKeyRange.lowerBound([this.userId, i]),\n            o = null;\n        return Jc(t).ls({\n          index: Ga.userMutationsIndex,\n          range: e\n        }, function (t, e, n) {\n          e.userId === r.userId && (kr(e.batchId >= i), o = bc(r.Kt, e)), n.done();\n        }).next(function () {\n          return o;\n        });\n      }, zc.prototype.pi = function (t) {\n        var e = IDBKeyRange.upperBound([this.userId, Number.POSITIVE_INFINITY]),\n            r = -1;\n        return Jc(t).ls({\n          index: Ga.userMutationsIndex,\n          range: e,\n          reverse: !0\n        }, function (t, e, n) {\n          r = e.batchId, n.done();\n        }).next(function () {\n          return r;\n        });\n      }, zc.prototype.bi = function (t) {\n        var e = this,\n            n = IDBKeyRange.bound([this.userId, -1], [this.userId, Number.POSITIVE_INFINITY]);\n        return Jc(t).os(Ga.userMutationsIndex, n).next(function (t) {\n          return t.map(function (t) {\n            return bc(e.Kt, t);\n          });\n        });\n      }, zc.prototype.vi = function (o, s) {\n        var u = this,\n            t = za.prefixForPath(this.userId, s.path),\n            t = IDBKeyRange.lowerBound(t),\n            a = [];\n        return Wc(o).ls({\n          range: t\n        }, function (t, e, n) {\n          var r = t[0],\n              i = t[1],\n              t = t[2],\n              i = qa(i);\n          if (r === u.userId && s.path.isEqual(i)) return Jc(o).get(t).next(function (t) {\n            if (!t) throw Or();\n            kr(t.userId === u.userId), a.push(bc(u.Kt, t));\n          });\n          n.done();\n        }).next(function () {\n          return a;\n        });\n      }, zc.prototype.Si = function (e, t) {\n        var s = this,\n            u = new pu(Cr),\n            n = [];\n        return t.forEach(function (o) {\n          var t = za.prefixForPath(s.userId, o.path),\n              t = IDBKeyRange.lowerBound(t),\n              t = Wc(e).ls({\n            range: t\n          }, function (t, e, n) {\n            var r = t[0],\n                i = t[1],\n                t = t[2],\n                i = qa(i);\n            r === s.userId && o.path.isEqual(i) ? u = u.add(t) : n.done();\n          });\n          n.push(t);\n        }), ga.$n(n).next(function () {\n          return s.Di(e, u);\n        });\n      }, zc.prototype.Ci = function (t, e) {\n        var o = this,\n            s = e.path,\n            u = s.length + 1,\n            e = za.prefixForPath(this.userId, s),\n            e = IDBKeyRange.lowerBound(e),\n            a = new pu(Cr);\n        return Wc(t).ls({\n          range: e\n        }, function (t, e, n) {\n          var r = t[0],\n              i = t[1],\n              t = t[2],\n              i = qa(i);\n          r === o.userId && s.st(i) ? i.length === u && (a = a.add(t)) : n.done();\n        }).next(function () {\n          return o.Di(t, a);\n        });\n      }, zc.prototype.Di = function (e, t) {\n        var n = this,\n            r = [],\n            i = [];\n        return t.forEach(function (t) {\n          i.push(Jc(e).get(t).next(function (t) {\n            if (null === t) throw Or();\n            kr(t.userId === n.userId), r.push(bc(n.Kt, t));\n          }));\n        }), ga.$n(i).next(function () {\n          return r;\n        });\n      }, zc.prototype.xi = function (e, n) {\n        var r = this;\n        return Hc(e.bs, this.userId, n).next(function (t) {\n          return e.Vs(function () {\n            r.Ni(n.batchId);\n          }), ga.forEach(t, function (t) {\n            return r.Ii.Oi(e, t);\n          });\n        });\n      }, zc.prototype.Ni = function (t) {\n        delete this.mi[t];\n      }, zc.prototype.Fi = function (e) {\n        var i = this;\n        return this.Ri(e).next(function (t) {\n          if (!t) return ga.resolve();\n          var t = IDBKeyRange.lowerBound(za.prefixForUser(i.userId)),\n              r = [];\n          return Wc(e).ls({\n            range: t\n          }, function (t, e, n) {\n            t[0] === i.userId ? (t = qa(t[1]), r.push(t)) : n.done();\n          }).next(function () {\n            kr(0 === r.length);\n          });\n        });\n      }, zc.prototype.ki = function (t, e) {\n        return Kc(t, this.userId, e);\n      }, zc.prototype.Mi = function (t) {\n        var e = this;\n        return Xc(t).get(this.userId).next(function (t) {\n          return t || new Ba(e.userId, -1, \"\");\n        });\n      }, zc);\n\n      function zc(t, e, n, r) {\n        this.userId = t, this.Kt = e, this.Ti = n, this.Ii = r, this.mi = {};\n      }\n\n      function Kc(t, o, e) {\n        var e = za.prefixForPath(o, e.path),\n            s = e[1],\n            e = IDBKeyRange.lowerBound(e),\n            u = !1;\n        return Wc(t).ls({\n          range: e,\n          hs: !0\n        }, function (t, e, n) {\n          var r = t[0],\n              i = t[1];\n          t[2], r === o && i === s && (u = !0), n.done();\n        }).next(function () {\n          return u;\n        });\n      }\n\n      function Jc(t) {\n        return ac(t, Ga.store);\n      }\n\n      function Wc(t) {\n        return ac(t, za.store);\n      }\n\n      function Xc(t) {\n        return ac(t, Ba.store);\n      }\n\n      var Yc = (Zc.prototype.next = function () {\n        return this.Li += 2, this.Li;\n      }, Zc.$i = function () {\n        return new Zc(0);\n      }, Zc.Bi = function () {\n        return new Zc(-1);\n      }, Zc),\n          Qc = ($c.prototype.qi = function (n) {\n        var r = this;\n        return this.Ui(n).next(function (t) {\n          var e = new Yc(t.highestTargetId);\n          return t.highestTargetId = e.next(), r.Qi(n, t).next(function () {\n            return t.highestTargetId;\n          });\n        });\n      }, $c.prototype.Ki = function (t) {\n        return this.Ui(t).next(function (t) {\n          return vi.j(new yi(t.lastRemoteSnapshotVersion.seconds, t.lastRemoteSnapshotVersion.nanoseconds));\n        });\n      }, $c.prototype.ji = function (t) {\n        return this.Ui(t).next(function (t) {\n          return t.highestListenSequenceNumber;\n        });\n      }, $c.prototype.Wi = function (e, n, r) {\n        var i = this;\n        return this.Ui(e).next(function (t) {\n          return t.highestListenSequenceNumber = n, r && (t.lastRemoteSnapshotVersion = r.G()), n > t.highestListenSequenceNumber && (t.highestListenSequenceNumber = n), i.Qi(e, t);\n        });\n      }, $c.prototype.Gi = function (e, n) {\n        var r = this;\n        return this.zi(e, n).next(function () {\n          return r.Ui(e).next(function (t) {\n            return t.targetCount += 1, r.Hi(n, t), r.Qi(e, t);\n          });\n        });\n      }, $c.prototype.Ji = function (t, e) {\n        return this.zi(t, e);\n      }, $c.prototype.Yi = function (e, t) {\n        var n = this;\n        return this.Xi(e, t.targetId).next(function () {\n          return th(e).delete(t.targetId);\n        }).next(function () {\n          return n.Ui(e);\n        }).next(function (t) {\n          return kr(0 < t.targetCount), --t.targetCount, n.Qi(e, t);\n        });\n      }, $c.prototype.Zi = function (n, r, i) {\n        var o = this,\n            s = 0,\n            u = [];\n        return th(n).ls(function (t, e) {\n          e = Ic(e);\n          e.sequenceNumber <= r && null === i.get(e.targetId) && (s++, u.push(o.Yi(n, e)));\n        }).next(function () {\n          return ga.$n(u);\n        }).next(function () {\n          return s;\n        });\n      }, $c.prototype.mn = function (t, n) {\n        return th(t).ls(function (t, e) {\n          e = Ic(e);\n          n(e);\n        });\n      }, $c.prototype.Ui = function (t) {\n        return eh(t).get(Za.key).next(function (t) {\n          return kr(null !== t), t;\n        });\n      }, $c.prototype.Qi = function (t, e) {\n        return eh(t).put(Za.key, e);\n      }, $c.prototype.zi = function (t, e) {\n        return th(t).put(_c(this.Kt, e));\n      }, $c.prototype.Hi = function (t, e) {\n        var n = !1;\n        return t.targetId > e.highestTargetId && (e.highestTargetId = t.targetId, n = !0), t.sequenceNumber > e.highestListenSequenceNumber && (e.highestListenSequenceNumber = t.sequenceNumber, n = !0), n;\n      }, $c.prototype.tr = function (t) {\n        return this.Ui(t).next(function (t) {\n          return t.targetCount;\n        });\n      }, $c.prototype.er = function (t, r) {\n        var e = yo(r),\n            e = IDBKeyRange.bound([e, Number.NEGATIVE_INFINITY], [e, Number.POSITIVE_INFINITY]),\n            i = null;\n        return th(t).ls({\n          range: e,\n          index: Qa.queryTargetsIndexName\n        }, function (t, e, n) {\n          e = Ic(e);\n          vo(r, e.target) && (i = e, n.done());\n        }).next(function () {\n          return i;\n        });\n      }, $c.prototype.nr = function (n, t, r) {\n        var i = this,\n            o = [],\n            s = nh(n);\n        return t.forEach(function (t) {\n          var e = Ua(t.path);\n          o.push(s.put(new $a(r, e))), o.push(i.Ii.sr(n, r, t));\n        }), ga.$n(o);\n      }, $c.prototype.ir = function (n, t, r) {\n        var i = this,\n            o = nh(n);\n        return ga.forEach(t, function (t) {\n          var e = Ua(t.path);\n          return ga.$n([o.delete([r, e]), i.Ii.rr(n, r, t)]);\n        });\n      }, $c.prototype.Xi = function (t, e) {\n        t = nh(t), e = IDBKeyRange.bound([e], [e + 1], !1, !0);\n        return t.delete(e);\n      }, $c.prototype.cr = function (t, e) {\n        var e = IDBKeyRange.bound([e], [e + 1], !1, !0),\n            t = nh(t),\n            r = Iu();\n        return t.ls({\n          range: e,\n          hs: !0\n        }, function (t, e, n) {\n          t = qa(t[1]), t = new bi(t);\n          r = r.add(t);\n        }).next(function () {\n          return r;\n        });\n      }, $c.prototype.ki = function (t, e) {\n        var e = Ua(e.path),\n            e = IDBKeyRange.bound([e], [Vr(e)], !1, !0),\n            i = 0;\n        return nh(t).ls({\n          index: $a.documentTargetsIndex,\n          hs: !0,\n          range: e\n        }, function (t, e, n) {\n          var r = t[0];\n          t[1], 0 !== r && (i++, n.done());\n        }).next(function () {\n          return 0 < i;\n        });\n      }, $c.prototype.Dn = function (t, e) {\n        return th(t).get(e).next(function (t) {\n          return t ? Ic(t) : null;\n        });\n      }, $c);\n\n      function $c(t, e) {\n        this.Ii = t, this.Kt = e;\n      }\n\n      function Zc(t) {\n        this.Li = t;\n      }\n\n      function th(t) {\n        return ac(t, Qa.store);\n      }\n\n      function eh(t) {\n        return ac(t, Za.store);\n      }\n\n      function nh(t) {\n        return ac(t, $a.store);\n      }\n\n      function rh(t, e) {\n        var n = t[0],\n            r = t[1],\n            t = e[0],\n            e = e[1],\n            t = Cr(n, t);\n        return 0 === t ? Cr(r, e) : t;\n      }\n\n      var ih = (fh.prototype.hr = function () {\n        return ++this.ur;\n      }, fh.prototype.lr = function (t) {\n        var e = [t, this.hr()];\n        this.buffer.size < this.ar ? this.buffer = this.buffer.add(e) : rh(e, t = this.buffer.last()) < 0 && (this.buffer = this.buffer.delete(t).add(e));\n      }, Object.defineProperty(fh.prototype, \"maxValue\", {\n        get: function get() {\n          return this.buffer.last()[0];\n        },\n        enumerable: !1,\n        configurable: !0\n      }), fh),\n          oh = (hh.prototype.start = function (t) {\n        -1 !== this._r.params.Hs && this.Er(t);\n      }, hh.prototype.stop = function () {\n        this.wr && (this.wr.cancel(), this.wr = null);\n      }, Object.defineProperty(hh.prototype, \"Tr\", {\n        get: function get() {\n          return null !== this.wr;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), hh.prototype.Er = function (n) {\n        var t = this,\n            e = this.dr ? 3e5 : 6e4;\n        Sr(\"LruGarbageCollector\", \"Garbage collection scheduled in \" + e + \"ms\"), this.wr = this.fs.Ir(\"lru_garbage_collection\", e, function () {\n          return y(t, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  this.wr = null, this.dr = !0, t.label = 1;\n\n                case 1:\n                  return t.trys.push([1, 3,, 7]), [4, n.mr(this._r)];\n\n                case 2:\n                  return t.sent(), [3, 7];\n\n                case 3:\n                  return Aa(e = t.sent()) ? (Sr(\"LruGarbageCollector\", \"Ignoring IndexedDB error during garbage collection: \", e), [3, 6]) : [3, 4];\n\n                case 4:\n                  return [4, Uc(e)];\n\n                case 5:\n                  t.sent(), t.label = 6;\n\n                case 6:\n                  return [3, 7];\n\n                case 7:\n                  return [4, this.Er(n)];\n\n                case 8:\n                  return t.sent(), [2];\n              }\n            });\n          });\n        });\n      }, hh),\n          sh = (ch.prototype.Rr = function (t, e) {\n        return this.Ar.Pr(t).next(function (t) {\n          return Math.floor(e / 100 * t);\n        });\n      }, ch.prototype.yr = function (t, e) {\n        var n = this;\n        if (0 === e) return ga.resolve(ui.U);\n        var r = new ih(e);\n        return this.Ar.mn(t, function (t) {\n          return r.lr(t.sequenceNumber);\n        }).next(function () {\n          return n.Ar.gr(t, function (t) {\n            return r.lr(t);\n          });\n        }).next(function () {\n          return r.maxValue;\n        });\n      }, ch.prototype.Zi = function (t, e, n) {\n        return this.Ar.Zi(t, e, n);\n      }, ch.prototype.Vr = function (t, e) {\n        return this.Ar.Vr(t, e);\n      }, ch.prototype.pr = function (e, n) {\n        var r = this;\n        return -1 === this.params.Hs ? (Sr(\"LruGarbageCollector\", \"Garbage collection skipped; disabled\"), ga.resolve(Rc)) : this.br(e).next(function (t) {\n          return t < r.params.Hs ? (Sr(\"LruGarbageCollector\", \"Garbage collection skipped; Cache size \" + t + \" is lower than threshold \" + r.params.Hs), Rc) : r.vr(e, n);\n        });\n      }, ch.prototype.br = function (t) {\n        return this.Ar.br(t);\n      }, ch.prototype.vr = function (e, n) {\n        var r,\n            i,\n            o,\n            s,\n            u,\n            a,\n            c,\n            h = this,\n            f = Date.now();\n        return this.Rr(e, this.params.Js).next(function (t) {\n          return i = t > h.params.Ys ? (Sr(\"LruGarbageCollector\", \"Capping sequence numbers to collect down to the maximum of \" + h.params.Ys + \" from \" + t), h.params.Ys) : t, s = Date.now(), h.yr(e, i);\n        }).next(function (t) {\n          return r = t, u = Date.now(), h.Zi(e, r, n);\n        }).next(function (t) {\n          return o = t, a = Date.now(), h.Vr(e, r);\n        }).next(function (t) {\n          return c = Date.now(), Nr() <= l.DEBUG && Sr(\"LruGarbageCollector\", \"LRU Garbage Collection\\n\\tCounted targets in \" + (s - f) + \"ms\\n\\tDetermined least recently used \" + i + \" in \" + (u - s) + \"ms\\n\\tRemoved \" + o + \" targets in \" + (a - u) + \"ms\\n\\tRemoved \" + t + \" documents in \" + (c - a) + \"ms\\nTotal Duration: \" + (c - f) + \"ms\"), ga.resolve({\n            js: !0,\n            Ws: i,\n            Gs: o,\n            zs: t\n          });\n        });\n      }, ch),\n          uh = (ah.prototype.Pr = function (t) {\n        var n = this.Sr(t);\n        return this.db.Dr().tr(t).next(function (e) {\n          return n.next(function (t) {\n            return e + t;\n          });\n        });\n      }, ah.prototype.Sr = function (t) {\n        var e = 0;\n        return this.gr(t, function (t) {\n          e++;\n        }).next(function () {\n          return e;\n        });\n      }, ah.prototype.mn = function (t, e) {\n        return this.db.Dr().mn(t, e);\n      }, ah.prototype.gr = function (t, n) {\n        return this.Cr(t, function (t, e) {\n          return n(e);\n        });\n      }, ah.prototype.sr = function (t, e, n) {\n        return lh(t, n);\n      }, ah.prototype.rr = function (t, e, n) {\n        return lh(t, n);\n      }, ah.prototype.Zi = function (t, e, n) {\n        return this.db.Dr().Zi(t, e, n);\n      }, ah.prototype.Oi = lh, ah.prototype.Nr = function (t, e) {\n        return r = e, i = !1, Xc(n = t)._s(function (t) {\n          return Kc(n, t, r).next(function (t) {\n            return t && (i = !0), ga.resolve(!t);\n          });\n        }).next(function () {\n          return i;\n        });\n        var n, r, i;\n      }, ah.prototype.Vr = function (n, r) {\n        var i = this,\n            o = this.db.Fr().Or(),\n            s = [],\n            u = 0;\n        return this.Cr(n, function (e, t) {\n          t <= r && (t = i.Nr(n, e).next(function (t) {\n            if (!t) return u++, o.fi(n, e).next(function () {\n              return o._i(e), nh(n).delete([0, Ua(e.path)]);\n            });\n          }), s.push(t));\n        }).next(function () {\n          return ga.$n(s);\n        }).next(function () {\n          return o.apply(n);\n        }).next(function () {\n          return u;\n        });\n      }, ah.prototype.removeTarget = function (t, e) {\n        e = e.Lt(t.vs);\n        return this.db.Dr().Ji(t, e);\n      }, ah.prototype.kr = lh, ah.prototype.Cr = function (t, r) {\n        var i,\n            t = nh(t),\n            o = ui.U;\n        return t.ls({\n          index: $a.documentTargetsIndex\n        }, function (t, e) {\n          var n = t[0],\n              t = (t[1], e.path),\n              e = e.sequenceNumber;\n          0 === n ? (o !== ui.U && r(new bi(qa(i)), o), o = e, i = t) : o = ui.U;\n        }).next(function () {\n          o !== ui.U && r(new bi(qa(i)), o);\n        });\n      }, ah.prototype.br = function (t) {\n        return this.db.Fr().Mr(t);\n      }, ah);\n\n      function ah(t, e) {\n        this.db = t, this._r = new sh(this, e);\n      }\n\n      function ch(t, e) {\n        this.Ar = t, this.params = e;\n      }\n\n      function hh(t, e) {\n        this._r = t, this.fs = e, this.dr = !1, this.wr = null;\n      }\n\n      function fh(t) {\n        this.ar = t, this.buffer = new pu(rh), this.ur = 0;\n      }\n\n      function lh(t, e) {\n        return nh(t).put((t = t.vs, new $a(0, Ua(e.path), t)));\n      }\n\n      var ph,\n          dh = (gh.prototype.ui = function (t, e, n) {\n        return wh(t).put(bh(e), n);\n      }, gh.prototype._i = function (t, e) {\n        t = wh(t), e = bh(e);\n        return t.delete(e);\n      }, gh.prototype.updateMetadata = function (e, n) {\n        var r = this;\n        return this.getMetadata(e).next(function (t) {\n          return t.byteSize += n, r.Lr(e, t);\n        });\n      }, gh.prototype.fi = function (t, e) {\n        var n = this;\n        return wh(t).get(bh(e)).next(function (t) {\n          return n.$r(t);\n        });\n      }, gh.prototype.Br = function (t, e) {\n        var n = this;\n        return wh(t).get(bh(e)).next(function (t) {\n          var e = n.$r(t);\n          return e ? {\n            li: e,\n            size: Bc(t)\n          } : null;\n        });\n      }, gh.prototype.getEntries = function (t, e) {\n        var n = this,\n            r = yu;\n        return this.qr(t, e, function (t, e) {\n          e = n.$r(e);\n          r = r.Ht(t, e);\n        }).next(function () {\n          return r;\n        });\n      }, gh.prototype.Ur = function (t, e) {\n        var r = this,\n            i = yu,\n            o = new su(bi.J);\n        return this.qr(t, e, function (t, e) {\n          var n = r.$r(e);\n          o = n ? (i = i.Ht(t, n), o.Ht(t, Bc(e))) : (i = i.Ht(t, null), o.Ht(t, 0));\n        }).next(function () {\n          return {\n            Qr: i,\n            Kr: o\n          };\n        });\n      }, gh.prototype.qr = function (t, e, i) {\n        if (e.nt()) return ga.resolve();\n        var n = IDBKeyRange.bound(e.first().path.rt(), e.last().path.rt()),\n            o = e.ee(),\n            s = o.ce();\n        return wh(t).ls({\n          range: n\n        }, function (t, e, n) {\n          for (var r = bi.Tt(t); s && bi.J(s, r) < 0;) i(s, null), s = o.ce();\n\n          s && s.isEqual(r) && (i(s, e), s = o.ae() ? o.ce() : null), s ? n.rs(s.path.rt()) : n.done();\n        }).next(function () {\n          for (; s;) i(s, null), s = o.ae() ? o.ce() : null;\n        });\n      }, gh.prototype.jr = function (t, r, e) {\n        var n,\n            i = this,\n            o = mu,\n            s = r.path.length + 1,\n            u = {};\n        return e.isEqual(vi.min()) ? (n = r.path.rt(), u.range = IDBKeyRange.lowerBound(n)) : (n = r.path.rt(), e = vc(e), u.range = IDBKeyRange.lowerBound([n, e], !0), u.index = Xa.collectionReadTimeIndex), wh(t).ls(u, function (t, e, n) {\n          t.length === s && (e = dc(i.Kt, e), r.path.st(e.key.path) ? e instanceof so && as(r, e) && (o = o.Ht(e.key, e)) : n.done());\n        }).next(function () {\n          return o;\n        });\n      }, gh.prototype.Or = function (t) {\n        return new yh(this, !!t && t.Wr);\n      }, gh.prototype.Mr = function (t) {\n        return this.getMetadata(t).next(function (t) {\n          return t.byteSize;\n        });\n      }, gh.prototype.getMetadata = function (t) {\n        return mh(t).get(Ya.key).next(function (t) {\n          return kr(!!t), t;\n        });\n      }, gh.prototype.Lr = function (t, e) {\n        return mh(t).put(Ya.key, e);\n      }, gh.prototype.$r = function (t) {\n        if (t) {\n          t = dc(this.Kt, t);\n          return t instanceof uo && t.version.isEqual(vi.min()) ? null : t;\n        }\n\n        return null;\n      }, gh),\n          yh = (h(vh, ph = Ee), vh.prototype.Ei = function (i) {\n        var o = this,\n            s = [],\n            u = 0,\n            a = new pu(function (t, e) {\n          return Cr(t.ot(), e.ot());\n        });\n        return this.oi.forEach(function (t, e) {\n          var n,\n              r = o.zr.get(t);\n          e.li ? (n = yc(o.Gr.Kt, e.li, o.ai(t)), a = a.add(t.path.Z()), e = Bc(n), u += e - r, s.push(o.Gr.ui(i, t, n))) : (u -= r, o.Wr ? (r = yc(o.Gr.Kt, new uo(t, vi.min()), o.ai(t)), s.push(o.Gr.ui(i, t, r))) : s.push(o.Gr._i(i, t)));\n        }), a.forEach(function (t) {\n          s.push(o.Gr.Ti.Us(i, t));\n        }), s.push(this.Gr.updateMetadata(i, u)), ga.$n(s);\n      }, vh.prototype.di = function (t, e) {\n        var n = this;\n        return this.Gr.Br(t, e).next(function (t) {\n          return null === t ? (n.zr.set(e, 0), null) : (n.zr.set(e, t.size), t.li);\n        });\n      }, vh.prototype.wi = function (t, e) {\n        var n = this;\n        return this.Gr.Ur(t, e).next(function (t) {\n          var e = t.Qr;\n          return t.Kr.forEach(function (t, e) {\n            n.zr.set(t, e);\n          }), e;\n        });\n      }, vh);\n\n      function vh(t, e) {\n        var n = this;\n        return (n = ph.call(this) || this).Gr = t, n.Wr = e, n.zr = new jc(function (t) {\n          return t.toString();\n        }, function (t, e) {\n          return t.isEqual(e);\n        }), n;\n      }\n\n      function gh(t, e) {\n        this.Kt = t, this.Ti = e;\n      }\n\n      function mh(t) {\n        return ac(t, Ya.store);\n      }\n\n      function wh(t) {\n        return ac(t, Xa.store);\n      }\n\n      function bh(t) {\n        return t.path.rt();\n      }\n\n      var Ih = (_h.prototype.Yn = function (e, n, t, r) {\n        var i = this;\n        kr(t < r && 0 <= t && r <= 11);\n        var o = new ma(\"createOrUpgrade\", n);\n        t < 1 && 1 <= r && (e.createObjectStore(Fa.store), (s = e).createObjectStore(Ba.store, {\n          keyPath: Ba.keyPath\n        }), s.createObjectStore(Ga.store, {\n          keyPath: Ga.keyPath,\n          autoIncrement: !0\n        }).createIndex(Ga.userMutationsIndex, Ga.userMutationsKeyPath, {\n          unique: !0\n        }), s.createObjectStore(za.store), Eh(e), e.createObjectStore(Xa.store));\n        var s,\n            u = ga.resolve();\n        return t < 3 && 3 <= r && (0 !== t && ((s = e).deleteObjectStore($a.store), s.deleteObjectStore(Qa.store), s.deleteObjectStore(Za.store), Eh(e)), u = u.next(function () {\n          return t = o.store(Za.store), e = new Za(0, 0, vi.min().G(), 0), t.put(Za.key, e);\n          var t, e;\n        })), t < 4 && 4 <= r && (0 !== t && (u = u.next(function () {\n          return n = e, (r = o).store(Ga.store).os().next(function (t) {\n            n.deleteObjectStore(Ga.store), n.createObjectStore(Ga.store, {\n              keyPath: Ga.keyPath,\n              autoIncrement: !0\n            }).createIndex(Ga.userMutationsIndex, Ga.userMutationsKeyPath, {\n              unique: !0\n            });\n            var e = r.store(Ga.store),\n                t = t.map(function (t) {\n              return e.put(t);\n            });\n            return ga.$n(t);\n          });\n          var n, r;\n        })), u = u.next(function () {\n          e.createObjectStore(ec.store, {\n            keyPath: ec.keyPath\n          });\n        })), t < 5 && 5 <= r && (u = u.next(function () {\n          return i.Hr(o);\n        })), t < 6 && 6 <= r && (u = u.next(function () {\n          return e.createObjectStore(Ya.store), i.Jr(o);\n        })), t < 7 && 7 <= r && (u = u.next(function () {\n          return i.Yr(o);\n        })), t < 8 && 8 <= r && (u = u.next(function () {\n          return i.Xr(e, o);\n        })), t < 9 && 9 <= r && (u = u.next(function () {\n          var t;\n          (t = e).objectStoreNames.contains(\"remoteDocumentChanges\") && t.deleteObjectStore(\"remoteDocumentChanges\"), (t = n.objectStore(Xa.store)).createIndex(Xa.readTimeIndex, Xa.readTimeIndexPath, {\n            unique: !1\n          }), t.createIndex(Xa.collectionReadTimeIndex, Xa.collectionReadTimeIndexPath, {\n            unique: !1\n          });\n        })), t < 10 && 10 <= r && (u = u.next(function () {\n          return i.Zr(o);\n        })), t < 11 && 11 <= r && (u = u.next(function () {\n          e.createObjectStore(nc.store, {\n            keyPath: nc.keyPath\n          }), e.createObjectStore(rc.store, {\n            keyPath: rc.keyPath\n          });\n        })), u;\n      }, _h.prototype.Jr = function (e) {\n        var n = 0;\n        return e.store(Xa.store).ls(function (t, e) {\n          n += Bc(e);\n        }).next(function () {\n          var t = new Ya(n);\n          return e.store(Ya.store).put(Ya.key, t);\n        });\n      }, _h.prototype.Hr = function (n) {\n        var r = this,\n            t = n.store(Ba.store),\n            i = n.store(Ga.store);\n        return t.os().next(function (t) {\n          return ga.forEach(t, function (e) {\n            var t = IDBKeyRange.bound([e.userId, -1], [e.userId, e.lastAcknowledgedBatchId]);\n            return i.os(Ga.userMutationsIndex, t).next(function (t) {\n              return ga.forEach(t, function (t) {\n                kr(t.userId === e.userId);\n                t = bc(r.Kt, t);\n                return Hc(n, e.userId, t).next(function () {});\n              });\n            });\n          });\n        });\n      }, _h.prototype.Yr = function (t) {\n        var o = t.store($a.store),\n            e = t.store(Xa.store);\n        return t.store(Za.store).get(Za.key).next(function (r) {\n          var i = [];\n          return e.ls(function (t, e) {\n            var n = new gi(t),\n                t = [0, Ua(n)];\n            i.push(o.get(t).next(function (t) {\n              return t ? ga.resolve() : o.put(new $a(0, Ua(n), r.highestListenSequenceNumber));\n            }));\n          }).next(function () {\n            return ga.$n(i);\n          });\n        });\n      }, _h.prototype.Xr = function (t, e) {\n        t.createObjectStore(tc.store, {\n          keyPath: tc.keyPath\n        });\n\n        function r(t) {\n          if (i.add(t)) {\n            var e = t.et(),\n                t = t.Z();\n            return n.put({\n              collectionId: e,\n              parent: Ua(t)\n            });\n          }\n        }\n\n        var n = e.store(tc.store),\n            i = new Dc();\n        return e.store(Xa.store).ls({\n          hs: !0\n        }, function (t, e) {\n          t = new gi(t);\n          return r(t.Z());\n        }).next(function () {\n          return e.store(za.store).ls({\n            hs: !0\n          }, function (t, e) {\n            t[0];\n            var n = t[1],\n                n = (t[2], qa(n));\n            return r(n.Z());\n          });\n        });\n      }, _h.prototype.Zr = function (t) {\n        var n = this,\n            r = t.store(Qa.store);\n        return r.ls(function (t, e) {\n          e = Ic(e), e = _c(n.Kt, e);\n          return r.put(e);\n        });\n      }, _h);\n\n      function _h(t) {\n        this.Kt = t;\n      }\n\n      function Eh(t) {\n        t.createObjectStore($a.store, {\n          keyPath: $a.keyPath\n        }).createIndex($a.documentTargetsIndex, $a.documentTargetsKeyPath, {\n          unique: !0\n        }), t.createObjectStore(Qa.store, {\n          keyPath: Qa.keyPath\n        }).createIndex(Qa.queryTargetsIndexName, Qa.queryTargetsKeyPath, {\n          unique: !0\n        }), t.createObjectStore(Za.store);\n      }\n\n      var Th = \"Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.\",\n          Nh = (Sh.prototype.start = function () {\n        var e = this;\n        return this.Io().then(function () {\n          if (!e.isPrimary && !e.allowTabSynchronization) throw new Fr(qr.FAILED_PRECONDITION, Th);\n          return e.mo(), e.Ao(), e.Ro(), e.runTransaction(\"getHighestListenSequenceNumber\", \"readonly\", function (t) {\n            return e.fo.ji(t);\n          });\n        }).then(function (t) {\n          e.io = new ui(t, e.no);\n        }).then(function () {\n          e.ro = !0;\n        }).catch(function (t) {\n          return e._o && e._o.close(), Promise.reject(t);\n        });\n      }, Sh.prototype.Po = function (n) {\n        var t = this;\n        return this.ho = function (e) {\n          return y(t, void 0, void 0, function () {\n            return v(this, function (t) {\n              return this.Tr ? [2, n(e)] : [2];\n            });\n          });\n        }, n(this.isPrimary);\n      }, Sh.prototype.yo = function (n) {\n        var t = this;\n\n        this._o.Zn(function (e) {\n          return y(t, void 0, void 0, function () {\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return null === e.newVersion ? [4, n()] : [3, 2];\n\n                case 1:\n                  t.sent(), t.label = 2;\n\n                case 2:\n                  return [2];\n              }\n            });\n          });\n        });\n      }, Sh.prototype.Vo = function (t) {\n        var e = this;\n        this.networkEnabled !== t && (this.networkEnabled = t, this.eo.ys(function () {\n          return y(e, void 0, void 0, function () {\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return this.Tr ? [4, this.Io()] : [3, 2];\n\n                case 1:\n                  t.sent(), t.label = 2;\n\n                case 2:\n                  return [2];\n              }\n            });\n          });\n        }));\n      }, Sh.prototype.Io = function () {\n        var n = this;\n        return this.runTransaction(\"updateClientMetadataAndTryBecomePrimary\", \"readwrite\", function (e) {\n          return xh(e).put(new ec(n.clientId, Date.now(), n.networkEnabled, n.inForeground)).next(function () {\n            if (n.isPrimary) return n.po(e).next(function (t) {\n              t || (n.isPrimary = !1, n.eo.bo(function () {\n                return n.ho(!1);\n              }));\n            });\n          }).next(function () {\n            return n.vo(e);\n          }).next(function (t) {\n            return n.isPrimary && !t ? n.So(e).next(function () {\n              return !1;\n            }) : !!t && n.Do(e).next(function () {\n              return !0;\n            });\n          });\n        }).catch(function (t) {\n          if (Aa(t)) return Sr(\"IndexedDbPersistence\", \"Failed to extend owner lease: \", t), n.isPrimary;\n          if (!n.allowTabSynchronization) throw t;\n          return Sr(\"IndexedDbPersistence\", \"Releasing owner lease after error during lease refresh\", t), !1;\n        }).then(function (t) {\n          n.isPrimary !== t && n.eo.bo(function () {\n            return n.ho(t);\n          }), n.isPrimary = t;\n        });\n      }, Sh.prototype.po = function (t) {\n        var e = this;\n        return Ah(t).get(Fa.key).next(function (t) {\n          return ga.resolve(e.Co(t));\n        });\n      }, Sh.prototype.xo = function (t) {\n        return xh(t).delete(this.clientId);\n      }, Sh.prototype.No = function () {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n,\n              r,\n              i,\n              o = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return !this.isPrimary || this.Oo(this.uo, 18e5) ? [3, 2] : (this.uo = Date.now(), [4, this.runTransaction(\"maybeGarbageCollectMultiClientState\", \"readwrite-primary\", function (t) {\n                  var r = ac(t, ec.store);\n                  return r.os().next(function (t) {\n                    var e = o.Fo(t, 18e5),\n                        n = t.filter(function (t) {\n                      return -1 === e.indexOf(t);\n                    });\n                    return ga.forEach(n, function (t) {\n                      return r.delete(t.clientId);\n                    }).next(function () {\n                      return n;\n                    });\n                  });\n                }).catch(function () {\n                  return [];\n                })]);\n\n              case 1:\n                if (e = t.sent(), this.To) for (n = 0, r = e; n < r.length; n++) i = r[n], this.To.removeItem(this.ko(i.clientId));\n                t.label = 2;\n\n              case 2:\n                return [2];\n            }\n          });\n        });\n      }, Sh.prototype.Ro = function () {\n        var t = this;\n        this.ao = this.eo.Ir(\"client_metadata_refresh\", 4e3, function () {\n          return t.Io().then(function () {\n            return t.No();\n          }).then(function () {\n            return t.Ro();\n          });\n        });\n      }, Sh.prototype.Co = function (t) {\n        return !!t && t.ownerId === this.clientId;\n      }, Sh.prototype.vo = function (e) {\n        var r = this;\n        return this.so ? ga.resolve(!0) : Ah(e).get(Fa.key).next(function (t) {\n          if (null !== t && r.Oo(t.leaseTimestampMs, 5e3) && !r.Mo(t.ownerId)) {\n            if (r.Co(t) && r.networkEnabled) return !0;\n\n            if (!r.Co(t)) {\n              if (!t.allowTabSynchronization) throw new Fr(qr.FAILED_PRECONDITION, Th);\n              return !1;\n            }\n          }\n\n          return !(!r.networkEnabled || !r.inForeground) || xh(e).os().next(function (t) {\n            return void 0 === r.Fo(t, 5e3).find(function (t) {\n              if (r.clientId !== t.clientId) {\n                var e = !r.networkEnabled && t.networkEnabled,\n                    n = !r.inForeground && t.inForeground,\n                    t = r.networkEnabled === t.networkEnabled;\n                if (e || n && t) return !0;\n              }\n\n              return !1;\n            });\n          });\n        }).next(function (t) {\n          return r.isPrimary !== t && Sr(\"IndexedDbPersistence\", \"Client \" + (t ? \"is\" : \"is not\") + \" eligible for a primary lease.\"), t;\n        });\n      }, Sh.prototype.Lo = function () {\n        return y(this, void 0, void 0, function () {\n          var n = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.ro = !1, this.$o(), this.ao && (this.ao.cancel(), this.ao = null), this.Bo(), this.qo(), [4, this._o.runTransaction(\"shutdown\", \"readwrite\", [Fa.store, ec.store], function (t) {\n                  var e = new sc(t, ui.U);\n                  return n.So(e).next(function () {\n                    return n.xo(e);\n                  });\n                })];\n\n              case 1:\n                return t.sent(), this._o.close(), this.Uo(), [2];\n            }\n          });\n        });\n      }, Sh.prototype.Fo = function (t, e) {\n        var n = this;\n        return t.filter(function (t) {\n          return n.Oo(t.updateTimeMs, e) && !n.Mo(t.clientId);\n        });\n      }, Sh.prototype.Qo = function () {\n        var e = this;\n        return this.runTransaction(\"getActiveClients\", \"readonly\", function (t) {\n          return xh(t).os().next(function (t) {\n            return e.Fo(t, 18e5).map(function (t) {\n              return t.clientId;\n            });\n          });\n        });\n      }, Object.defineProperty(Sh.prototype, \"Tr\", {\n        get: function get() {\n          return this.ro;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Sh.prototype.Ko = function (t) {\n        return Gc.Ai(t, this.Kt, this.Ti, this.Ii);\n      }, Sh.prototype.Dr = function () {\n        return this.fo;\n      }, Sh.prototype.Fr = function () {\n        return this.wo;\n      }, Sh.prototype.jo = function () {\n        return this.Ti;\n      }, Sh.prototype.Wo = function () {\n        return this.Eo;\n      }, Sh.prototype.runTransaction = function (e, n, r) {\n        var i = this;\n        Sr(\"IndexedDbPersistence\", \"Starting transaction:\", e);\n        var o,\n            t = \"readonly\" === n ? \"readonly\" : \"readwrite\";\n        return this._o.runTransaction(e, t, oc, function (t) {\n          return o = new sc(t, i.io ? i.io.next() : ui.U), \"readwrite-primary\" === n ? i.po(o).next(function (t) {\n            return !!t || i.vo(o);\n          }).next(function (t) {\n            if (!t) throw Ar(\"Failed to obtain primary lease for action '\" + e + \"'.\"), i.isPrimary = !1, i.eo.bo(function () {\n              return i.ho(!1);\n            }), new Fr(qr.FAILED_PRECONDITION, Va);\n            return r(o);\n          }).next(function (t) {\n            return i.Do(o).next(function () {\n              return t;\n            });\n          }) : i.Go(o).next(function () {\n            return r(o);\n          });\n        }).then(function (t) {\n          return o.ps(), t;\n        });\n      }, Sh.prototype.Go = function (t) {\n        var e = this;\n        return Ah(t).get(Fa.key).next(function (t) {\n          if (null !== t && e.Oo(t.leaseTimestampMs, 5e3) && !e.Mo(t.ownerId) && !e.Co(t) && !(e.so || e.allowTabSynchronization && t.allowTabSynchronization)) throw new Fr(qr.FAILED_PRECONDITION, Th);\n        });\n      }, Sh.prototype.Do = function (t) {\n        var e = new Fa(this.clientId, this.allowTabSynchronization, Date.now());\n        return Ah(t).put(Fa.key, e);\n      }, Sh.jn = function () {\n        return wa.jn();\n      }, Sh.prototype.So = function (t) {\n        var e = this,\n            n = Ah(t);\n        return n.get(Fa.key).next(function (t) {\n          return e.Co(t) ? (Sr(\"IndexedDbPersistence\", \"Releasing primary lease.\"), n.delete(Fa.key)) : ga.resolve();\n        });\n      }, Sh.prototype.Oo = function (t, e) {\n        var n = Date.now();\n        return !(t < n - e || n < t && (Ar(\"Detected an update time that is in the future: \" + t + \" > \" + n), 1));\n      }, Sh.prototype.mo = function () {\n        var t = this;\n        null !== this.document && \"function\" == typeof this.document.addEventListener && (this.co = function () {\n          t.eo.ys(function () {\n            return t.inForeground = \"visible\" === t.document.visibilityState, t.Io();\n          });\n        }, this.document.addEventListener(\"visibilitychange\", this.co), this.inForeground = \"visible\" === this.document.visibilityState);\n      }, Sh.prototype.Bo = function () {\n        this.co && (this.document.removeEventListener(\"visibilitychange\", this.co), this.co = null);\n      }, Sh.prototype.Ao = function () {\n        var t,\n            e = this;\n        \"function\" == typeof (null === (t = this.window) || void 0 === t ? void 0 : t.addEventListener) && (this.oo = function () {\n          e.$o(), e.eo.ys(function () {\n            return e.Lo();\n          });\n        }, this.window.addEventListener(\"unload\", this.oo));\n      }, Sh.prototype.qo = function () {\n        this.oo && (this.window.removeEventListener(\"unload\", this.oo), this.oo = null);\n      }, Sh.prototype.Mo = function (t) {\n        try {\n          var e = null !== (null === (e = this.To) || void 0 === e ? void 0 : e.getItem(this.ko(t)));\n          return Sr(\"IndexedDbPersistence\", \"Client '\" + t + \"' \" + (e ? \"is\" : \"is not\") + \" zombied in LocalStorage\"), e;\n        } catch (t) {\n          return Ar(\"IndexedDbPersistence\", \"Failed to get zombied client id.\", t), !1;\n        }\n      }, Sh.prototype.$o = function () {\n        if (this.To) try {\n          this.To.setItem(this.ko(this.clientId), String(Date.now()));\n        } catch (t) {\n          Ar(\"Failed to set zombie client id.\", t);\n        }\n      }, Sh.prototype.Uo = function () {\n        if (this.To) try {\n          this.To.removeItem(this.ko(this.clientId));\n        } catch (t) {}\n      }, Sh.prototype.ko = function (t) {\n        return \"firestore_zombie_\" + this.persistenceKey + \"_\" + t;\n      }, Sh);\n\n      function Sh(t, e, n, r, i, o, s, u, a, c) {\n        if (this.allowTabSynchronization = t, this.persistenceKey = e, this.clientId = n, this.eo = i, this.window = o, this.document = s, this.no = a, this.so = c, this.io = null, this.ro = !1, this.isPrimary = !1, this.networkEnabled = !0, this.oo = null, this.inForeground = !1, this.co = null, this.ao = null, this.uo = Number.NEGATIVE_INFINITY, this.ho = function (t) {\n          return Promise.resolve();\n        }, !Sh.jn()) throw new Fr(qr.UNIMPLEMENTED, \"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\");\n        this.Ii = new uh(this, r), this.lo = e + \"main\", this.Kt = new fc(u), this._o = new wa(this.lo, 11, new Ih(this.Kt)), this.fo = new Qc(this.Ii, this.Kt), this.Ti = new Oc(), this.wo = (e = this.Kt, u = this.Ti, new dh(e, u)), this.Eo = new Tc(), this.window && this.window.localStorage ? this.To = this.window.localStorage : (this.To = null, !1 === c && Ar(\"IndexedDbPersistence\", \"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page.\"));\n      }\n\n      function Ah(t) {\n        return ac(t, Fa.store);\n      }\n\n      function xh(t) {\n        return ac(t, ec.store);\n      }\n\n      function Dh(t, e) {\n        var n = t.projectId;\n        return t.m || (n += \".\" + t.database), \"firestore/\" + e + \"/\" + n + \"/\";\n      }\n\n      function Oh(t, e) {\n        this.progress = t, this.zo = e;\n      }\n\n      var kh = (Uh.prototype.Jo = function (e, n) {\n        var r = this;\n        return this.Ho.vi(e, n).next(function (t) {\n          return r.Yo(e, n, t);\n        });\n      }, Uh.prototype.Yo = function (t, r, i) {\n        return this.wo.fi(t, r).next(function (t) {\n          for (var e = 0, n = i; e < n.length; e++) t = n[e].xs(r, t);\n\n          return t;\n        });\n      }, Uh.prototype.Xo = function (t, e, i) {\n        var o = yu;\n        return e.forEach(function (t, e) {\n          for (var n = 0, r = i; n < r.length; n++) e = r[n].xs(t, e);\n\n          o = o.Ht(t, e);\n        }), o;\n      }, Uh.prototype.Zo = function (e, t) {\n        var n = this;\n        return this.wo.getEntries(e, t).next(function (t) {\n          return n.tc(e, t);\n        });\n      }, Uh.prototype.tc = function (e, r) {\n        var i = this;\n        return this.Ho.Si(e, r).next(function (t) {\n          var t = i.Xo(e, r, t),\n              n = yu;\n          return t.forEach(function (t, e) {\n            e = e || new uo(t, vi.min()), n = n.Ht(t, e);\n          }), n;\n        });\n      }, Uh.prototype.jr = function (t, e, n) {\n        return r = e, bi.Et(r.path) && null === r.collectionGroup && 0 === r.filters.length ? this.ec(t, e.path) : es(e) ? this.nc(t, e, n) : this.sc(t, e, n);\n        var r;\n      }, Uh.prototype.ec = function (t, e) {\n        return this.Jo(t, new bi(e)).next(function (t) {\n          var e = mu;\n          return t instanceof so && (e = e.Ht(t.key, t)), e;\n        });\n      }, Uh.prototype.nc = function (n, r, i) {\n        var o = this,\n            s = r.collectionGroup,\n            u = mu;\n        return this.Ti.Qs(n, s).next(function (t) {\n          return ga.forEach(t, function (t) {\n            var e,\n                e = (e = r, t = t.child(s), new Wo(t, null, e.Nt.slice(), e.filters.slice(), e.limit, e.limitType, e.startAt, e.endAt));\n            return o.sc(n, e, i).next(function (t) {\n              t.forEach(function (t, e) {\n                u = u.Ht(t, e);\n              });\n            });\n          }).next(function () {\n            return u;\n          });\n        });\n      }, Uh.prototype.sc = function (e, n, t) {\n        var a,\n            c,\n            r = this;\n        return this.wo.jr(e, n, t).next(function (t) {\n          return a = t, r.Ho.Ci(e, n);\n        }).next(function (t) {\n          return c = t, r.ic(e, c, a).next(function (t) {\n            a = t;\n\n            for (var e = 0, n = c; e < n.length; e++) for (var r = n[e], i = 0, o = r.mutations; i < o.length; i++) {\n              var s = o[i],\n                  u = s.key,\n                  s = Ms(s, a.get(u), 0, r.Ss);\n              a = s instanceof so ? a.Ht(u, s) : a.remove(u);\n            }\n          });\n        }).next(function () {\n          return a.forEach(function (t, e) {\n            as(n, e) || (a = a.remove(t));\n          }), a;\n        });\n      }, Uh.prototype.ic = function (t, e, n) {\n        for (var r = Iu(), i = 0, o = e; i < o.length; i++) for (var s = 0, u = o[i].mutations; s < u.length; s++) {\n          var a = u[s];\n          a instanceof Bs && null === n.get(a.key) && (r = r.add(a.key));\n        }\n\n        var c = n;\n        return this.wo.getEntries(t, r).next(function (t) {\n          return t.forEach(function (t, e) {\n            null !== e && e instanceof so && (c = c.Ht(t, e));\n          }), c;\n        });\n      }, Uh),\n          Ph = (Mh.cc = function (t, e) {\n        for (var n = Iu(), r = Iu(), i = 0, o = e.docChanges; i < o.length; i++) {\n          var s = o[i];\n\n          switch (s.type) {\n            case 0:\n              n = n.add(s.doc.key);\n              break;\n\n            case 1:\n              r = r.add(s.doc.key);\n          }\n        }\n\n        return new Mh(t, e.fromCache, n, r);\n      }, Mh),\n          Lh = (Vh.prototype.ac = function (t) {\n        this.uc = t;\n      }, Vh.prototype.jr = function (e, r, i, o) {\n        var s = this;\n        return 0 === r.filters.length && null === r.limit && null == r.startAt && null == r.endAt && (0 === r.Nt.length || 1 === r.Nt.length && r.Nt[0].field.ht()) || i.isEqual(vi.min()) ? this.hc(e, r) : this.uc.Zo(e, o).next(function (t) {\n          var n = s.lc(r, t);\n          return (Qo(r) || $o(r)) && s._c(r.limitType, n, o, i) ? s.hc(e, r) : (Nr() <= l.DEBUG && Sr(\"QueryEngine\", \"Re-using previous result from %s to execute query: %s\", i.toString(), us(r)), s.uc.jr(e, r, i).next(function (e) {\n            return n.forEach(function (t) {\n              e = e.Ht(t.key, t);\n            }), e;\n          }));\n        });\n      }, Vh.prototype.lc = function (n, t) {\n        var r = new pu(cs(n));\n        return t.forEach(function (t, e) {\n          e instanceof so && as(n, e) && (r = r.add(e));\n        }), r;\n      }, Vh.prototype._c = function (t, e, n, r) {\n        if (n.size !== e.size) return !0;\n        e = \"F\" === t ? e.last() : e.first();\n        return !!e && (e.hasPendingWrites || 0 < e.version.u(r));\n      }, Vh.prototype.hc = function (t, e) {\n        return Nr() <= l.DEBUG && Sr(\"QueryEngine\", \"Using full collection scan to execute query:\", us(e)), this.uc.jr(t, e, vi.min());\n      }, Vh),\n          Ch = (Rh.prototype.mr = function (e) {\n        var n = this;\n        return this.persistence.runTransaction(\"Collect garbage\", \"readwrite-primary\", function (t) {\n          return e.pr(t, n.dc);\n        });\n      }, Rh);\n\n      function Rh(t, e, n, r) {\n        this.persistence = t, this.fc = e, this.Kt = r, this.dc = new su(Cr), this.wc = new jc(yo, vo), this.Ec = vi.min(), this.Ho = t.Ko(n), this.Tc = t.Fr(), this.fo = t.Dr(), this.Ic = new kh(this.Tc, this.Ho, this.persistence.jo()), this.Eo = t.Wo(), this.fc.ac(this.Ic);\n      }\n\n      function Vh() {}\n\n      function Mh(t, e, n, r) {\n        this.targetId = t, this.fromCache = e, this.rc = n, this.oc = r;\n      }\n\n      function Uh(t, e, n) {\n        this.wo = t, this.Ho = e, this.Ti = n;\n      }\n\n      function jh(t, e, n, r) {\n        return new Ch(t, e, n, r);\n      }\n\n      function qh(i, o) {\n        return y(this, void 0, void 0, function () {\n          var e, n, m, r;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return n = (e = i).Ho, m = e.Ic, [4, e.persistence.runTransaction(\"Handle user change\", \"readonly\", function (v) {\n                  var g;\n                  return e.Ho.bi(v).next(function (t) {\n                    return g = t, n = e.persistence.Ko(o), m = new kh(e.Tc, n, e.persistence.jo()), n.bi(v);\n                  }).next(function (t) {\n                    for (var e = [], n = [], r = Iu(), i = 0, o = g; i < o.length; i++) {\n                      var s = o[i];\n                      e.push(s.batchId);\n\n                      for (var u = 0, a = s.mutations; u < a.length; u++) var c = a[u], r = r.add(c.key);\n                    }\n\n                    for (var h = 0, f = t; h < f.length; h++) {\n                      var l = f[h];\n                      n.push(l.batchId);\n\n                      for (var p = 0, d = l.mutations; p < d.length; p++) {\n                        var y = d[p];\n                        r = r.add(y.key);\n                      }\n                    }\n\n                    return m.Zo(v, r).next(function (t) {\n                      return {\n                        mc: t,\n                        Ac: e,\n                        Rc: n\n                      };\n                    });\n                  });\n                })];\n\n              case 1:\n                return r = t.sent(), [2, (e.Ho = n, e.Ic = m, e.fc.ac(e.Ic), r)];\n            }\n          });\n        });\n      }\n\n      function Fh(t, h) {\n        var f = t;\n        return f.persistence.runTransaction(\"Acknowledge batch\", \"readwrite-primary\", function (t) {\n          var e,\n              r,\n              i,\n              o,\n              s,\n              n,\n              u,\n              a = h.batch.keys(),\n              c = f.Tc.Or({\n            Wr: !0\n          });\n          return e = f, r = t, o = c, s = (i = h).batch, n = s.keys(), u = ga.resolve(), n.forEach(function (n) {\n            u = u.next(function () {\n              return o.fi(r, n);\n            }).next(function (t) {\n              var e = t,\n                  t = i.Fs.get(n);\n              kr(null !== t), (!e || e.version.u(t) < 0) && (e = s.Ds(n, e, i)) && o.ui(e, i.Os);\n            });\n          }), u.next(function () {\n            return e.Ho.xi(r, s);\n          }).next(function () {\n            return c.apply(t);\n          }).next(function () {\n            return f.Ho.Fi(t);\n          }).next(function () {\n            return f.Ic.Zo(t, a);\n          });\n        });\n      }\n\n      function Hh(t) {\n        var e = t;\n        return e.persistence.runTransaction(\"Get last remote snapshot version\", \"readonly\", function (t) {\n          return e.fo.Ki(t);\n        });\n      }\n\n      function Bh(t, r) {\n        var a = t,\n            c = r.Mt,\n            h = a.dc;\n        return a.persistence.runTransaction(\"Apply remote event\", \"readwrite-primary\", function (s) {\n          var t = a.Tc.Or({\n            Wr: !0\n          });\n          h = a.dc;\n          var u = [];\n          r.Fe.forEach(function (t, e) {\n            var n,\n                r,\n                i,\n                o = h.get(e);\n            o && (u.push(a.fo.ir(s, t.Ke, e).next(function () {\n              return a.fo.nr(s, t.Ue, e);\n            })), 0 < (i = t.resumeToken).o() && (n = o.$t(i, c).Lt(s.vs), h = h.Ht(e, n), r = o, i = t, kr(0 < (o = n).resumeToken.o()), (0 === r.resumeToken.o() || 3e8 <= o.Mt.W() - r.Mt.W() || 0 < i.Ue.size + i.Qe.size + i.Ke.size) && u.push(a.fo.Ji(s, n))));\n          });\n          var e,\n              n = yu;\n          return r.Me.forEach(function (t, e) {\n            r.Le.has(t) && u.push(a.persistence.Ii.kr(s, t));\n          }), u.push(Gh(s, t, r.Me, c, void 0).next(function (t) {\n            n = t;\n          })), c.isEqual(vi.min()) || (e = a.fo.Ki(s).next(function (t) {\n            return a.fo.Wi(s, s.vs, c);\n          }), u.push(e)), ga.$n(u).next(function () {\n            return t.apply(s);\n          }).next(function () {\n            return a.Ic.tc(s, n);\n          });\n        }).then(function (t) {\n          return a.dc = h, t;\n        });\n      }\n\n      function Gh(t, s, e, u, a) {\n        var n = Iu();\n        return e.forEach(function (t) {\n          return n = n.add(t);\n        }), s.getEntries(t, n).next(function (i) {\n          var o = yu;\n          return e.forEach(function (t, e) {\n            var n = i.get(t),\n                r = (null == a ? void 0 : a.get(t)) || u;\n            e instanceof uo && e.version.isEqual(vi.min()) ? (s._i(t, r), o = o.Ht(t, e)) : null == n || 0 < e.version.u(n.version) || 0 === e.version.u(n.version) && n.hasPendingWrites ? (s.ui(e, r), o = o.Ht(t, e)) : Sr(\"LocalStore\", \"Ignoring outdated watch update for \", t, \". Current version:\", n.version, \" Watch version:\", e.version);\n          }), o;\n        });\n      }\n\n      function zh(t, r) {\n        var i = t;\n        return i.persistence.runTransaction(\"Allocate target\", \"readwrite\", function (e) {\n          var n;\n          return i.fo.er(e, r).next(function (t) {\n            return t ? (n = t, ga.resolve(n)) : i.fo.qi(e).next(function (t) {\n              return n = new hs(r, t, 0, e.vs), i.fo.Gi(e, n).next(function () {\n                return n;\n              });\n            });\n          });\n        }).then(function (t) {\n          var e = i.dc.get(t.targetId);\n          return (null === e || 0 < t.Mt.u(e.Mt)) && (i.dc = i.dc.Ht(t.targetId, t), i.wc.set(r, t.targetId)), t;\n        });\n      }\n\n      function Kh(i, o, s) {\n        return y(this, void 0, void 0, function () {\n          var e, n, r;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                n = (e = i).dc.get(o), r = s ? \"readwrite\" : \"readwrite-primary\", t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 4,, 5]), s ? [3, 3] : [4, e.persistence.runTransaction(\"Release target\", r, function (t) {\n                  return e.persistence.Ii.removeTarget(t, n);\n                })];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return [3, 5];\n\n              case 4:\n                if (!Aa(r = t.sent())) throw r;\n                return Sr(\"LocalStore\", \"Failed to update sequence numbers for target \" + o + \": \" + r), [3, 5];\n\n              case 5:\n                return e.dc = e.dc.remove(o), e.wc.delete(n.target), [2];\n            }\n          });\n        });\n      }\n\n      function Jh(t, o, s) {\n        var u = t,\n            a = vi.min(),\n            c = Iu();\n        return u.persistence.runTransaction(\"Execute query\", \"readonly\", function (e) {\n          return t = u, n = e, r = rs(o), (void 0 !== (t = (i = t).wc.get(r)) ? ga.resolve(i.dc.get(t)) : i.fo.er(n, r)).next(function (t) {\n            if (t) return a = t.lastLimboFreeSnapshotVersion, u.fo.cr(e, t.targetId).next(function (t) {\n              c = t;\n            });\n          }).next(function () {\n            return u.fc.jr(e, o, s ? a : vi.min(), s ? c : Iu());\n          }).next(function (t) {\n            return {\n              documents: t,\n              Pc: c\n            };\n          });\n          var t, n, r, i;\n        });\n      }\n\n      function Wh(t, e) {\n        var n = t,\n            r = n.fo,\n            t = n.dc.get(e);\n        return t ? Promise.resolve(t.target) : n.persistence.runTransaction(\"Get target data\", \"readonly\", function (t) {\n          return r.Dn(t, e).next(function (t) {\n            return t ? t.target : null;\n          });\n        });\n      }\n\n      function Xh(t) {\n        var s = t;\n        return s.persistence.runTransaction(\"Get new document changes\", \"readonly\", function (t) {\n          return e = s.Tc, n = t, t = s.Ec, r = e, i = yu, o = vc(t), t = wh(n), n = IDBKeyRange.lowerBound(o, !0), t.ls({\n            index: Xa.readTimeIndex,\n            range: n\n          }, function (t, e) {\n            var n = dc(r.Kt, e);\n            i = i.Ht(n.key, n), o = e.readTime;\n          }).next(function () {\n            return {\n              zo: i,\n              readTime: gc(o)\n            };\n          });\n          var e, n, r, i, o;\n        }).then(function (t) {\n          var e = t.zo,\n              t = t.readTime;\n          return s.Ec = t, e;\n        });\n      }\n\n      function Yh(n) {\n        return y(this, void 0, void 0, function () {\n          var e;\n          return v(this, function (t) {\n            return [2, (e = n).persistence.runTransaction(\"Synchronize last document change read time\", \"readonly\", function (t) {\n              return t = wh(t), r = vi.min(), t.ls({\n                index: Xa.readTimeIndex,\n                reverse: !0\n              }, function (t, e, n) {\n                e.readTime && (r = gc(e.readTime)), n.done();\n              }).next(function () {\n                return r;\n              });\n              var r;\n            }).then(function (t) {\n              e.Ec = t;\n            })];\n          });\n        });\n      }\n\n      var Qh,\n          $h,\n          Zh = (wf.prototype.Ms = function (t, e) {\n        return ga.resolve(this.bc.get(e));\n      }, wf.prototype.Ls = function (t, e) {\n        return this.bc.set(e.id, {\n          id: e.id,\n          version: e.version,\n          createTime: Ju(e.createTime)\n        }), ga.resolve();\n      }, wf.prototype.$s = function (t, e) {\n        return ga.resolve(this.vc.get(e));\n      }, wf.prototype.Bs = function (t, e) {\n        return this.vc.set(e.name, {\n          name: (e = e).name,\n          query: Ec(e.bundledQuery),\n          readTime: Ju(e.readTime)\n        }), ga.resolve();\n      }, wf),\n          tf = (mf.prototype.nt = function () {\n        return this.Sc.nt();\n      }, mf.prototype.sr = function (t, e) {\n        e = new ef(t, e);\n        this.Sc = this.Sc.add(e), this.Cc = this.Cc.add(e);\n      }, mf.prototype.Nc = function (t, e) {\n        var n = this;\n        t.forEach(function (t) {\n          return n.sr(t, e);\n        });\n      }, mf.prototype.rr = function (t, e) {\n        this.Oc(new ef(t, e));\n      }, mf.prototype.Fc = function (t, e) {\n        var n = this;\n        t.forEach(function (t) {\n          return n.rr(t, e);\n        });\n      }, mf.prototype.kc = function (t) {\n        var e = this,\n            n = new bi(new gi([])),\n            r = new ef(n, t),\n            t = new ef(n, t + 1),\n            i = [];\n        return this.Cc.Ae([r, t], function (t) {\n          e.Oc(t), i.push(t.key);\n        }), i;\n      }, mf.prototype.Mc = function () {\n        var e = this;\n        this.Sc.forEach(function (t) {\n          return e.Oc(t);\n        });\n      }, mf.prototype.Oc = function (t) {\n        this.Sc = this.Sc.delete(t), this.Cc = this.Cc.delete(t);\n      }, mf.prototype.Lc = function (t) {\n        var e = new bi(new gi([])),\n            n = new ef(e, t),\n            t = new ef(e, t + 1),\n            r = Iu();\n        return this.Cc.Ae([n, t], function (t) {\n          r = r.add(t.key);\n        }), r;\n      }, mf.prototype.ki = function (t) {\n        var e = new ef(t, 0),\n            e = this.Sc.Pe(e);\n        return null !== e && t.isEqual(e.key);\n      }, mf),\n          ef = (gf.Dc = function (t, e) {\n        return bi.J(t.key, e.key) || Cr(t.$c, e.$c);\n      }, gf.xc = function (t, e) {\n        return Cr(t.$c, e.$c) || bi.J(t.key, e.key);\n      }, gf),\n          nf = (vf.prototype.Ri = function (t) {\n        return ga.resolve(0 === this.Ho.length);\n      }, vf.prototype.Pi = function (t, e, n, r) {\n        var i = this.Bc;\n        this.Bc++, 0 < this.Ho.length && this.Ho[this.Ho.length - 1];\n        n = new cc(i, e, n, r);\n        this.Ho.push(n);\n\n        for (var o = 0, s = r; o < s.length; o++) {\n          var u = s[o];\n          this.qc = this.qc.add(new ef(u.key, i)), this.Ti.Us(t, u.key.path.Z());\n        }\n\n        return ga.resolve(n);\n      }, vf.prototype.yi = function (t, e) {\n        return ga.resolve(this.Uc(e));\n      }, vf.prototype.Vi = function (t, e) {\n        e += 1, e = this.Qc(e), e = e < 0 ? 0 : e;\n        return ga.resolve(this.Ho.length > e ? this.Ho[e] : null);\n      }, vf.prototype.pi = function () {\n        return ga.resolve(0 === this.Ho.length ? -1 : this.Bc - 1);\n      }, vf.prototype.bi = function (t) {\n        return ga.resolve(this.Ho.slice());\n      }, vf.prototype.vi = function (t, e) {\n        var n = this,\n            r = new ef(e, 0),\n            e = new ef(e, Number.POSITIVE_INFINITY),\n            i = [];\n        return this.qc.Ae([r, e], function (t) {\n          t = n.Uc(t.$c);\n          i.push(t);\n        }), ga.resolve(i);\n      }, vf.prototype.Si = function (t, e) {\n        var n = this,\n            r = new pu(Cr);\n        return e.forEach(function (t) {\n          var e = new ef(t, 0),\n              t = new ef(t, Number.POSITIVE_INFINITY);\n          n.qc.Ae([e, t], function (t) {\n            r = r.add(t.$c);\n          });\n        }), ga.resolve(this.Kc(r));\n      }, vf.prototype.Ci = function (t, e) {\n        var n = e.path,\n            r = n.length + 1,\n            e = n;\n        bi.Et(e) || (e = e.child(\"\"));\n        var e = new ef(new bi(e), 0),\n            i = new pu(Cr);\n        return this.qc.Re(function (t) {\n          var e = t.key.path;\n          return !!n.st(e) && (e.length === r && (i = i.add(t.$c)), !0);\n        }, e), ga.resolve(this.Kc(i));\n      }, vf.prototype.Kc = function (t) {\n        var e = this,\n            n = [];\n        return t.forEach(function (t) {\n          t = e.Uc(t);\n          null !== t && n.push(t);\n        }), n;\n      }, vf.prototype.xi = function (n, r) {\n        var i = this;\n        kr(0 === this.jc(r.batchId, \"removed\")), this.Ho.shift();\n        var o = this.qc;\n        return ga.forEach(r.mutations, function (t) {\n          var e = new ef(t.key, r.batchId);\n          return o = o.delete(e), i.Ii.Oi(n, t.key);\n        }).next(function () {\n          i.qc = o;\n        });\n      }, vf.prototype.Ni = function (t) {}, vf.prototype.ki = function (t, e) {\n        var n = new ef(e, 0),\n            n = this.qc.Pe(n);\n        return ga.resolve(e.isEqual(n && n.key));\n      }, vf.prototype.Fi = function (t) {\n        return this.Ho.length, ga.resolve();\n      }, vf.prototype.jc = function (t, e) {\n        return this.Qc(t);\n      }, vf.prototype.Qc = function (t) {\n        return 0 === this.Ho.length ? 0 : t - this.Ho[0].batchId;\n      }, vf.prototype.Uc = function (t) {\n        t = this.Qc(t);\n        return t < 0 || t >= this.Ho.length ? null : this.Ho[t];\n      }, vf),\n          rf = (yf.prototype.ui = function (t, e, n) {\n        var r = e.key,\n            i = this.docs.get(r),\n            o = i ? i.size : 0,\n            i = this.Wc(e);\n        return this.docs = this.docs.Ht(r, {\n          li: e,\n          size: i,\n          readTime: n\n        }), this.size += i - o, this.Ti.Us(t, r.path.Z());\n      }, yf.prototype._i = function (t) {\n        var e = this.docs.get(t);\n        e && (this.docs = this.docs.remove(t), this.size -= e.size);\n      }, yf.prototype.fi = function (t, e) {\n        e = this.docs.get(e);\n        return ga.resolve(e ? e.li : null);\n      }, yf.prototype.getEntries = function (t, e) {\n        var n = this,\n            r = yu;\n        return e.forEach(function (t) {\n          var e = n.docs.get(t);\n          r = r.Ht(t, e ? e.li : null);\n        }), ga.resolve(r);\n      }, yf.prototype.jr = function (t, e, n) {\n        for (var r = mu, i = new bi(e.path.child(\"\")), o = this.docs.ne(i); o.ae();) {\n          var s = o.ce(),\n              u = s.key,\n              a = s.value,\n              s = a.li,\n              a = a.readTime;\n          if (!e.path.st(u.path)) break;\n          a.u(n) <= 0 || s instanceof so && as(e, s) && (r = r.Ht(s.key, s));\n        }\n\n        return ga.resolve(r);\n      }, yf.prototype.Gc = function (t, e) {\n        return ga.forEach(this.docs, function (t) {\n          return e(t);\n        });\n      }, yf.prototype.Or = function (t) {\n        return new of(this);\n      }, yf.prototype.Mr = function (t) {\n        return ga.resolve(this.size);\n      }, yf),\n          of = (h(df, $h = Ee), df.prototype.Ei = function (n) {\n        var r = this,\n            i = [];\n        return this.oi.forEach(function (t, e) {\n          e && e.li ? i.push(r.Gr.ui(n, e.li, r.ai(t))) : r.Gr._i(t);\n        }), ga.$n(i);\n      }, df.prototype.di = function (t, e) {\n        return this.Gr.fi(t, e);\n      }, df.prototype.wi = function (t, e) {\n        return this.Gr.getEntries(t, e);\n      }, df),\n          sf = (pf.prototype.mn = function (t, n) {\n        return this.zc.forEach(function (t, e) {\n          return n(e);\n        }), ga.resolve();\n      }, pf.prototype.Ki = function (t) {\n        return ga.resolve(this.lastRemoteSnapshotVersion);\n      }, pf.prototype.ji = function (t) {\n        return ga.resolve(this.Hc);\n      }, pf.prototype.qi = function (t) {\n        return this.highestTargetId = this.Yc.next(), ga.resolve(this.highestTargetId);\n      }, pf.prototype.Wi = function (t, e, n) {\n        return n && (this.lastRemoteSnapshotVersion = n), e > this.Hc && (this.Hc = e), ga.resolve();\n      }, pf.prototype.zi = function (t) {\n        this.zc.set(t.target, t);\n        var e = t.targetId;\n        e > this.highestTargetId && (this.Yc = new Yc(e), this.highestTargetId = e), t.sequenceNumber > this.Hc && (this.Hc = t.sequenceNumber);\n      }, pf.prototype.Gi = function (t, e) {\n        return this.zi(e), this.targetCount += 1, ga.resolve();\n      }, pf.prototype.Ji = function (t, e) {\n        return this.zi(e), ga.resolve();\n      }, pf.prototype.Yi = function (t, e) {\n        return this.zc.delete(e.target), this.Jc.kc(e.targetId), --this.targetCount, ga.resolve();\n      }, pf.prototype.Zi = function (n, r, i) {\n        var o = this,\n            s = 0,\n            u = [];\n        return this.zc.forEach(function (t, e) {\n          e.sequenceNumber <= r && null === i.get(e.targetId) && (o.zc.delete(t), u.push(o.Xi(n, e.targetId)), s++);\n        }), ga.$n(u).next(function () {\n          return s;\n        });\n      }, pf.prototype.tr = function (t) {\n        return ga.resolve(this.targetCount);\n      }, pf.prototype.er = function (t, e) {\n        e = this.zc.get(e) || null;\n        return ga.resolve(e);\n      }, pf.prototype.nr = function (t, e, n) {\n        return this.Jc.Nc(e, n), ga.resolve();\n      }, pf.prototype.ir = function (e, t, n) {\n        this.Jc.Fc(t, n);\n        var r = this.persistence.Ii,\n            i = [];\n        return r && t.forEach(function (t) {\n          i.push(r.Oi(e, t));\n        }), ga.$n(i);\n      }, pf.prototype.Xi = function (t, e) {\n        return this.Jc.kc(e), ga.resolve();\n      }, pf.prototype.cr = function (t, e) {\n        e = this.Jc.Lc(e);\n        return ga.resolve(e);\n      }, pf.prototype.ki = function (t, e) {\n        return ga.resolve(this.Jc.ki(e));\n      }, pf),\n          uf = (lf.prototype.start = function () {\n        return Promise.resolve();\n      }, lf.prototype.Lo = function () {\n        return this.ro = !1, Promise.resolve();\n      }, Object.defineProperty(lf.prototype, \"Tr\", {\n        get: function get() {\n          return this.ro;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), lf.prototype.yo = function () {}, lf.prototype.Vo = function () {}, lf.prototype.jo = function () {\n        return this.Ti;\n      }, lf.prototype.Ko = function (t) {\n        var e = this.Xc[t.R()];\n        return e || (e = new nf(this.Ti, this.Ii), this.Xc[t.R()] = e), e;\n      }, lf.prototype.Dr = function () {\n        return this.fo;\n      }, lf.prototype.Fr = function () {\n        return this.wo;\n      }, lf.prototype.Wo = function () {\n        return this.Eo;\n      }, lf.prototype.runTransaction = function (t, e, n) {\n        var r = this;\n        Sr(\"MemoryPersistence\", \"Starting transaction:\", t);\n        var i = new af(this.io.next());\n        return this.Ii.ta(), n(i).next(function (t) {\n          return r.Ii.ea(i).next(function () {\n            return t;\n          });\n        }).Mn().then(function (t) {\n          return i.ps(), t;\n        });\n      }, lf.prototype.na = function (e, n) {\n        return ga.Bn(Object.values(this.Xc).map(function (t) {\n          return function () {\n            return t.ki(e, n);\n          };\n        }));\n      }, lf),\n          af = (h(ff, Qh = o), ff),\n          cf = (hf.ra = function (t) {\n        return new hf(t);\n      }, Object.defineProperty(hf.prototype, \"oa\", {\n        get: function get() {\n          if (this.ia) return this.ia;\n          throw Or();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), hf.prototype.sr = function (t, e, n) {\n        return this.sa.sr(n, e), this.oa.delete(n.toString()), ga.resolve();\n      }, hf.prototype.rr = function (t, e, n) {\n        return this.sa.rr(n, e), this.oa.add(n.toString()), ga.resolve();\n      }, hf.prototype.Oi = function (t, e) {\n        return this.oa.add(e.toString()), ga.resolve();\n      }, hf.prototype.removeTarget = function (t, e) {\n        var n = this;\n        this.sa.kc(e.targetId).forEach(function (t) {\n          return n.oa.add(t.toString());\n        });\n        var r = this.persistence.Dr();\n        return r.cr(t, e.targetId).next(function (t) {\n          t.forEach(function (t) {\n            return n.oa.add(t.toString());\n          });\n        }).next(function () {\n          return r.Yi(t, e);\n        });\n      }, hf.prototype.ta = function () {\n        this.ia = new Set();\n      }, hf.prototype.ea = function (n) {\n        var r = this,\n            i = this.persistence.Fr().Or();\n        return ga.forEach(this.oa, function (t) {\n          var e = bi.ft(t);\n          return r.ca(n, e).next(function (t) {\n            t || i._i(e);\n          });\n        }).next(function () {\n          return r.ia = null, i.apply(n);\n        });\n      }, hf.prototype.kr = function (t, e) {\n        var n = this;\n        return this.ca(t, e).next(function (t) {\n          t ? n.oa.delete(e.toString()) : n.oa.add(e.toString());\n        });\n      }, hf.prototype.Zc = function (t) {\n        return 0;\n      }, hf.prototype.ca = function (t, e) {\n        var n = this;\n        return ga.Bn([function () {\n          return ga.resolve(n.sa.ki(e));\n        }, function () {\n          return n.persistence.Dr().ki(t, e);\n        }, function () {\n          return n.persistence.na(t, e);\n        }]);\n      }, hf);\n\n      function hf(t) {\n        this.persistence = t, this.sa = new tf(), this.ia = null;\n      }\n\n      function ff(t) {\n        var e = this;\n        return (e = Qh.call(this) || this).vs = t, e;\n      }\n\n      function lf(t, e) {\n        var n = this;\n        this.Xc = {}, this.io = new ui(0), this.ro = !1, this.ro = !0, this.Ii = t(this), this.fo = new sf(this), this.Ti = new xc(), this.wo = (t = this.Ti, new rf(t, function (t) {\n          return n.Ii.Zc(t);\n        })), this.Kt = new fc(e), this.Eo = new Zh(this.Kt);\n      }\n\n      function pf(t) {\n        this.persistence = t, this.zc = new jc(yo, vo), this.lastRemoteSnapshotVersion = vi.min(), this.highestTargetId = 0, this.Hc = 0, this.Jc = new tf(), this.targetCount = 0, this.Yc = Yc.$i();\n      }\n\n      function df(t) {\n        var e = this;\n        return (e = $h.call(this) || this).Gr = t, e;\n      }\n\n      function yf(t, e) {\n        this.Ti = t, this.Wc = e, this.docs = new su(bi.J), this.size = 0;\n      }\n\n      function vf(t, e) {\n        this.Ti = t, this.Ii = e, this.Ho = [], this.Bc = 1, this.qc = new pu(ef.Dc);\n      }\n\n      function gf(t, e) {\n        this.key = t, this.$c = e;\n      }\n\n      function mf() {\n        this.Sc = new pu(ef.Dc), this.Cc = new pu(ef.xc);\n      }\n\n      function wf(t) {\n        this.Kt = t, this.bc = new Map(), this.vc = new Map();\n      }\n\n      function bf(t, e) {\n        return \"firestore_clients_\" + t + \"_\" + e;\n      }\n\n      function If(t, e, n) {\n        n = \"firestore_mutations_\" + t + \"_\" + n;\n        return e.A() && (n += \"_\" + e.uid), n;\n      }\n\n      function _f(t, e) {\n        return \"firestore_targets_\" + t + \"_\" + e;\n      }\n\n      var Ef,\n          Tf = (Jf.aa = function (t, e, n) {\n        var r = JSON.parse(n),\n            i = \"object\" == typeof r && -1 !== [\"pending\", \"acknowledged\", \"rejected\"].indexOf(r.state) && (void 0 === r.error || \"object\" == typeof r.error),\n            o = void 0;\n        return i && r.error && (i = \"string\" == typeof r.error.message && \"string\" == typeof r.error.code) && (o = new Fr(r.error.code, r.error.message)), i ? new Jf(t, e, r.state, o) : (Ar(\"SharedClientState\", \"Failed to parse mutation state for ID '\" + e + \"': \" + n), null);\n      }, Jf.prototype.ua = function () {\n        var t = {\n          state: this.state,\n          updateTimeMs: Date.now()\n        };\n        return this.error && (t.error = {\n          code: this.error.code,\n          message: this.error.message\n        }), JSON.stringify(t);\n      }, Jf),\n          Nf = (Kf.aa = function (t, e) {\n        var n = JSON.parse(e),\n            r = \"object\" == typeof n && -1 !== [\"not-current\", \"current\", \"rejected\"].indexOf(n.state) && (void 0 === n.error || \"object\" == typeof n.error),\n            i = void 0;\n        return r && n.error && (r = \"string\" == typeof n.error.message && \"string\" == typeof n.error.code) && (i = new Fr(n.error.code, n.error.message)), r ? new Kf(t, n.state, i) : (Ar(\"SharedClientState\", \"Failed to parse target state for ID '\" + t + \"': \" + e), null);\n      }, Kf.prototype.ua = function () {\n        var t = {\n          state: this.state,\n          updateTimeMs: Date.now()\n        };\n        return this.error && (t.error = {\n          code: this.error.code,\n          message: this.error.message\n        }), JSON.stringify(t);\n      }, Kf),\n          Sf = (zf.aa = function (t, e) {\n        for (var n = JSON.parse(e), r = \"object\" == typeof n && n.activeTargetIds instanceof Array, i = _u, o = 0; r && o < n.activeTargetIds.length; ++o) r = qi(n.activeTargetIds[o]), i = i.add(n.activeTargetIds[o]);\n\n        return r ? new zf(t, i) : (Ar(\"SharedClientState\", \"Failed to parse client data for instance '\" + t + \"': \" + e), null);\n      }, zf),\n          Af = (Gf.aa = function (t) {\n        var e = JSON.parse(t);\n        return \"object\" == typeof e && -1 !== [\"Unknown\", \"Online\", \"Offline\"].indexOf(e.onlineState) && \"string\" == typeof e.clientId ? new Gf(e.clientId, e.onlineState) : (Ar(\"SharedClientState\", \"Failed to parse online state: \" + t), null);\n      }, Gf),\n          xf = (Bf.prototype.ha = function (t) {\n        this.activeTargetIds = this.activeTargetIds.add(t);\n      }, Bf.prototype.la = function (t) {\n        this.activeTargetIds = this.activeTargetIds.delete(t);\n      }, Bf.prototype.ua = function () {\n        var t = {\n          activeTargetIds: this.activeTargetIds.rt(),\n          updateTimeMs: Date.now()\n        };\n        return JSON.stringify(t);\n      }, Bf),\n          Df = (Hf.jn = function (t) {\n        return !(!t || !t.localStorage);\n      }, Hf.prototype.start = function () {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n,\n              r,\n              i,\n              o,\n              s,\n              u,\n              a,\n              c,\n              h,\n              f = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.fa.Qo()];\n\n              case 1:\n                for (s = t.sent(), e = 0, n = s; e < n.length; e++) (r = n[e]) !== this._a && (i = this.getItem(bf(this.persistenceKey, r))) && (o = Sf.aa(r, i)) && (this.Ta = this.Ta.Ht(o.clientId, o));\n\n                for (this.pa(), (s = this.storage.getItem(this.ga)) && (u = this.ba(s)) && this.va(u), a = 0, c = this.Ia; a < c.length; a++) h = c[a], this.Ea(h);\n\n                return this.Ia = [], this.window.addEventListener(\"unload\", function () {\n                  return f.Lo();\n                }), this.Tr = !0, [2];\n            }\n          });\n        });\n      }, Hf.prototype.q = function (t) {\n        this.setItem(this.Aa, JSON.stringify(t));\n      }, Hf.prototype.Sa = function () {\n        return this.Da(this.Ta);\n      }, Hf.prototype.Ca = function (n) {\n        var r = !1;\n        return this.Ta.forEach(function (t, e) {\n          e.activeTargetIds.has(n) && (r = !0);\n        }), r;\n      }, Hf.prototype.xa = function (t) {\n        this.Na(t, \"pending\");\n      }, Hf.prototype.Oa = function (t, e, n) {\n        this.Na(t, e, n), this.Fa(t);\n      }, Hf.prototype.ka = function (t) {\n        var e,\n            n = \"not-current\";\n        return this.Ca(t) && (!(e = this.storage.getItem(_f(this.persistenceKey, t))) || (e = Nf.aa(t, e)) && (n = e.state)), this.Ma.ha(t), this.pa(), n;\n      }, Hf.prototype.La = function (t) {\n        this.Ma.la(t), this.pa();\n      }, Hf.prototype.$a = function (t) {\n        return this.Ma.activeTargetIds.has(t);\n      }, Hf.prototype.Ba = function (t) {\n        this.removeItem(_f(this.persistenceKey, t));\n      }, Hf.prototype.qa = function (t, e, n) {\n        this.Ua(t, e, n);\n      }, Hf.prototype.Qa = function (t, e, n) {\n        var r = this;\n        e.forEach(function (t) {\n          r.Fa(t);\n        }), this.currentUser = t, n.forEach(function (t) {\n          r.xa(t);\n        });\n      }, Hf.prototype.Ka = function (t) {\n        this.ja(t);\n      }, Hf.prototype.Wa = function () {\n        this.Ga();\n      }, Hf.prototype.Lo = function () {\n        this.Tr && (this.window.removeEventListener(\"storage\", this.wa), this.removeItem(this.ma), this.Tr = !1);\n      }, Hf.prototype.getItem = function (t) {\n        var e = this.storage.getItem(t);\n        return Sr(\"SharedClientState\", \"READ\", t, e), e;\n      }, Hf.prototype.setItem = function (t, e) {\n        Sr(\"SharedClientState\", \"SET\", t, e), this.storage.setItem(t, e);\n      }, Hf.prototype.removeItem = function (t) {\n        Sr(\"SharedClientState\", \"REMOVE\", t), this.storage.removeItem(t);\n      }, Hf.prototype.Ea = function (t) {\n        var e = this,\n            o = t;\n\n        if (o.storageArea === this.storage) {\n          if (Sr(\"SharedClientState\", \"EVENT\", o.key, o.newValue), o.key === this.ma) return void Ar(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");\n          this.eo.bo(function () {\n            return y(e, void 0, void 0, function () {\n              var e, n, r, i;\n              return v(this, function (t) {\n                if (this.Tr) {\n                  if (null !== o.key) if (this.Ra.test(o.key)) {\n                    if (null == o.newValue) return e = this.za(o.key), [2, this.Ha(e, null)];\n                    if (e = this.Ja(o.key, o.newValue)) return [2, this.Ha(e.clientId, e)];\n                  } else if (this.Pa.test(o.key)) {\n                    if (null !== o.newValue && (n = this.Ya(o.key, o.newValue))) return [2, this.Xa(n)];\n                  } else if (this.ya.test(o.key)) {\n                    if (null !== o.newValue && (r = this.Za(o.key, o.newValue))) return [2, this.tu(r)];\n                  } else if (o.key === this.ga) {\n                    if (null !== o.newValue && (i = this.ba(o.newValue))) return [2, this.va(i)];\n                  } else if (o.key === this.Aa) (i = function (t) {\n                    var e = ui.U;\n                    if (null != t) try {\n                      var n = JSON.parse(t);\n                      kr(\"number\" == typeof n), e = n;\n                    } catch (t) {\n                      Ar(\"SharedClientState\", \"Failed to read sequence number from WebStorage\", t);\n                    }\n                    return e;\n                  }(o.newValue)) !== ui.U && this.L(i);else if (o.key === this.Va) return [2, this.fa.eu()];\n                } else this.Ia.push(o);\n\n                return [2];\n              });\n            });\n          });\n        }\n      }, Object.defineProperty(Hf.prototype, \"Ma\", {\n        get: function get() {\n          return this.Ta.get(this._a);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Hf.prototype.pa = function () {\n        this.setItem(this.ma, this.Ma.ua());\n      }, Hf.prototype.Na = function (t, e, n) {\n        n = new Tf(this.currentUser, t, e, n), t = If(this.persistenceKey, this.currentUser, t);\n        this.setItem(t, n.ua());\n      }, Hf.prototype.Fa = function (t) {\n        t = If(this.persistenceKey, this.currentUser, t);\n        this.removeItem(t);\n      }, Hf.prototype.ja = function (t) {\n        t = {\n          clientId: this._a,\n          onlineState: t\n        };\n        this.storage.setItem(this.ga, JSON.stringify(t));\n      }, Hf.prototype.Ua = function (t, e, n) {\n        var r = _f(this.persistenceKey, t),\n            n = new Nf(t, e, n);\n\n        this.setItem(r, n.ua());\n      }, Hf.prototype.Ga = function () {\n        this.setItem(this.Va, \"value-not-used\");\n      }, Hf.prototype.za = function (t) {\n        t = this.Ra.exec(t);\n        return t ? t[1] : null;\n      }, Hf.prototype.Ja = function (t, e) {\n        t = this.za(t);\n        return Sf.aa(t, e);\n      }, Hf.prototype.Ya = function (t, e) {\n        var n = this.Pa.exec(t),\n            t = Number(n[1]),\n            n = void 0 !== n[2] ? n[2] : null;\n        return Tf.aa(new $r(n), t, e);\n      }, Hf.prototype.Za = function (t, e) {\n        t = this.ya.exec(t), t = Number(t[1]);\n        return Nf.aa(t, e);\n      }, Hf.prototype.ba = function (t) {\n        return Af.aa(t);\n      }, Hf.prototype.Xa = function (e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            return e.user.uid === this.currentUser.uid ? [2, this.fa.nu(e.batchId, e.state, e.error)] : (Sr(\"SharedClientState\", \"Ignoring mutation for non-active user \" + e.user.uid), [2]);\n          });\n        });\n      }, Hf.prototype.tu = function (t) {\n        return this.fa.su(t.targetId, t.state, t.error);\n      }, Hf.prototype.Ha = function (t, e) {\n        var n = this,\n            r = e ? this.Ta.Ht(t, e) : this.Ta.remove(t),\n            i = this.Da(this.Ta),\n            o = this.Da(r),\n            s = [],\n            u = [];\n        return o.forEach(function (t) {\n          i.has(t) || s.push(t);\n        }), i.forEach(function (t) {\n          o.has(t) || u.push(t);\n        }), this.fa.iu(s, u).then(function () {\n          n.Ta = r;\n        });\n      }, Hf.prototype.va = function (t) {\n        this.Ta.get(t.clientId) && this.da(t.onlineState);\n      }, Hf.prototype.Da = function (t) {\n        var n = _u;\n        return t.forEach(function (t, e) {\n          n = n.ye(e.activeTargetIds);\n        }), n;\n      }, Hf),\n          Of = (Ff.prototype.xa = function (t) {}, Ff.prototype.Oa = function (t, e, n) {}, Ff.prototype.ka = function (t) {\n        return this.ru.ha(t), this.ou[t] || \"not-current\";\n      }, Ff.prototype.qa = function (t, e, n) {\n        this.ou[t] = e;\n      }, Ff.prototype.La = function (t) {\n        this.ru.la(t);\n      }, Ff.prototype.$a = function (t) {\n        return this.ru.activeTargetIds.has(t);\n      }, Ff.prototype.Ba = function (t) {\n        delete this.ou[t];\n      }, Ff.prototype.Sa = function () {\n        return this.ru.activeTargetIds;\n      }, Ff.prototype.Ca = function (t) {\n        return this.ru.activeTargetIds.has(t);\n      }, Ff.prototype.start = function () {\n        return this.ru = new xf(), Promise.resolve();\n      }, Ff.prototype.Qa = function (t, e, n) {}, Ff.prototype.Ka = function (t) {}, Ff.prototype.Lo = function () {}, Ff.prototype.q = function (t) {}, Ff.prototype.Wa = function () {}, Ff),\n          kf = (qf.prototype.cu = function (t) {}, qf.prototype.Lo = function () {}, qf),\n          Pf = (jf.prototype.cu = function (t) {\n        this._u.push(t);\n      }, jf.prototype.Lo = function () {\n        window.removeEventListener(\"online\", this.au), window.removeEventListener(\"offline\", this.hu);\n      }, jf.prototype.fu = function () {\n        window.addEventListener(\"online\", this.au), window.addEventListener(\"offline\", this.hu);\n      }, jf.prototype.uu = function () {\n        Sr(\"ConnectivityMonitor\", \"Network connectivity changed: AVAILABLE\");\n\n        for (var t = 0, e = this._u; t < e.length; t++) (0, e[t])(0);\n      }, jf.prototype.lu = function () {\n        Sr(\"ConnectivityMonitor\", \"Network connectivity changed: UNAVAILABLE\");\n\n        for (var t = 0, e = this._u; t < e.length; t++) (0, e[t])(1);\n      }, jf.jn = function () {\n        return \"undefined\" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;\n      }, jf),\n          Lf = {\n        BatchGetDocuments: \"batchGet\",\n        Commit: \"commit\",\n        RunQuery: \"runQuery\"\n      },\n          Cf = (Uf.prototype.Eu = function (t) {\n        this.Tu = t;\n      }, Uf.prototype.Iu = function (t) {\n        this.mu = t;\n      }, Uf.prototype.onMessage = function (t) {\n        this.Au = t;\n      }, Uf.prototype.close = function () {\n        this.wu();\n      }, Uf.prototype.send = function (t) {\n        this.du(t);\n      }, Uf.prototype.Ru = function () {\n        this.Tu();\n      }, Uf.prototype.Pu = function (t) {\n        this.mu(t);\n      }, Uf.prototype.yu = function (t) {\n        this.Au(t);\n      }, Uf),\n          Rf = (Mf.prototype.bu = function (e, t, n, r) {\n        var i = this.vu(e, t);\n        Sr(\"RestConnection\", \"Sending: \", i, n);\n        t = {};\n        return this.Su(t, r), this.Du(e, i, t, n).then(function (t) {\n          return Sr(\"RestConnection\", \"Received: \", t), t;\n        }, function (t) {\n          throw xr(\"RestConnection\", e + \" failed with error: \", t, \"url: \", i, \"request:\", n), t;\n        });\n      }, Mf.prototype.Cu = function (t, e, n, r) {\n        return this.bu(t, e, n, r);\n      }, Mf.prototype.Su = function (t, e) {\n        if (t[\"X-Goog-Api-Client\"] = \"gl-js/ fire/8.2.3\", t[\"Content-Type\"] = \"text/plain\", e) for (var n in e.V) e.V.hasOwnProperty(n) && (t[n] = e.V[n]);\n      }, Mf.prototype.vu = function (t, e) {\n        t = Lf[t];\n        return this.Vu + \"/v1/\" + e + \":\" + t;\n      }, h(Vf, Ef = Mf), Vf.prototype.Du = function (o, e, s, u) {\n        return new Promise(function (n, r) {\n          var i = new Er();\n          i.listenOnce(mr.COMPLETE, function () {\n            try {\n              switch (i.getLastErrorCode()) {\n                case gr.NO_ERROR:\n                  var t = i.getResponseJson();\n                  Sr(\"Connection\", \"XHR received:\", JSON.stringify(t)), n(t);\n                  break;\n\n                case gr.TIMEOUT:\n                  Sr(\"Connection\", 'RPC \"' + o + '\" timed out'), r(new Fr(qr.DEADLINE_EXCEEDED, \"Request time out\"));\n                  break;\n\n                case gr.HTTP_ERROR:\n                  var e = i.getStatus();\n                  Sr(\"Connection\", 'RPC \"' + o + '\" failed with status:', e, \"response text:\", i.getResponseText()), 0 < e ? (t = i.getResponseJson().error) && t.status && t.message ? (e = t.status.toLowerCase().replace(/_/g, \"-\"), e = 0 <= Object.values(qr).indexOf(e) ? e : qr.UNKNOWN, r(new Fr(e, t.message))) : r(new Fr(qr.UNKNOWN, \"Server responded with status \" + i.getStatus())) : r(new Fr(qr.UNAVAILABLE, \"Connection failed.\"));\n                  break;\n\n                default:\n                  Or();\n              }\n            } finally {\n              Sr(\"Connection\", 'RPC \"' + o + '\" completed.');\n            }\n          });\n          var t = JSON.stringify(u);\n          i.send(e, \"POST\", t, s, 15);\n        });\n      }, Vf.prototype.xu = function (t, e) {\n        var n,\n            r = [this.Vu, \"/\", \"google.firestore.v1.Firestore\", \"/\", t, \"/channel\"],\n            i = new fr(),\n            o = vr(),\n            t = {\n          httpSessionIdParam: \"gsessionid\",\n          initMessageHeaders: {},\n          messageUrlParams: {\n            database: \"projects/\" + this.T.projectId + \"/databases/\" + this.T.database\n          },\n          sendRawJson: !0,\n          supportsCrossDomainXhr: !0,\n          internalChannelParams: {\n            forwardChannelRequestTimeoutMs: 6e5\n          },\n          forceLongPolling: this.forceLongPolling,\n          detectBufferingProxy: this.I\n        };\n        this.Su(t.initMessageHeaders, e), \"undefined\" != typeof window && (window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p()) || \"object\" == typeof navigator && \"ReactNative\" === navigator.product || 0 <= p().indexOf(\"Electron/\") || 0 <= (n = p()).indexOf(\"MSIE \") || 0 <= n.indexOf(\"Trident/\") || 0 <= p().indexOf(\"MSAppHost/\") || \"object\" == typeof (n = \"object\" == typeof chrome ? chrome.runtime : \"object\" == typeof browser ? browser.runtime : void 0) && void 0 !== n.id || (t.httpHeadersOverwriteParam = \"$httpHeaders\");\n        r = r.join(\"\");\n        Sr(\"Connection\", \"Creating WebChannel: \" + r, t);\n\n        var s = i.createWebChannel(r, t),\n            u = !1,\n            a = !1,\n            c = new Cf({\n          du: function du(t) {\n            a ? Sr(\"Connection\", \"Not sending because WebChannel is closed:\", t) : (u || (Sr(\"Connection\", \"Opening WebChannel transport.\"), s.open(), u = !0), Sr(\"Connection\", \"WebChannel sending:\", t), s.send(t));\n          },\n          wu: function wu() {\n            return s.close();\n          }\n        }),\n            t = function t(_t2, e, n) {\n          _t2.listen(e, function (t) {\n            try {\n              n(t);\n            } catch (t) {\n              setTimeout(function () {\n                throw t;\n              }, 0);\n            }\n          });\n        };\n\n        return t(s, _r.EventType.OPEN, function () {\n          a || Sr(\"Connection\", \"WebChannel transport opened.\");\n        }), t(s, _r.EventType.CLOSE, function () {\n          a || (a = !0, Sr(\"Connection\", \"WebChannel transport closed\"), c.Pu());\n        }), t(s, _r.EventType.ERROR, function (t) {\n          a || (a = !0, xr(\"Connection\", \"WebChannel transport errored:\", t), c.Pu(new Fr(qr.UNAVAILABLE, \"The operation could not be completed\")));\n        }), t(s, _r.EventType.MESSAGE, function (t) {\n          var e, n, r, i;\n          a || (kr(!!(e = t.data[0])), (n = e.error || (null === (i = e[0]) || void 0 === i ? void 0 : i.error)) ? (Sr(\"Connection\", \"WebChannel received error:\", n), r = n.status, t = function () {\n            var t = Qs[r];\n            if (void 0 !== t) return ou(t);\n          }(), i = n.message, void 0 === t && (t = qr.INTERNAL, i = \"Unknown error status: \" + r + \" with message \" + n.message), a = !0, c.Pu(new Fr(t, i)), s.close()) : (Sr(\"Connection\", \"WebChannel received:\", e), c.yu(e)));\n        }), t(o, wr.STAT_EVENT, function (t) {\n          t.stat === br ? Sr(\"Connection\", \"Detected buffering proxy\") : t.stat === Ir && Sr(\"Connection\", \"Detected no buffering proxy\");\n        }), setTimeout(function () {\n          c.Ru();\n        }, 0), c;\n      }, Vf);\n\n      function Vf(t) {\n        var e = this;\n        return (e = Ef.call(this, t) || this).forceLongPolling = t.forceLongPolling, e.I = t.I, e;\n      }\n\n      function Mf(t) {\n        this.gu = t, this.T = t.T;\n        var e = t.ssl ? \"https\" : \"http\";\n        this.Vu = e + \"://\" + t.host, this.pu = \"projects/\" + this.T.projectId + \"/databases/\" + this.T.database + \"/documents\";\n      }\n\n      function Uf(t) {\n        this.du = t.du, this.wu = t.wu;\n      }\n\n      function jf() {\n        var t = this;\n        this.au = function () {\n          return t.uu();\n        }, this.hu = function () {\n          return t.lu();\n        }, this._u = [], this.fu();\n      }\n\n      function qf() {}\n\n      function Ff() {\n        this.ru = new xf(), this.ou = {}, this.da = null, this.L = null;\n      }\n\n      function Hf(t, e, n, r, i) {\n        this.window = t, this.eo = e, this.persistenceKey = n, this._a = r, this.fa = null, this.da = null, this.L = null, this.wa = this.Ea.bind(this), this.Ta = new su(Cr), this.Tr = !1, this.Ia = [];\n        n = n.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n        this.storage = this.window.localStorage, this.currentUser = i, this.ma = bf(this.persistenceKey, this._a), this.Aa = \"firestore_sequence_number_\" + this.persistenceKey, this.Ta = this.Ta.Ht(this._a, new xf()), this.Ra = new RegExp(\"^firestore_clients_\" + n + \"_([^_]*)$\"), this.Pa = new RegExp(\"^firestore_mutations_\" + n + \"_(\\\\d+)(?:_(.*))?$\"), this.ya = new RegExp(\"^firestore_targets_\" + n + \"_(\\\\d+)$\"), this.ga = \"firestore_online_state_\" + this.persistenceKey, this.Va = \"firestore_bundle_loaded_\" + this.persistenceKey, this.window.addEventListener(\"storage\", this.wa);\n      }\n\n      function Bf() {\n        this.activeTargetIds = _u;\n      }\n\n      function Gf(t, e) {\n        this.clientId = t, this.onlineState = e;\n      }\n\n      function zf(t, e) {\n        this.clientId = t, this.activeTargetIds = e;\n      }\n\n      function Kf(t, e, n) {\n        this.targetId = t, this.state = e, this.error = n;\n      }\n\n      function Jf(t, e, n, r) {\n        this.user = t, this.batchId = e, this.state = n, this.error = r;\n      }\n\n      function Wf() {\n        return \"undefined\" != typeof window ? window : null;\n      }\n\n      function Xf() {\n        return \"undefined\" != typeof document ? document : null;\n      }\n\n      function Yf(t) {\n        return new Gu(t, !0);\n      }\n\n      function Qf(t, e, n, r, i) {\n        var o = this;\n        this.Sh = t, this.Dh = e, this.fs = n, this.Ch = {}, this.xh = [], this.Nh = new Map(), this.Oh = new Set(), this.Fh = [], this.kh = i, this.kh.cu(function (t) {\n          n.ys(function () {\n            return y(o, void 0, void 0, function () {\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return bl(this) ? (Sr(\"RemoteStore\", \"Restarting streams for network reachability change.\"), [4, function (n) {\n                      return y(this, void 0, void 0, function () {\n                        var e;\n                        return v(this, function (t) {\n                          switch (t.label) {\n                            case 0:\n                              return (e = n).Oh.add(4), [4, pl(e)];\n\n                            case 1:\n                              return t.sent(), e.Mh.set(\"Unknown\"), e.Oh.delete(4), [4, ll(e)];\n\n                            case 2:\n                              return t.sent(), [2];\n                          }\n                        });\n                      });\n                    }(this)]) : [3, 2];\n\n                  case 1:\n                    t.sent(), t.label = 2;\n\n                  case 2:\n                    return [2];\n                }\n              });\n            });\n          });\n        }), this.Mh = new ol(n, r);\n      }\n\n      var $f,\n          Zf,\n          tl,\n          el = (fl.prototype.reset = function () {\n        this.ku = 0;\n      }, fl.prototype.$u = function () {\n        this.ku = this.Fu;\n      }, fl.prototype.Bu = function (t) {\n        var e = this;\n        this.cancel();\n        var n = Math.floor(this.ku + this.qu()),\n            r = Math.max(0, Date.now() - this.Lu),\n            i = Math.max(0, n - r);\n        0 < i && Sr(\"ExponentialBackoff\", \"Backing off for \" + i + \" ms (base delay: \" + this.ku + \" ms, delay with jitter: \" + n + \" ms, last attempt: \" + r + \" ms ago)\"), this.Mu = this.eo.Ir(this.ds, i, function () {\n          return e.Lu = Date.now(), t();\n        }), this.ku *= this.Ou, this.ku < this.Nu && (this.ku = this.Nu), this.ku > this.Fu && (this.ku = this.Fu);\n      }, fl.prototype.Uu = function () {\n        null !== this.Mu && (this.Mu.Ps(), this.Mu = null);\n      }, fl.prototype.cancel = function () {\n        null !== this.Mu && (this.Mu.cancel(), this.Mu = null);\n      }, fl.prototype.qu = function () {\n        return (Math.random() - .5) * this.ku;\n      }, fl),\n          Ee = (hl.prototype.Hu = function () {\n        return 1 === this.state || 2 === this.state || 4 === this.state;\n      }, hl.prototype.Ju = function () {\n        return 2 === this.state;\n      }, hl.prototype.start = function () {\n        3 !== this.state ? this.auth() : this.Yu();\n      }, hl.prototype.stop = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.Hu() ? [4, this.close(0)] : [3, 2];\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                return [2];\n            }\n          });\n        });\n      }, hl.prototype.Xu = function () {\n        this.state = 0, this.zu.reset();\n      }, hl.prototype.Zu = function () {\n        var t = this;\n        this.Ju() && null === this.Gu && (this.Gu = this.eo.Ir(this.Qu, 6e4, function () {\n          return t.th();\n        }));\n      }, hl.prototype.eh = function (t) {\n        this.nh(), this.stream.send(t);\n      }, hl.prototype.th = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            return this.Ju() ? [2, this.close(0)] : [2];\n          });\n        });\n      }, hl.prototype.nh = function () {\n        this.Gu && (this.Gu.cancel(), this.Gu = null);\n      }, hl.prototype.close = function (e, n) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.nh(), this.zu.cancel(), this.Wu++, 3 !== e ? this.zu.reset() : n && n.code === qr.RESOURCE_EXHAUSTED ? (Ar(n.toString()), Ar(\"Using maximum backoff delay to prevent overloading the backend.\"), this.zu.$u()) : n && n.code === qr.UNAUTHENTICATED && this.ju.v(), null !== this.stream && (this.sh(), this.stream.close(), this.stream = null), this.state = e, [4, this.listener.Iu(n)];\n\n              case 1:\n                return t.sent(), [2];\n            }\n          });\n        });\n      }, hl.prototype.sh = function () {}, hl.prototype.auth = function () {\n        var n = this;\n        this.state = 1;\n        var t = this.ih(this.Wu),\n            e = this.Wu;\n        this.ju.getToken().then(function (t) {\n          n.Wu === e && n.rh(t);\n        }, function (e) {\n          t(function () {\n            var t = new Fr(qr.UNKNOWN, \"Fetching auth token failed: \" + e.message);\n            return n.oh(t);\n          });\n        });\n      }, hl.prototype.rh = function (t) {\n        var e = this,\n            n = this.ih(this.Wu);\n        this.stream = this.ah(t), this.stream.Eu(function () {\n          n(function () {\n            return e.state = 2, e.listener.Eu();\n          });\n        }), this.stream.Iu(function (t) {\n          n(function () {\n            return e.oh(t);\n          });\n        }), this.stream.onMessage(function (t) {\n          n(function () {\n            return e.onMessage(t);\n          });\n        });\n      }, hl.prototype.Yu = function () {\n        var t = this;\n        this.state = 4, this.zu.Bu(function () {\n          return y(t, void 0, void 0, function () {\n            return v(this, function (t) {\n              return this.state = 0, this.start(), [2];\n            });\n          });\n        });\n      }, hl.prototype.oh = function (t) {\n        return Sr(\"PersistentStream\", \"close with error: \" + t), this.stream = null, this.close(3, t);\n      }, hl.prototype.ih = function (e) {\n        var n = this;\n        return function (t) {\n          n.eo.ys(function () {\n            return n.Wu === e ? t() : (Sr(\"PersistentStream\", \"stream callback skipped by getCloseGuardedDispatcher.\"), Promise.resolve());\n          });\n        };\n      }, hl),\n          nl = (h(cl, tl = Ee), cl.prototype.ah = function (t) {\n        return this.Ku.xu(\"Listen\", t);\n      }, cl.prototype.onMessage = function (t) {\n        this.zu.reset();\n\n        var e = function (t, e) {\n          if (\"targetChange\" in e) {\n            e.targetChange;\n            var n = \"NO_CHANGE\" === (o = e.targetChange.targetChangeType || \"NO_CHANGE\") ? 0 : \"ADD\" === o ? 1 : \"REMOVE\" === o ? 2 : \"CURRENT\" === o ? 3 : \"RESET\" === o ? 4 : Or(),\n                r = e.targetChange.targetIds || [],\n                i = (s = e.targetChange.resumeToken, t.qt ? (kr(void 0 === s || \"string\" == typeof s), Mr.fromBase64String(s || \"\")) : (kr(void 0 === s || s instanceof Uint8Array), Mr.fromUint8Array(s || new Uint8Array()))),\n                o = (u = e.targetChange.cause) && (a = void 0 === (c = u).code ? qr.UNKNOWN : ou(c.code), new Fr(a, c.message || \"\")),\n                s = new Ou(n, r, i, o || null);\n          } else if (\"documentChange\" in e) {\n            e.documentChange, (n = e.documentChange).document, n.document.name, n.document.updateTime, r = Qu(t, n.document.name), i = Ju(n.document.updateTime);\n            var u = new Zi({\n              mapValue: {\n                fields: n.document.fields\n              }\n            }),\n                a = (o = new so(r, i, u, {}), n.targetIds || []),\n                c = n.removedTargetIds || [];\n            s = new xu(a, c, o.key, o);\n          } else if (\"documentDelete\" in e) e.documentDelete, (n = e.documentDelete).document, r = Qu(t, n.document), i = n.readTime ? Ju(n.readTime) : vi.min(), u = new uo(r, i), o = n.removedTargetIds || [], s = new xu([], o, u.key, u);else if (\"documentRemove\" in e) e.documentRemove, (n = e.documentRemove).document, r = Qu(t, n.document), i = n.removedTargetIds || [], s = new xu([], i, r, null);else {\n            if (!(\"filter\" in e)) return Or();\n            e.filter;\n            e = e.filter;\n            e.targetId, n = e.count || 0, r = new Ys(n), i = e.targetId, s = new Du(i, r);\n          }\n\n          return s;\n        }(this.Kt, t),\n            t = function (t) {\n          if (!(\"targetChange\" in t)) return vi.min();\n          t = t.targetChange;\n          return (!t.targetIds || !t.targetIds.length) && t.readTime ? Ju(t.readTime) : vi.min();\n        }(t);\n\n        return this.listener.uh(e, t);\n      }, cl.prototype.hh = function (t) {\n        var e,\n            n,\n            r,\n            i = {};\n        i.database = ta(this.Kt), i.addTarget = (e = this.Kt, (r = go(r = (n = t).target) ? {\n          documents: sa(e, r)\n        } : {\n          query: ua(e, r)\n        }).targetId = n.targetId, 0 < n.resumeToken.o() ? r.resumeToken = Ku(e, n.resumeToken) : 0 < n.Mt.u(vi.min()) && (r.readTime = zu(e, n.Mt.G())), r);\n        var o,\n            t = (this.Kt, o = t, null == (t = function () {\n          switch (o.kt) {\n            case 0:\n              return null;\n\n            case 1:\n              return \"existence-filter-mismatch\";\n\n            case 2:\n              return \"limbo-document\";\n\n            default:\n              return Or();\n          }\n        }()) ? null : {\n          \"goog-listen-tags\": t\n        });\n        t && (i.labels = t), this.eh(i);\n      }, cl.prototype.lh = function (t) {\n        var e = {};\n        e.database = ta(this.Kt), e.removeTarget = t, this.eh(e);\n      }, cl),\n          rl = (h(al, Zf = Ee), Object.defineProperty(al.prototype, \"fh\", {\n        get: function get() {\n          return this._h;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), al.prototype.start = function () {\n        this._h = !1, this.lastStreamToken = void 0, Zf.prototype.start.call(this);\n      }, al.prototype.sh = function () {\n        this._h && this.dh([]);\n      }, al.prototype.ah = function (t) {\n        return this.Ku.xu(\"Write\", t);\n      }, al.prototype.onMessage = function (t) {\n        if (kr(!!t.streamToken), this.lastStreamToken = t.streamToken, this._h) {\n          this.zu.reset();\n          var e = (n = t.writeResults, r = t.commitTime, n && 0 < n.length ? (kr(void 0 !== r), n.map(function (t) {\n            return function (t, e) {\n              var n = t.updateTime ? Ju(t.updateTime) : Ju(e);\n              n.isEqual(vi.min()) && (n = Ju(e));\n              e = null;\n              return t.transformResults && 0 < t.transformResults.length && (e = t.transformResults), new Ps(n, e);\n            }(t, r);\n          })) : []),\n              n = Ju(t.commitTime);\n          return this.listener.wh(n, e);\n        }\n\n        var n, r;\n        return kr(!t.writeResults || 0 === t.writeResults.length), this._h = !0, this.listener.Eh();\n      }, al.prototype.Th = function () {\n        var t = {};\n        t.database = ta(this.Kt), this.eh(t);\n      }, al.prototype.dh = function (t) {\n        var e = this,\n            t = {\n          streamToken: this.lastStreamToken,\n          writes: t.map(function (t) {\n            return ia(e.Kt, t);\n          })\n        };\n        this.eh(t);\n      }, al),\n          il = (h(ul, $f = function $f() {}), ul.prototype.mh = function () {\n        if (this.Ih) throw new Fr(qr.FAILED_PRECONDITION, \"The client has already been terminated.\");\n      }, ul.prototype.bu = function (e, n, r) {\n        var i = this;\n        return this.mh(), this.credentials.getToken().then(function (t) {\n          return i.Ku.bu(e, n, r, t);\n        }).catch(function (t) {\n          throw t.code === qr.UNAUTHENTICATED && i.credentials.v(), t;\n        });\n      }, ul.prototype.Cu = function (e, n, r) {\n        var i = this;\n        return this.mh(), this.credentials.getToken().then(function (t) {\n          return i.Ku.Cu(e, n, r, t);\n        }).catch(function (t) {\n          throw t.code === qr.UNAUTHENTICATED && i.credentials.v(), t;\n        });\n      }, ul.prototype.terminate = function () {\n        this.Ih = !1;\n      }, ul),\n          ol = (sl.prototype.yh = function () {\n        var t = this;\n        0 === this.Ah && (this.gh(\"Unknown\"), this.Rh = this.fs.Ir(\"online_state_timeout\", 1e4, function () {\n          return t.Rh = null, t.Vh(\"Backend didn't respond within 10 seconds.\"), t.gh(\"Offline\"), Promise.resolve();\n        }));\n      }, sl.prototype.ph = function (t) {\n        \"Online\" === this.state ? this.gh(\"Unknown\") : (this.Ah++, 1 <= this.Ah && (this.bh(), this.Vh(\"Connection failed 1 times. Most recent error: \" + t.toString()), this.gh(\"Offline\")));\n      }, sl.prototype.set = function (t) {\n        this.bh(), this.Ah = 0, \"Online\" === t && (this.Ph = !1), this.gh(t);\n      }, sl.prototype.gh = function (t) {\n        t !== this.state && (this.state = t, this.da(t));\n      }, sl.prototype.Vh = function (t) {\n        t = \"Could not reach Cloud Firestore backend. \" + t + \"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";\n        this.Ph ? (Ar(t), this.Ph = !1) : Sr(\"OnlineStateTracker\", t);\n      }, sl.prototype.bh = function () {\n        null !== this.Rh && (this.Rh.cancel(), this.Rh = null);\n      }, sl);\n\n      function sl(t, e) {\n        this.fs = t, this.da = e, this.state = \"Unknown\", this.Ah = 0, this.Rh = null, this.Ph = !0;\n      }\n\n      function ul(t, e, n) {\n        var r = this;\n        return (r = $f.call(this) || this).credentials = t, r.Ku = e, r.Kt = n, r.Ih = !1, r;\n      }\n\n      function al(t, e, n, r, i) {\n        var o = this;\n        return (o = Zf.call(this, t, \"write_stream_connection_backoff\", \"write_stream_idle\", e, n, i) || this).Kt = r, o._h = !1, o;\n      }\n\n      function cl(t, e, n, r, i) {\n        var o = this;\n        return (o = tl.call(this, t, \"listen_stream_connection_backoff\", \"listen_stream_idle\", e, n, i) || this).Kt = r, o;\n      }\n\n      function hl(t, e, n, r, i, o) {\n        this.eo = t, this.Qu = n, this.Ku = r, this.ju = i, this.listener = o, this.state = 0, this.Wu = 0, this.Gu = null, this.stream = null, this.zu = new el(t, e);\n      }\n\n      function fl(t, e, n, r, i) {\n        void 0 === n && (n = 1e3), void 0 === r && (r = 1.5), void 0 === i && (i = 6e4), this.eo = t, this.ds = e, this.Nu = n, this.Ou = r, this.Fu = i, this.ku = 0, this.Mu = null, this.Lu = Date.now(), this.reset();\n      }\n\n      function ll(r) {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (!bl(r)) return [3, 4];\n                e = 0, n = r.Fh, t.label = 1;\n\n              case 1:\n                return e < n.length ? [4, (0, n[e])(!0)] : [3, 4];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return e++, [3, 1];\n\n              case 4:\n                return [2];\n            }\n          });\n        });\n      }\n\n      function pl(r) {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                e = 0, n = r.Fh, t.label = 1;\n\n              case 1:\n                return e < n.length ? [4, (0, n[e])(!1)] : [3, 4];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return e++, [3, 1];\n\n              case 4:\n                return [2];\n            }\n          });\n        });\n      }\n\n      function dl(t, e) {\n        t.Nh.has(e.targetId) || (t.Nh.set(e.targetId, e), wl(t) ? ml(t) : Dl(t).Ju() && vl(t, e));\n      }\n\n      function yl(t, e) {\n        var n = t,\n            t = Dl(n);\n        n.Nh.delete(e), t.Ju() && gl(n, e), 0 === n.Nh.size && (t.Ju() ? t.Zu() : bl(n) && n.Mh.set(\"Unknown\"));\n      }\n\n      function vl(t, e) {\n        t.Lh.cn(e.targetId), Dl(t).hh(e);\n      }\n\n      function gl(t, e) {\n        t.Lh.cn(e), Dl(t).lh(e);\n      }\n\n      function ml(e) {\n        e.Lh = new Pu({\n          Sn: function Sn(t) {\n            return e.Ch.Sn(t);\n          },\n          Dn: function Dn(t) {\n            return e.Nh.get(t) || null;\n          }\n        }), Dl(e).start(), e.Mh.yh();\n      }\n\n      function wl(t) {\n        return bl(t) && !Dl(t).Hu() && 0 < t.Nh.size;\n      }\n\n      function bl(t) {\n        return 0 === t.Oh.size;\n      }\n\n      function Il(t) {\n        t.Lh = void 0;\n      }\n\n      function _l(s, u, a) {\n        return y(this, void 0, void 0, function () {\n          var n, o;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (s.Mh.set(\"Online\"), !(u instanceof Ou && 2 === u.state && u.cause)) return [3, 6];\n                t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 5]), [4, function (o, s) {\n                  return y(this, void 0, void 0, function () {\n                    var e, n, r, i;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          e = s.cause, n = 0, r = s.targetIds, t.label = 1;\n\n                        case 1:\n                          return n < r.length ? (i = r[n], o.Nh.has(i) ? [4, o.Ch.$h(i, e)] : [3, 3]) : [3, 5];\n\n                        case 2:\n                          t.sent(), o.Nh.delete(i), o.Lh.removeTarget(i), t.label = 3;\n\n                        case 3:\n                          t.label = 4;\n\n                        case 4:\n                          return n++, [3, 1];\n\n                        case 5:\n                          return [2];\n                      }\n                    });\n                  });\n                }(s, u)];\n\n              case 2:\n                return t.sent(), [3, 5];\n\n              case 3:\n                return n = t.sent(), Sr(\"RemoteStore\", \"Failed to remove targets %s: %s \", u.targetIds.join(\",\"), n), [4, El(s, n)];\n\n              case 4:\n                return t.sent(), [3, 5];\n\n              case 5:\n                return [3, 13];\n\n              case 6:\n                if (u instanceof xu ? s.Lh.wn(u) : u instanceof Du ? s.Lh.yn(u) : s.Lh.In(u), a.isEqual(vi.min())) return [3, 13];\n                t.label = 7;\n\n              case 7:\n                return t.trys.push([7, 11,, 13]), [4, Hh(s.Sh)];\n\n              case 8:\n                return o = t.sent(), 0 <= a.u(o) ? [4, (i = a, (e = (r = s).Lh.pn(i)).Fe.forEach(function (t, e) {\n                  var n;\n                  0 < t.resumeToken.o() && (n = r.Nh.get(e)) && r.Nh.set(e, n.$t(t.resumeToken, i));\n                }), e.ke.forEach(function (t) {\n                  var e = r.Nh.get(t);\n                  e && (r.Nh.set(t, e.$t(Mr.h, e.Mt)), gl(r, t), e = new hs(e.target, t, 1, e.sequenceNumber), vl(r, e));\n                }), r.Ch.Bh(e))] : [3, 10];\n\n              case 9:\n                t.sent(), t.label = 10;\n\n              case 10:\n                return [3, 13];\n\n              case 11:\n                return Sr(\"RemoteStore\", \"Failed to raise snapshot:\", o = t.sent()), [4, El(s, o)];\n\n              case 12:\n                return t.sent(), [3, 13];\n\n              case 13:\n                return [2];\n            }\n\n            var r, i, e;\n          });\n        });\n      }\n\n      function El(n, r, i) {\n        return y(this, void 0, void 0, function () {\n          var e = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (!Aa(r)) throw r;\n                return n.Oh.add(1), [4, pl(n)];\n\n              case 1:\n                return t.sent(), n.Mh.set(\"Offline\"), i = i || function () {\n                  return Hh(n.Sh);\n                }, n.fs.bo(function () {\n                  return y(e, void 0, void 0, function () {\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return Sr(\"RemoteStore\", \"Retrying IndexedDB access\"), [4, i()];\n\n                        case 1:\n                          return t.sent(), n.Oh.delete(1), [4, ll(n)];\n\n                        case 2:\n                          return t.sent(), [2];\n                      }\n                    });\n                  });\n                }), [2];\n            }\n          });\n        });\n      }\n\n      function Tl(e, n) {\n        return n().catch(function (t) {\n          return El(e, t, n);\n        });\n      }\n\n      function Nl(a) {\n        return y(this, void 0, void 0, function () {\n          var i, o, s, u;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                o = Ol(i = a), s = 0 < i.xh.length ? i.xh[i.xh.length - 1].batchId : -1, t.label = 1;\n\n              case 1:\n                if (!(bl(i) && i.xh.length < 10)) return [3, 7];\n                t.label = 2;\n\n              case 2:\n                return t.trys.push([2, 4,, 6]), [4, (e = i.Sh, n = s, (r = e).persistence.runTransaction(\"Get next mutation batch\", \"readonly\", function (t) {\n                  return void 0 === n && (n = -1), r.Ho.Vi(t, n);\n                }))];\n\n              case 3:\n                return null === (u = t.sent()) ? (0 === i.xh.length && o.Zu(), [3, 7]) : (s = u.batchId, function (t, e) {\n                  t.xh.push(e);\n                  t = Ol(t);\n                  t.Ju() && t.fh && t.dh(e.mutations);\n                }(i, u), [3, 6]);\n\n              case 4:\n                return u = t.sent(), [4, El(i, u)];\n\n              case 5:\n                return t.sent(), [3, 6];\n\n              case 6:\n                return [3, 1];\n\n              case 7:\n                return Sl(i) && Al(i), [2];\n            }\n\n            var e, n, r;\n          });\n        });\n      }\n\n      function Sl(t) {\n        return bl(t) && !Ol(t).Hu() && 0 < t.xh.length;\n      }\n\n      function Al(t) {\n        Ol(t).start();\n      }\n\n      function xl(n, r) {\n        return y(this, void 0, void 0, function () {\n          var e;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n, r ? (e.Oh.delete(2), [4, ll(e)]) : [3, 2];\n\n              case 1:\n                return t.sent(), [3, 5];\n\n              case 2:\n                return r ? [3, 4] : (e.Oh.add(2), [4, pl(e)]);\n\n              case 3:\n                t.sent(), e.Mh.set(\"Unknown\"), t.label = 4;\n\n              case 4:\n                t.label = 5;\n\n              case 5:\n                return [2];\n            }\n          });\n        });\n      }\n\n      function Dl(n) {\n        var t,\n            e,\n            r,\n            i = this;\n        return n.Qh || (n.Qh = (t = n.Dh, e = n.fs, r = {\n          Eu: function (n) {\n            return y(this, void 0, void 0, function () {\n              return v(this, function (t) {\n                return n.Nh.forEach(function (t, e) {\n                  vl(n, t);\n                }), [2];\n              });\n            });\n          }.bind(null, n),\n          Iu: function (e, n) {\n            return y(this, void 0, void 0, function () {\n              return v(this, function (t) {\n                return Il(e), wl(e) ? (e.Mh.ph(n), ml(e)) : e.Mh.set(\"Unknown\"), [2];\n              });\n            });\n          }.bind(null, n),\n          uh: _l.bind(null, n)\n        }, t.mh(), new nl(e, t.Ku, t.credentials, t.Kt, r)), n.Fh.push(function (e) {\n          return y(i, void 0, void 0, function () {\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return e ? (n.Qh.Xu(), wl(n) ? ml(n) : n.Mh.set(\"Unknown\"), [3, 3]) : [3, 1];\n\n                case 1:\n                  return [4, n.Qh.stop()];\n\n                case 2:\n                  t.sent(), Il(n), t.label = 3;\n\n                case 3:\n                  return [2];\n              }\n            });\n          });\n        })), n.Qh;\n      }\n\n      function Ol(n) {\n        var t,\n            e,\n            r,\n            i = this;\n        return n.Kh || (n.Kh = (t = n.Dh, e = n.fs, r = {\n          Eu: function (e) {\n            return y(this, void 0, void 0, function () {\n              return v(this, function (t) {\n                return Ol(e).Th(), [2];\n              });\n            });\n          }.bind(null, n),\n          Iu: function (e, n) {\n            return y(this, void 0, void 0, function () {\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return n && Ol(e).fh ? [4, function (r, i) {\n                      return y(this, void 0, void 0, function () {\n                        var e, n;\n                        return v(this, function (t) {\n                          switch (t.label) {\n                            case 0:\n                              return iu(n = i.code) && n !== qr.ABORTED ? (e = r.xh.shift(), Ol(r).Xu(), [4, Tl(r, function () {\n                                return r.Ch.Uh(e.batchId, i);\n                              })]) : [3, 3];\n\n                            case 1:\n                              return t.sent(), [4, Nl(r)];\n\n                            case 2:\n                              t.sent(), t.label = 3;\n\n                            case 3:\n                              return [2];\n                          }\n                        });\n                      });\n                    }(e, n)] : [3, 2];\n\n                  case 1:\n                    t.sent(), t.label = 2;\n\n                  case 2:\n                    return Sl(e) && Al(e), [2];\n                }\n              });\n            });\n          }.bind(null, n),\n          Eh: function (o) {\n            return y(this, void 0, void 0, function () {\n              var e, n, r, i;\n              return v(this, function (t) {\n                for (e = Ol(o), n = 0, r = o.xh; n < r.length; n++) i = r[n], e.dh(i.mutations);\n\n                return [2];\n              });\n            });\n          }.bind(null, n),\n          wh: function (r, i, o) {\n            return y(this, void 0, void 0, function () {\n              var e, n;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = r.xh.shift(), n = hc.from(e, i, o), [4, Tl(r, function () {\n                      return r.Ch.qh(n);\n                    })];\n\n                  case 1:\n                    return t.sent(), [4, Nl(r)];\n\n                  case 2:\n                    return t.sent(), [2];\n                }\n              });\n            });\n          }.bind(null, n)\n        }, t.mh(), new rl(e, t.Ku, t.credentials, t.Kt, r)), n.Fh.push(function (e) {\n          return y(i, void 0, void 0, function () {\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return e ? (n.Kh.Xu(), [4, Nl(n)]) : [3, 2];\n\n                case 1:\n                  return t.sent(), [3, 4];\n\n                case 2:\n                  return [4, n.Kh.stop()];\n\n                case 3:\n                  t.sent(), 0 < n.xh.length && (Sr(\"RemoteStore\", \"Stopping write stream with \" + n.xh.length + \" pending writes\"), n.xh = []), t.label = 4;\n\n                case 4:\n                  return [2];\n              }\n            });\n          });\n        })), n.Kh;\n      }\n\n      function kl() {\n        this.queries = new jc(ss, os), this.onlineState = \"Unknown\", this.Wh = new Set();\n      }\n\n      var Pl = function Pl() {\n        this.jh = void 0, this.listeners = [];\n      };\n\n      function Ll(s, u) {\n        return y(this, void 0, void 0, function () {\n          var e, n, r, i, o;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (e = s, n = u.query, r = !1, (i = e.queries.get(n)) || (r = !0, i = new Pl()), !r) return [3, 4];\n                t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 4]), o = i, [4, e.Gh(n)];\n\n              case 2:\n                return o.jh = t.sent(), [3, 4];\n\n              case 3:\n                return o = t.sent(), o = Ra(o, \"Initialization of query '\" + us(u.query) + \"' failed\"), [2, void u.onError(o)];\n\n              case 4:\n                return e.queries.set(n, i), i.listeners.push(u), u.zh(e.onlineState), i.jh && u.Hh(i.jh) && Rl(e), [2];\n            }\n          });\n        });\n      }\n\n      function Cl(s, u) {\n        return y(this, void 0, void 0, function () {\n          var e, n, r, i, o;\n          return v(this, function (t) {\n            return e = s, n = u.query, r = !1, (i = e.queries.get(n)) && 0 <= (o = i.listeners.indexOf(u)) && (i.listeners.splice(o, 1), r = 0 === i.listeners.length), r ? [2, (e.queries.delete(n), e.Jh(n))] : [2];\n          });\n        });\n      }\n\n      function Rl(t) {\n        t.Wh.forEach(function (t) {\n          t.next();\n        });\n      }\n\n      var Vl = (Bl.prototype.Hh = function (t) {\n        if (!this.options.includeMetadataChanges) {\n          for (var e = [], n = 0, r = t.docChanges; n < r.length; n++) {\n            var i = r[n];\n            3 !== i.type && e.push(i);\n          }\n\n          t = new Nu(t.query, t.docs, t.De, e, t.Ce, t.fromCache, t.xe, !0);\n        }\n\n        var o = !1;\n        return this.Xh ? this.tl(t) && (this.Yh.next(t), o = !0) : this.el(t, this.onlineState) && (this.nl(t), o = !0), this.Zh = t, o;\n      }, Bl.prototype.onError = function (t) {\n        this.Yh.error(t);\n      }, Bl.prototype.zh = function (t) {\n        this.onlineState = t;\n        var e = !1;\n        return this.Zh && !this.Xh && this.el(this.Zh, t) && (this.nl(this.Zh), e = !0), e;\n      }, Bl.prototype.el = function (t, e) {\n        if (!t.fromCache) return !0;\n        var n = \"Offline\" !== e;\n        return !(this.options.sl && n || t.docs.nt() && \"Offline\" !== e);\n      }, Bl.prototype.tl = function (t) {\n        if (0 < t.docChanges.length) return !0;\n        var e = this.Zh && this.Zh.hasPendingWrites !== t.hasPendingWrites;\n        return !(!t.xe && !e) && !0 === this.options.includeMetadataChanges;\n      }, Bl.prototype.nl = function (t) {\n        t = Nu.Oe(t.query, t.docs, t.Ce, t.fromCache), this.Xh = !0, this.Yh.next(t);\n      }, Bl),\n          Ml = (Hl.prototype.il = function () {\n        return \"metadata\" in this.payload;\n      }, Hl),\n          Ul = (Fl.prototype.yc = function (t) {\n        return Qu(this.Kt, t);\n      }, Fl.prototype.gc = function (t) {\n        return t.metadata.exists ? ra(this.Kt, t.document, !1) : new uo(this.yc(t.metadata.name), this.Vc(t.metadata.readTime));\n      }, Fl.prototype.Vc = Ju, Fl),\n          jl = (ql.prototype.ol = function (t) {\n        this.progress.bytesLoaded += t.byteLength;\n        var e = this.progress.documentsLoaded;\n        return t.payload.namedQuery ? this.queries.push(t.payload.namedQuery) : t.payload.documentMetadata ? (this.documents.push({\n          metadata: t.payload.documentMetadata\n        }), t.payload.documentMetadata.exists || ++e) : t.payload.document && (this.documents[this.documents.length - 1].document = t.payload.document, ++e), e !== this.progress.documentsLoaded ? (this.progress.documentsLoaded = e, Object.assign({}, this.progress)) : null;\n      }, ql.prototype.cl = function (t) {\n        for (var e = new Map(), n = new Ul(this.Kt), r = 0, i = t; r < i.length; r++) {\n          var o = i[r];\n          if (o.metadata.queries) for (var s = n.yc(o.metadata.name), u = 0, a = o.metadata.queries; u < a.length; u++) {\n            var c = a[u],\n                h = (e.get(c) || Iu()).add(s);\n            e.set(c, h);\n          }\n        }\n\n        return e;\n      }, ql.prototype.complete = function () {\n        return y(this, void 0, void 0, function () {\n          var e, n, r, i;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, function (f, l, p, d) {\n                  return y(this, void 0, void 0, function () {\n                    var n, r, i, o, e, s, u, a, c, h;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          for (n = f, r = Iu(), i = yu, o = wu, e = 0, s = p; e < s.length; e++) u = s[e], a = l.yc(u.metadata.name), u.document && (r = r.add(a)), i = i.Ht(a, l.gc(u)), o = o.Ht(a, l.Vc(u.metadata.readTime));\n\n                          return c = n.Tc.Or({\n                            Wr: !0\n                          }), [4, zh(n, rs(Yo(gi.ct(\"__bundle__/docs/\" + d))))];\n\n                        case 1:\n                          return h = t.sent(), [2, n.persistence.runTransaction(\"Apply bundle documents\", \"readwrite\", function (e) {\n                            return Gh(e, c, i, vi.min(), o).next(function (t) {\n                              return c.apply(e), t;\n                            }).next(function (t) {\n                              return n.fo.Xi(e, h.targetId).next(function () {\n                                return n.fo.nr(e, r, h.targetId);\n                              }).next(function () {\n                                return n.Ic.tc(e, t);\n                              });\n                            });\n                          })];\n                      }\n                    });\n                  });\n                }(this.Sh, new Ul(this.Kt), this.documents, this.rl.id)];\n\n              case 1:\n                e = t.sent(), n = this.cl(this.documents), r = 0, i = this.queries, t.label = 2;\n\n              case 2:\n                return r < i.length ? (i = i[r], [4, function (e, i, o) {\n                  return void 0 === o && (o = Iu()), y(this, void 0, void 0, function () {\n                    var n, r;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return [4, zh(e, rs(Ec(i.bundledQuery)))];\n\n                        case 1:\n                          return n = t.sent(), [2, (r = e).persistence.runTransaction(\"Save named query\", \"readwrite\", function (t) {\n                            var e = Ju(i.readTime);\n                            if (0 <= n.Mt.u(e)) return r.Eo.Bs(t, i);\n                            e = n.$t(Mr.h, e);\n                            return r.dc = r.dc.Ht(e.targetId, e), r.fo.Ji(t, e).next(function () {\n                              return r.fo.Xi(t, n.targetId);\n                            }).next(function () {\n                              return r.fo.nr(t, o, n.targetId);\n                            }).next(function () {\n                              return r.Eo.Bs(t, i);\n                            });\n                          })];\n                      }\n                    });\n                  });\n                }(this.Sh, i, n.get(i.name))]) : [3, 5];\n\n              case 3:\n                t.sent(), t.label = 4;\n\n              case 4:\n                return r++, [3, 2];\n\n              case 5:\n                return [2, (this.progress.taskState = \"Success\", new Oh(Object.assign({}, this.progress), e))];\n            }\n          });\n        });\n      }, ql);\n\n      function ql(t, e, n) {\n        this.rl = t, this.Sh = e, this.Kt = n, this.queries = [], this.documents = [], this.progress = Gl(t);\n      }\n\n      function Fl(t) {\n        this.Kt = t;\n      }\n\n      function Hl(t, e) {\n        this.payload = t, this.byteLength = e;\n      }\n\n      function Bl(t, e, n) {\n        this.query = t, this.Yh = e, this.Xh = !1, this.Zh = null, this.onlineState = \"Unknown\", this.options = n || {};\n      }\n\n      function Gl(t) {\n        return {\n          taskState: \"Running\",\n          documentsLoaded: 0,\n          bytesLoaded: 0,\n          totalDocuments: t.totalDocuments,\n          totalBytes: t.totalBytes\n        };\n      }\n\n      var zl = function zl(t) {\n        this.key = t;\n      },\n          Kl = function Kl(t) {\n        this.key = t;\n      },\n          Jl = (Object.defineProperty($l.prototype, \"fl\", {\n        get: function get() {\n          return this.al;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), $l.prototype.dl = function (t, e) {\n        var s = this,\n            u = e ? e.wl : new Tu(),\n            a = (e || this)._l,\n            c = (e || this).Ce,\n            h = a,\n            f = !1,\n            l = Qo(this.query) && a.size === this.query.limit ? a.last() : null,\n            p = $o(this.query) && a.size === this.query.limit ? a.first() : null;\n        if (t.Zt(function (t, e) {\n          var n = a.get(t),\n              r = (r = e instanceof so ? e : null) && (as(s.query, r) ? r : null),\n              i = !!n && s.Ce.has(n.key),\n              o = !!r && (r.bt || s.Ce.has(r.key) && r.hasCommittedMutations),\n              e = !1;\n          n && r ? n.data().isEqual(r.data()) ? i !== o && (u.track({\n            type: 3,\n            doc: r\n          }), e = !0) : s.El(n, r) || (u.track({\n            type: 2,\n            doc: r\n          }), e = !0, (l && 0 < s.ll(r, l) || p && s.ll(r, p) < 0) && (f = !0)) : !n && r ? (u.track({\n            type: 0,\n            doc: r\n          }), e = !0) : n && !r && (u.track({\n            type: 1,\n            doc: n\n          }), e = !0, (l || p) && (f = !0)), e && (c = r ? (h = h.add(r), o ? c.add(t) : c.delete(t)) : (h = h.delete(t), c.delete(t)));\n        }), Qo(this.query) || $o(this.query)) for (; h.size > this.query.limit;) {\n          var n = Qo(this.query) ? h.last() : h.first(),\n              h = h.delete(n.key),\n              c = c.delete(n.key);\n          u.track({\n            type: 1,\n            doc: n\n          });\n        }\n        return {\n          _l: h,\n          wl: u,\n          _c: f,\n          Ce: c\n        };\n      }, $l.prototype.El = function (t, e) {\n        return t.bt && e.hasCommittedMutations && !e.bt;\n      }, $l.prototype.Ei = function (t, e, n) {\n        var o = this,\n            r = this._l;\n        this._l = t._l, this.Ce = t.Ce;\n        var i = t.wl.Se();\n        i.sort(function (t, e) {\n          return r = t.type, i = e.type, n(r) - n(i) || o.ll(t.doc, e.doc);\n\n          function n(t) {\n            switch (t) {\n              case 0:\n                return 1;\n\n              case 2:\n              case 3:\n                return 2;\n\n              case 1:\n                return 0;\n\n              default:\n                return Or();\n            }\n          }\n\n          var r, i;\n        }), this.Tl(n);\n        var s = e ? this.Il() : [],\n            n = 0 === this.hl.size && this.qe ? 1 : 0,\n            e = n !== this.ul;\n        return this.ul = n, 0 !== i.length || e ? {\n          snapshot: new Nu(this.query, t._l, r, i, t.Ce, 0 == n, e, !1),\n          ml: s\n        } : {\n          ml: s\n        };\n      }, $l.prototype.zh = function (t) {\n        return this.qe && \"Offline\" === t ? (this.qe = !1, this.Ei({\n          _l: this._l,\n          wl: new Tu(),\n          Ce: this.Ce,\n          _c: !1\n        }, !1)) : {\n          ml: []\n        };\n      }, $l.prototype.Al = function (t) {\n        return !this.al.has(t) && !!this._l.has(t) && !this._l.get(t).bt;\n      }, $l.prototype.Tl = function (t) {\n        var e = this;\n        t && (t.Ue.forEach(function (t) {\n          return e.al = e.al.add(t);\n        }), t.Qe.forEach(function (t) {}), t.Ke.forEach(function (t) {\n          return e.al = e.al.delete(t);\n        }), this.qe = t.qe);\n      }, $l.prototype.Il = function () {\n        var e = this;\n        if (!this.qe) return [];\n        var n = this.hl;\n        this.hl = Iu(), this._l.forEach(function (t) {\n          e.Al(t.key) && (e.hl = e.hl.add(t.key));\n        });\n        var r = [];\n        return n.forEach(function (t) {\n          e.hl.has(t) || r.push(new Kl(t));\n        }), this.hl.forEach(function (t) {\n          n.has(t) || r.push(new zl(t));\n        }), r;\n      }, $l.prototype.Rl = function (t) {\n        this.al = t.Pc, this.hl = Iu();\n        t = this.dl(t.documents);\n        return this.Ei(t, !0);\n      }, $l.prototype.Pl = function () {\n        return Nu.Oe(this.query, this._l, this.Ce, 0 === this.ul);\n      }, $l),\n          Wl = function Wl(t, e, n) {\n        this.query = t, this.targetId = e, this.view = n;\n      },\n          Xl = function Xl(t) {\n        this.key = t, this.yl = !1;\n      },\n          Yl = (Object.defineProperty(Ql.prototype, \"$l\", {\n        get: function get() {\n          return !0 === this.Ll;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Ql);\n\n      function Ql(t, e, n, r, i, o) {\n        this.Sh = t, this.gl = e, this.Vl = n, this.pl = r, this.currentUser = i, this.bl = o, this.vl = {}, this.Sl = new jc(ss, os), this.Dl = new Map(), this.Cl = [], this.xl = new su(bi.J), this.Nl = new Map(), this.Ol = new tf(), this.Fl = {}, this.kl = new Map(), this.Ml = Yc.Bi(), this.onlineState = \"Unknown\", this.Ll = void 0;\n      }\n\n      function $l(t, e) {\n        this.query = t, this.al = e, this.ul = null, this.qe = !1, this.hl = Iu(), this.Ce = Iu(), this.ll = cs(t), this._l = new Eu(this.ll);\n      }\n\n      function Zl(i, o, s, u) {\n        return y(this, void 0, void 0, function () {\n          var e, n, r;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return i.Bl = function (t, e, n) {\n                  return function (r, i, o, s) {\n                    return y(this, void 0, void 0, function () {\n                      var e, n;\n                      return v(this, function (t) {\n                        switch (t.label) {\n                          case 0:\n                            return (e = i.view.dl(o))._c ? [4, Jh(r.Sh, i.query, !1).then(function (t) {\n                              t = t.documents;\n                              return i.view.dl(t, e);\n                            })] : [3, 2];\n\n                          case 1:\n                            e = t.sent(), t.label = 2;\n\n                          case 2:\n                            return n = s && s.Fe.get(i.targetId), n = i.view.Ei(e, r.$l, n), [2, (cp(r, i.targetId, n.ml), n.snapshot)];\n                        }\n                      });\n                    });\n                  }(i, t, e, n);\n                }, [4, Jh(i.Sh, o, !0)];\n\n              case 1:\n                return n = t.sent(), r = new Jl(o, n.Pc), e = r.dl(n.documents), n = Au.Be(s, u && \"Offline\" !== i.onlineState), n = r.Ei(e, i.$l, n), cp(i, s, n.ml), r = new Wl(o, s, r), [2, (i.Sl.set(o, r), i.Dl.has(s) ? i.Dl.get(s).push(o) : i.Dl.set(s, [o]), n.snapshot)];\n            }\n          });\n        });\n      }\n\n      function tp(l, p, d) {\n        return y(this, void 0, void 0, function () {\n          var s, u;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                u = mp(l), t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 5,, 6]), [4, (i = u.Sh, a = p, h = i, f = yi.now(), o = a.reduce(function (t, e) {\n                  return t.add(e.key);\n                }, Iu()), h.persistence.runTransaction(\"Locally write mutations\", \"readwrite\", function (u) {\n                  return h.Ic.Zo(u, o).next(function (t) {\n                    c = t;\n\n                    for (var e, n = [], r = 0, i = a; r < i.length; r++) {\n                      var o = i[r],\n                          s = (e = o, s = c.get(o.key), function (t, e) {\n                        for (var n = null, r = 0, i = t; r < i.length; r++) {\n                          var o = i[r],\n                              s = e instanceof so ? e.field(o.field) : void 0,\n                              s = ys(o.transform, s || null);\n                          null != s && (n = (null == n ? new to() : n).set(o.field, s));\n                        }\n\n                        return n ? n.yt() : null;\n                      }(e.fieldTransforms, s));\n                      null != s && n.push(new Bs(o.key, s, function s(t) {\n                        var u = [];\n                        return xi(t.fields || {}, function (t, e) {\n                          var n = new wi([t]);\n                          if ($i(e)) {\n                            if (0 === (e = s(e.mapValue).fields).length) u.push(n);else for (var r = 0, i = e; r < i.length; r++) {\n                              var o = i[r];\n                              u.push(n.child(o));\n                            }\n                          } else u.push(n);\n                        }), new Oi(u);\n                      }(s.proto.mapValue), Cs.exists(!0)));\n                    }\n\n                    return h.Ho.Pi(u, f, n, a);\n                  });\n                }).then(function (t) {\n                  var e = t.Ns(c);\n                  return {\n                    batchId: t.batchId,\n                    oi: e\n                  };\n                }))];\n\n              case 2:\n                return s = t.sent(), u.pl.xa(s.batchId), e = u, n = s.batchId, r = d, i = (i = (i = e.Fl[e.currentUser.R()]) || new su(Cr)).Ht(n, r), e.Fl[e.currentUser.R()] = i, [4, fp(u, s.oi)];\n\n              case 3:\n                return t.sent(), [4, Nl(u.gl)];\n\n              case 4:\n                return t.sent(), [3, 6];\n\n              case 5:\n                return u = t.sent(), u = Ra(u, \"Failed to persist write\"), d.reject(u), [3, 6];\n\n              case 6:\n                return [2];\n            }\n\n            var e, n, r, i, a, c, h, f, o;\n          });\n        });\n      }\n\n      function ep(r, i) {\n        return y(this, void 0, void 0, function () {\n          var n, e;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                n = r, t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 4,, 6]), [4, Bh(n.Sh, i)];\n\n              case 2:\n                return e = t.sent(), i.Fe.forEach(function (t, e) {\n                  e = n.Nl.get(e);\n                  e && (kr(t.Ue.size + t.Qe.size + t.Ke.size <= 1), 0 < t.Ue.size ? e.yl = !0 : 0 < t.Qe.size ? kr(e.yl) : 0 < t.Ke.size && (kr(e.yl), e.yl = !1));\n                }), [4, fp(n, e, i)];\n\n              case 3:\n                return t.sent(), [3, 6];\n\n              case 4:\n                return [4, Uc(t.sent())];\n\n              case 5:\n                return t.sent(), [3, 6];\n\n              case 6:\n                return [2];\n            }\n          });\n        });\n      }\n\n      function np(t, n, e) {\n        var r,\n            t = t;\n        (t.$l && 0 === e || !t.$l && 1 === e) && (r = [], t.Sl.forEach(function (t, e) {\n          e = e.view.zh(n);\n          e.snapshot && r.push(e.snapshot);\n        }), function (t, i) {\n          t.onlineState = i;\n          var o = !1;\n          t.queries.forEach(function (t, e) {\n            for (var n = 0, r = e.listeners; n < r.length; n++) r[n].zh(i) && (o = !0);\n          }), o && Rl(t);\n        }(t.Vl, n), r.length && t.vl.uh(r), t.onlineState = n, t.$l && t.pl.Ka(n));\n      }\n\n      function rp(s, u, a) {\n        return y(this, void 0, void 0, function () {\n          var n, o;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                n = s, t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 4,, 6]), [4, (e = n.Sh, r = u, (i = e).persistence.runTransaction(\"Reject batch\", \"readwrite-primary\", function (e) {\n                  var n;\n                  return i.Ho.yi(e, r).next(function (t) {\n                    return kr(null !== t), n = t.keys(), i.Ho.xi(e, t);\n                  }).next(function () {\n                    return i.Ho.Fi(e);\n                  }).next(function () {\n                    return i.Ic.Zo(e, n);\n                  });\n                }))];\n\n              case 2:\n                return o = t.sent(), sp(n, u, a), op(n, u), n.pl.Oa(u, \"rejected\", a), [4, fp(n, o)];\n\n              case 3:\n                return t.sent(), [3, 6];\n\n              case 4:\n                return [4, Uc(t.sent())];\n\n              case 5:\n                return t.sent(), [3, 6];\n\n              case 6:\n                return [2];\n            }\n\n            var e, r, i;\n          });\n        });\n      }\n\n      function ip(o, s) {\n        return y(this, void 0, void 0, function () {\n          var n, r, i;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                bl((n = o).gl) || Sr(\"SyncEngine\", \"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"), t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, (e = n.Sh).persistence.runTransaction(\"Get highest unacknowledged batch id\", \"readonly\", function (t) {\n                  return e.Ho.pi(t);\n                })];\n\n              case 2:\n                return -1 === (r = t.sent()) ? [2, void s.resolve()] : ((i = n.kl.get(r) || []).push(s), n.kl.set(r, i), [3, 4]);\n\n              case 3:\n                return i = t.sent(), i = Ra(i, \"Initialization of waitForPendingWrites() operation failed\"), s.reject(i), [3, 4];\n\n              case 4:\n                return [2];\n            }\n\n            var e;\n          });\n        });\n      }\n\n      function op(t, e) {\n        (t.kl.get(e) || []).forEach(function (t) {\n          t.resolve();\n        }), t.kl.delete(e);\n      }\n\n      function sp(t, e, n) {\n        var r = t,\n            i = r.Fl[r.currentUser.R()];\n        i && ((t = i.get(e)) && (n ? t.reject(n) : t.resolve(), i = i.remove(e)), r.Fl[r.currentUser.R()] = i);\n      }\n\n      function up(e, t, n) {\n        void 0 === n && (n = null), e.pl.La(t);\n\n        for (var r = 0, i = e.Dl.get(t); r < i.length; r++) {\n          var o = i[r];\n          e.Sl.delete(o), n && e.vl.ql(o, n);\n        }\n\n        e.Dl.delete(t), e.$l && e.Ol.kc(t).forEach(function (t) {\n          e.Ol.ki(t) || ap(e, t);\n        });\n      }\n\n      function ap(t, e) {\n        var n = t.xl.get(e);\n        null !== n && (yl(t.gl, n), t.xl = t.xl.remove(e), t.Nl.delete(n), hp(t));\n      }\n\n      function cp(t, e, n) {\n        for (var r = 0, i = n; r < i.length; r++) {\n          var o = i[r];\n          o instanceof zl ? (t.Ol.sr(o.key, e), function (t, e) {\n            e = e.key;\n            t.xl.get(e) || (Sr(\"SyncEngine\", \"New document in limbo: \" + e), t.Cl.push(e), hp(t));\n          }(t, o)) : o instanceof Kl ? (Sr(\"SyncEngine\", \"Document no longer in limbo: \" + o.key), t.Ol.rr(o.key, e), t.Ol.ki(o.key) || ap(t, o.key)) : Or();\n        }\n      }\n\n      function hp(t) {\n        for (; 0 < t.Cl.length && t.xl.size < t.bl;) {\n          var e = t.Cl.shift(),\n              n = t.Ml.next();\n          t.Nl.set(n, new Xl(e)), t.xl = t.xl.Ht(e, n), dl(t.gl, new hs(rs(Yo(e.path)), n, 2, ui.U));\n        }\n      }\n\n      function fp(e, s, u) {\n        return y(this, void 0, void 0, function () {\n          var n, r, i, o;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return r = [], i = [], o = [], (n = e).Sl.nt() ? [3, 3] : (n.Sl.forEach(function (t, e) {\n                  o.push(n.Bl(e, s, u).then(function (t) {\n                    t && (n.$l && n.pl.qa(e.targetId, t.fromCache ? \"not-current\" : \"current\"), r.push(t), t = Ph.cc(e.targetId, t), i.push(t));\n                  }));\n                }), [4, Promise.all(o)]);\n\n              case 1:\n                return t.sent(), n.vl.uh(r), [4, function (a, c) {\n                  return y(this, void 0, void 0, function () {\n                    var r, e, n, i, o, s, u;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          r = a, t.label = 1;\n\n                        case 1:\n                          return t.trys.push([1, 3,, 4]), [4, r.persistence.runTransaction(\"notifyLocalViewChanges\", \"readwrite\", function (n) {\n                            return ga.forEach(c, function (e) {\n                              return ga.forEach(e.rc, function (t) {\n                                return r.persistence.Ii.sr(n, e.targetId, t);\n                              }).next(function () {\n                                return ga.forEach(e.oc, function (t) {\n                                  return r.persistence.Ii.rr(n, e.targetId, t);\n                                });\n                              });\n                            });\n                          })];\n\n                        case 2:\n                          return t.sent(), [3, 4];\n\n                        case 3:\n                          if (!Aa(e = t.sent())) throw e;\n                          return Sr(\"LocalStore\", \"Failed to update sequence numbers: \" + e), [3, 4];\n\n                        case 4:\n                          for (n = 0, i = c; n < i.length; n++) u = i[n], o = u.targetId, u.fromCache || (s = r.dc.get(o), u = s.Mt, u = s.Bt(u), r.dc = r.dc.Ht(o, u));\n\n                          return [2];\n                      }\n                    });\n                  });\n                }(n.Sh, i)];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return [2];\n            }\n          });\n        });\n      }\n\n      function lp(i, o) {\n        return y(this, void 0, void 0, function () {\n          var n, r;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return (n = i).currentUser.isEqual(o) ? [3, 3] : (Sr(\"SyncEngine\", \"User change. New user:\", o.R()), [4, qh(n.Sh, o)]);\n\n              case 1:\n                return r = t.sent(), n.currentUser = o, (e = n).kl.forEach(function (t) {\n                  t.forEach(function (t) {\n                    t.reject(new Fr(qr.CANCELLED, \"'waitForPendingWrites' promise is rejected due to a user change.\"));\n                  });\n                }), e.kl.clear(), n.pl.Qa(o, r.Ac, r.Rc), [4, fp(n, r.mc)];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return [2];\n            }\n\n            var e;\n          });\n        });\n      }\n\n      function pp(u, a, c, h) {\n        return y(this, void 0, void 0, function () {\n          var o, s;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, (e = (o = u).Sh, n = a, i = (r = e).Ho, r.persistence.runTransaction(\"Lookup mutation documents\", \"readonly\", function (e) {\n                  return i.gi(e, n).next(function (t) {\n                    return t ? r.Ic.Zo(e, t) : ga.resolve(null);\n                  });\n                }))];\n\n              case 1:\n                return null === (s = t.sent()) ? [3, 6] : \"pending\" !== c ? [3, 3] : [4, Nl(o.gl)];\n\n              case 2:\n                return t.sent(), [3, 4];\n\n              case 3:\n                \"acknowledged\" === c || \"rejected\" === c ? (sp(o, a, h || null), op(o, a), o.Sh.Ho.Ni(a)) : Or(), t.label = 4;\n\n              case 4:\n                return [4, fp(o, s)];\n\n              case 5:\n                return t.sent(), [3, 7];\n\n              case 6:\n                Sr(\"SyncEngine\", \"Cannot apply mutation batch with id: \" + a), t.label = 7;\n\n              case 7:\n                return [2];\n            }\n\n            var e, n, r, i;\n          });\n        });\n      }\n\n      function dp(h, f) {\n        return y(this, void 0, void 0, function () {\n          var r, e, i, o, s, u, a, c;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return gp(r = h), mp(r), !0 !== f || !0 === r.Ll ? [3, 3] : (e = r.pl.Sa(), [4, yp(r, e.rt())]);\n\n              case 1:\n                return i = t.sent(), r.Ll = !0, [4, xl(r.gl, !0)];\n\n              case 2:\n                for (t.sent(), o = 0, s = i; o < s.length; o++) u = s[o], dl(r.gl, u);\n\n                return [3, 7];\n\n              case 3:\n                return !1 !== f || !1 === r.Ll ? [3, 7] : (a = [], c = Promise.resolve(), r.Dl.forEach(function (t, e) {\n                  r.pl.$a(e) ? a.push(e) : c = c.then(function () {\n                    return up(r, e), Kh(r.Sh, e, !0);\n                  }), yl(r.gl, e);\n                }), [4, c]);\n\n              case 4:\n                return t.sent(), [4, yp(r, a)];\n\n              case 5:\n                return t.sent(), (n = r).Nl.forEach(function (t, e) {\n                  yl(n.gl, e);\n                }), n.Ol.Mc(), n.Nl = new Map(), n.xl = new su(bi.J), r.Ll = !1, [4, xl(r.gl, !1)];\n\n              case 6:\n                t.sent(), t.label = 7;\n\n              case 7:\n                return [2];\n            }\n\n            var n;\n          });\n        });\n      }\n\n      function yp(p, d) {\n        return y(this, void 0, void 0, function () {\n          var e, n, r, i, o, s, u, a, c, h, f, l;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                e = p, n = [], r = [], i = 0, o = d, t.label = 1;\n\n              case 1:\n                return i < o.length ? (s = o[i], u = void 0, (a = e.Dl.get(s)) && 0 !== a.length ? [4, zh(e.Sh, rs(a[0]))] : [3, 7]) : [3, 13];\n\n              case 2:\n                u = t.sent(), c = 0, h = a, t.label = 3;\n\n              case 3:\n                return c < h.length ? (f = h[c], f = e.Sl.get(f), [4, function (r, i) {\n                  return y(this, void 0, void 0, function () {\n                    var e, n;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return [4, Jh((e = r).Sh, i.query, !0)];\n\n                        case 1:\n                          return n = t.sent(), n = i.view.Rl(n), [2, (e.$l && cp(e, i.targetId, n.ml), n)];\n                      }\n                    });\n                  });\n                }(e, f)]) : [3, 6];\n\n              case 4:\n                (f = t.sent()).snapshot && r.push(f.snapshot), t.label = 5;\n\n              case 5:\n                return c++, [3, 3];\n\n              case 6:\n                return [3, 11];\n\n              case 7:\n                return [4, Wh(e.Sh, s)];\n\n              case 8:\n                return l = t.sent(), [4, zh(e.Sh, l)];\n\n              case 9:\n                return u = t.sent(), [4, Zl(e, vp(l), s, !1)];\n\n              case 10:\n                t.sent(), t.label = 11;\n\n              case 11:\n                n.push(u), t.label = 12;\n\n              case 12:\n                return i++, [3, 1];\n\n              case 13:\n                return [2, (e.vl.uh(r), n)];\n            }\n          });\n        });\n      }\n\n      function vp(t) {\n        return Xo(t.path, t.collectionGroup, t.orderBy, t.filters, t.limit, \"F\", t.startAt, t.endAt);\n      }\n\n      function gp(t) {\n        return t.gl.Ch.Bh = ep.bind(null, t), t.gl.Ch.Sn = function (t, e) {\n          var n = t;\n          if ((t = n.Nl.get(e)) && t.yl) return Iu().add(t.key);\n          var r = Iu();\n          if (!(e = n.Dl.get(e))) return r;\n\n          for (var i = 0, o = e; i < o.length; i++) var s = o[i], s = n.Sl.get(s), r = r.ye(s.view.fl);\n\n          return r;\n        }.bind(null, t), t.gl.Ch.$h = function (o, s, u) {\n          return y(this, void 0, void 0, function () {\n            var e, n, r, i;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return (e = o).pl.qa(s, \"rejected\", u), i = e.Nl.get(s), (n = i && i.key) ? (r = (r = new su(bi.J)).Ht(n, new uo(n, vi.min())), i = Iu().add(n), i = new Su(vi.min(), new Map(), new pu(Cr), r, i), [4, ep(e, i)]) : [3, 2];\n\n                case 1:\n                  return t.sent(), e.xl = e.xl.remove(n), e.Nl.delete(s), hp(e), [3, 4];\n\n                case 2:\n                  return [4, Kh(e.Sh, s, !1).then(function () {\n                    return up(e, s, u);\n                  }).catch(Uc)];\n\n                case 3:\n                  t.sent(), t.label = 4;\n\n                case 4:\n                  return [2];\n              }\n            });\n          });\n        }.bind(null, t), t.vl.uh = function (t, e) {\n          for (var n = t, r = !1, i = 0, o = e; i < o.length; i++) {\n            var s = o[i],\n                u = s.query,\n                u = n.queries.get(u);\n\n            if (u) {\n              for (var a = 0, c = u.listeners; a < c.length; a++) c[a].Hh(s) && (r = !0);\n\n              u.jh = s;\n            }\n          }\n\n          r && Rl(n);\n        }.bind(null, t.Vl), t.vl.ql = function (t, e, n) {\n          var r = t;\n          if (t = r.queries.get(e)) for (var i = 0, o = t.listeners; i < o.length; i++) o[i].onError(n);\n          r.queries.delete(e);\n        }.bind(null, t.Vl), t;\n      }\n\n      function mp(t) {\n        return t.gl.Ch.qh = function (i, o) {\n          return y(this, void 0, void 0, function () {\n            var e, n, r;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  e = i, n = o.batch.batchId, t.label = 1;\n\n                case 1:\n                  return t.trys.push([1, 4,, 6]), [4, Fh(e.Sh, o)];\n\n                case 2:\n                  return r = t.sent(), sp(e, n, null), op(e, n), e.pl.Oa(n, \"acknowledged\"), [4, fp(e, r)];\n\n                case 3:\n                  return t.sent(), [3, 6];\n\n                case 4:\n                  return [4, Uc(t.sent())];\n\n                case 5:\n                  return t.sent(), [3, 6];\n\n                case 6:\n                  return [2];\n              }\n            });\n          });\n        }.bind(null, t), t.gl.Ch.Uh = rp.bind(null, t), t;\n      }\n\n      function wp(t, e, n) {\n        var r = t;\n        (function (l, p, d) {\n          return y(this, void 0, void 0, function () {\n            var u, a, c, h, f;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return t.trys.push([0, 14,, 15]), [4, p.getMetadata()];\n\n                case 1:\n                  return u = t.sent(), [4, (r = l.Sh, o = r, s = Ju((i = u).createTime), o.persistence.runTransaction(\"hasNewerBundle\", \"readonly\", function (t) {\n                    return o.Eo.Ms(t, i.id);\n                  }).then(function (t) {\n                    return !!t && 0 <= t.createTime.u(s);\n                  }))];\n\n                case 2:\n                  return t.sent() ? [4, p.close()] : [3, 4];\n\n                case 3:\n                  return [2, (t.sent(), void d.Ul({\n                    taskState: \"Success\",\n                    documentsLoaded: u.totalDocuments,\n                    bytesLoaded: u.totalBytes,\n                    totalDocuments: u.totalDocuments,\n                    totalBytes: u.totalBytes\n                  }))];\n\n                case 4:\n                  return d.Ql(Gl(u)), a = new jl(u, l.Sh, p.Kt), [4, p.Kl()];\n\n                case 5:\n                  c = t.sent(), t.label = 6;\n\n                case 6:\n                  return c ? [4, a.ol(c)] : [3, 10];\n\n                case 7:\n                  return (h = t.sent()) && d.Ql(h), [4, p.Kl()];\n\n                case 8:\n                  c = t.sent(), t.label = 9;\n\n                case 9:\n                  return [3, 6];\n\n                case 10:\n                  return [4, a.complete()];\n\n                case 11:\n                  return f = t.sent(), [4, fp(l, f.zo, void 0)];\n\n                case 12:\n                  return t.sent(), [4, (r = l.Sh, e = u, (n = r).persistence.runTransaction(\"Save bundle\", \"readwrite\", function (t) {\n                    return n.Eo.Ls(t, e);\n                  }))];\n\n                case 13:\n                  return t.sent(), d.Ul(f.progress), [3, 15];\n\n                case 14:\n                  return xr(\"SyncEngine\", \"Loading bundle failed with \" + (f = t.sent())), d.jl(f), [3, 15];\n\n                case 15:\n                  return [2];\n              }\n\n              var e, n, r, i, o, s;\n            });\n          });\n        })(r, e, n).then(function () {\n          r.pl.Wa();\n        });\n      }\n\n      var bp,\n          Ip,\n          _p = (Dp.prototype.initialize = function (e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.Kt = Yf(e.gu.T), this.pl = this.Wl(e), this.persistence = this.Gl(e), [4, this.persistence.start()];\n\n              case 1:\n                return t.sent(), this.zl = this.Hl(e), this.Sh = this.Jl(e), [2];\n            }\n          });\n        });\n      }, Dp.prototype.Hl = function (t) {\n        return null;\n      }, Dp.prototype.Jl = function (t) {\n        return jh(this.persistence, new Lh(), t.Yl, this.Kt);\n      }, Dp.prototype.Gl = function (t) {\n        return new uf(cf.ra, this.Kt);\n      }, Dp.prototype.Wl = function (t) {\n        return new Of();\n      }, Dp.prototype.terminate = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.zl && this.zl.stop(), [4, this.pl.Lo()];\n\n              case 1:\n                return t.sent(), [4, this.persistence.Lo()];\n\n              case 2:\n                return t.sent(), [2];\n            }\n          });\n        });\n      }, Dp),\n          Ep = (h(xp, Ip = _p), xp.prototype.initialize = function (e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, Ip.prototype.initialize.call(this, e)];\n\n              case 1:\n                return t.sent(), [4, Yh(this.Sh)];\n\n              case 2:\n                return t.sent(), [4, this.Xl.initialize(this, e)];\n\n              case 3:\n                return t.sent(), [4, mp(this.Xl.fa)];\n\n              case 4:\n                return t.sent(), [4, Nl(this.Xl.gl)];\n\n              case 5:\n                return t.sent(), [2];\n            }\n          });\n        });\n      }, xp.prototype.Jl = function (t) {\n        return jh(this.persistence, new Lh(), t.Yl, this.Kt);\n      }, xp.prototype.Hl = function (t) {\n        var e = this.persistence.Ii._r;\n        return new oh(e, t.fs);\n      }, xp.prototype.Gl = function (t) {\n        var e = Dh(t.gu.T, t.gu.persistenceKey),\n            n = void 0 !== this.cacheSizeBytes ? Vc.Xs(this.cacheSizeBytes) : Vc.ei;\n        return new Nh(this.synchronizeTabs, e, t.clientId, n, t.fs, Wf(), Xf(), this.Kt, this.pl, !!this.forceOwnership);\n      }, xp.prototype.Wl = function (t) {\n        return new Of();\n      }, xp),\n          Tp = (h(Ap, bp = Ep), Ap.prototype.initialize = function (r) {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, bp.prototype.initialize.call(this, r)];\n\n              case 1:\n                return t.sent(), e = this.Xl.fa, this.pl instanceof Df ? (this.pl.fa = {\n                  nu: pp.bind(null, e),\n                  su: function (i, o, s, u) {\n                    return y(this, void 0, void 0, function () {\n                      var e, n, r;\n                      return v(this, function (t) {\n                        switch (t.label) {\n                          case 0:\n                            return (e = i).Ll ? (Sr(\"SyncEngine\", \"Ignoring unexpected query state notification.\"), [3, 8]) : [3, 1];\n\n                          case 1:\n                            if (!e.Dl.has(o)) return [3, 8];\n\n                            switch (s) {\n                              case \"current\":\n                              case \"not-current\":\n                                return [3, 2];\n\n                              case \"rejected\":\n                                return [3, 5];\n                            }\n\n                            return [3, 7];\n\n                          case 2:\n                            return [4, Xh(e.Sh)];\n\n                          case 3:\n                            return n = t.sent(), r = Su.$e(o, \"current\" === s), [4, fp(e, n, r)];\n\n                          case 4:\n                            return t.sent(), [3, 8];\n\n                          case 5:\n                            return [4, Kh(e.Sh, o, !0)];\n\n                          case 6:\n                            return t.sent(), up(e, o, u), [3, 8];\n\n                          case 7:\n                            Or(), t.label = 8;\n\n                          case 8:\n                            return [2];\n                        }\n                      });\n                    });\n                  }.bind(null, e),\n                  iu: function (c, h, f) {\n                    return y(this, void 0, void 0, function () {\n                      var n, e, r, i, o, s, u, a;\n                      return v(this, function (t) {\n                        switch (t.label) {\n                          case 0:\n                            if (!(n = gp(c)).Ll) return [3, 10];\n                            e = 0, r = h, t.label = 1;\n\n                          case 1:\n                            return e < r.length ? (r = r[e], n.Dl.has(r) ? (Sr(\"SyncEngine\", \"Adding an already active target \" + r), [3, 5]) : [4, Wh(n.Sh, r)]) : [3, 6];\n\n                          case 2:\n                            return i = t.sent(), [4, zh(n.Sh, i)];\n\n                          case 3:\n                            return o = t.sent(), [4, Zl(n, vp(i), o.targetId, !1)];\n\n                          case 4:\n                            t.sent(), dl(n.gl, o), t.label = 5;\n\n                          case 5:\n                            return e++, [3, 1];\n\n                          case 6:\n                            s = function s(e) {\n                              return v(this, function (t) {\n                                switch (t.label) {\n                                  case 0:\n                                    return n.Dl.has(e) ? [4, Kh(n.Sh, e, !1).then(function () {\n                                      yl(n.gl, e), up(n, e);\n                                    }).catch(Uc)] : [3, 2];\n\n                                  case 1:\n                                    t.sent(), t.label = 2;\n\n                                  case 2:\n                                    return [2];\n                                }\n                              });\n                            }, u = 0, a = f, t.label = 7;\n\n                          case 7:\n                            return u < a.length ? (a = a[u], [5, s(a)]) : [3, 10];\n\n                          case 8:\n                            t.sent(), t.label = 9;\n\n                          case 9:\n                            return u++, [3, 7];\n\n                          case 10:\n                            return [2];\n                        }\n                      });\n                    });\n                  }.bind(null, e),\n                  Qo: function (t) {\n                    return t.Sh.persistence.Qo();\n                  }.bind(null, e),\n                  eu: function (n) {\n                    return y(this, void 0, void 0, function () {\n                      var e;\n                      return v(this, function (t) {\n                        return [2, Xh((e = n).Sh).then(function (t) {\n                          return fp(e, t);\n                        })];\n                      });\n                    });\n                  }.bind(null, e)\n                }, [4, this.pl.start()]) : [3, 3];\n\n              case 2:\n                t.sent(), t.label = 3;\n\n              case 3:\n                return [4, this.persistence.Po(function (e) {\n                  return y(n, void 0, void 0, function () {\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return [4, dp(this.Xl.fa, e)];\n\n                        case 1:\n                          return t.sent(), this.zl && (e && !this.zl.Tr ? this.zl.start(this.Sh) : e || this.zl.stop()), [2];\n                      }\n                    });\n                  });\n                })];\n\n              case 4:\n                return t.sent(), [2];\n            }\n          });\n        });\n      }, Ap.prototype.Wl = function (t) {\n        var e = Wf();\n        if (!Df.jn(e)) throw new Fr(qr.UNIMPLEMENTED, \"IndexedDB persistence is only available on platforms that support LocalStorage.\");\n        var n = Dh(t.gu.T, t.gu.persistenceKey);\n        return new Df(e, t.fs, n, t.clientId, t.Yl);\n      }, Ap),\n          Np = (Sp.prototype.initialize = function (n, r) {\n        return y(this, void 0, void 0, function () {\n          var e = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.Sh ? [3, 2] : (this.Sh = n.Sh, this.pl = n.pl, this.Dh = this.Zl(r), this.gl = this.t_(r), this.Vl = this.e_(r), this.fa = this.n_(r, !n.synchronizeTabs), this.pl.da = function (t) {\n                  return np(e.fa, t, 1);\n                }, this.gl.Ch.s_ = lp.bind(null, this.fa), [4, xl(this.gl, this.fa.$l)]);\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                return [2];\n            }\n          });\n        });\n      }, Sp.prototype.e_ = function (t) {\n        return new kl();\n      }, Sp.prototype.Zl = function (t) {\n        var e = Yf(t.gu.T),\n            n = (n = t.gu, new Rf(n));\n        return t = t.credentials, new il(t, n, e);\n      }, Sp.prototype.t_ = function (t) {\n        var e = this,\n            n = this.Sh,\n            r = this.Dh,\n            i = t.fs,\n            o = function o(t) {\n          return np(e.fa, t, 0);\n        },\n            t = new (Pf.jn() ? Pf : kf)();\n\n        return new Qf(n, r, i, o, t);\n      }, Sp.prototype.n_ = function (t, e) {\n        return function (t, e, n, r, i, o, s) {\n          o = new Yl(t, e, n, r, i, o);\n          return s && (o.Ll = !0), o;\n        }(this.Sh, this.gl, this.Vl, this.pl, t.Yl, t.bl, e);\n      }, Sp.prototype.terminate = function () {\n        return function (n) {\n          return y(this, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return e = n, Sr(\"RemoteStore\", \"RemoteStore shutting down.\"), e.Oh.add(5), [4, pl(e)];\n\n                case 1:\n                  return t.sent(), e.kh.Lo(), e.Mh.set(\"Unknown\"), [2];\n              }\n            });\n          });\n        }(this.gl);\n      }, Sp);\n\n      function Sp() {}\n\n      function Ap(t, e) {\n        var n = this;\n        return (n = bp.call(this, t, e, !1) || this).Xl = t, n.cacheSizeBytes = e, n.synchronizeTabs = !0, n;\n      }\n\n      function xp(t, e, n) {\n        var r = this;\n        return (r = Ip.call(this) || this).Xl = t, r.cacheSizeBytes = e, r.forceOwnership = n, r.synchronizeTabs = !1, r;\n      }\n\n      function Dp() {\n        this.synchronizeTabs = !1;\n      }\n\n      function Op(n, r) {\n        void 0 === r && (r = 10240);\n        var i = 0;\n        return {\n          read: function read() {\n            return y(this, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                return i < n.byteLength ? (e = {\n                  value: n.slice(i, i + r),\n                  done: !1\n                }, [2, (i += r, e)]) : [2, {\n                  done: !0\n                }];\n              });\n            });\n          },\n          cancel: function cancel() {\n            return y(this, void 0, void 0, function () {\n              return v(this, function (t) {\n                return [2];\n              });\n            });\n          },\n          releaseLock: function releaseLock() {}\n        };\n      }\n\n      var kp = (Mp.prototype.next = function (t) {\n        this.observer.next && this.i_(this.observer.next, t);\n      }, Mp.prototype.error = function (t) {\n        this.observer.error ? this.i_(this.observer.error, t) : console.error(\"Uncaught Error in snapshot listener:\", t);\n      }, Mp.prototype.r_ = function () {\n        this.muted = !0;\n      }, Mp.prototype.i_ = function (t, e) {\n        var n = this;\n        this.muted || setTimeout(function () {\n          n.muted || t(e);\n        }, 0);\n      }, Mp),\n          Pp = (Vp.prototype.close = function () {\n        return this.o_.cancel();\n      }, Vp.prototype.getMetadata = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            return [2, this.metadata.promise];\n          });\n        });\n      }, Vp.prototype.Kl = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.getMetadata()];\n\n              case 1:\n                return [2, (t.sent(), this.a_())];\n            }\n          });\n        });\n      }, Vp.prototype.a_ = function () {\n        return y(this, void 0, void 0, function () {\n          var e, n, r;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.u_()];\n\n              case 1:\n                return null === (e = t.sent()) ? [2, null] : (r = this.c_.decode(e), n = Number(r), isNaN(n) && this.h_(\"length string (\" + r + \") is not valid number\"), [4, this.l_(n)]);\n\n              case 2:\n                return r = t.sent(), [2, new Ml(JSON.parse(r), e.length + n)];\n            }\n          });\n        });\n      }, Vp.prototype.__ = function () {\n        return this.buffer.findIndex(function (t) {\n          return t === \"{\".charCodeAt(0);\n        });\n      }, Vp.prototype.u_ = function () {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.__() < 0 ? [4, this.f_()] : [3, 3];\n\n              case 1:\n                if (t.sent()) return [3, 3];\n                t.label = 2;\n\n              case 2:\n                return [3, 0];\n\n              case 3:\n                return 0 === this.buffer.length ? [2, null] : ((e = this.__()) < 0 && this.h_(\"Reached the end of bundle when a length string is expected.\"), n = this.buffer.slice(0, e), [2, (this.buffer = this.buffer.slice(e), n)]);\n            }\n          });\n        });\n      }, Vp.prototype.l_ = function (n) {\n        return y(this, void 0, void 0, function () {\n          var e;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.buffer.length < n ? [4, this.f_()] : [3, 3];\n\n              case 1:\n                t.sent() && this.h_(\"Reached the end of bundle when more is expected.\"), t.label = 2;\n\n              case 2:\n                return [3, 0];\n\n              case 3:\n                return e = this.c_.decode(this.buffer.slice(0, n)), [2, (this.buffer = this.buffer.slice(n), e)];\n            }\n          });\n        });\n      }, Vp.prototype.h_ = function (t) {\n        throw this.o_.cancel(), new Error(\"Invalid bundle format: \" + t);\n      }, Vp.prototype.f_ = function () {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.o_.read()];\n\n              case 1:\n                return (e = t.sent()).done || ((n = new Uint8Array(this.buffer.length + e.value.length)).set(this.buffer), n.set(e.value, this.buffer.length), this.buffer = n), [2, e.done];\n            }\n          });\n        });\n      }, Vp),\n          Lp = (Rp.prototype.isEqual = function (t) {\n        return this.d_.isEqual(t.d_);\n      }, Rp),\n          Cp = function Cp(t) {\n        this._methodName = t;\n      };\n\n      function Rp() {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        for (var n = 0; n < t.length; ++n) if (0 === t[n].length) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid field name at argument $(i + 1). Field names must not be empty.\");\n\n        this.d_ = new wi(t);\n      }\n\n      function Vp(t, e) {\n        var n = this;\n        this.o_ = t, this.Kt = e, this.metadata = new va(), this.buffer = new Uint8Array(), this.c_ = new TextDecoder(\"utf-8\"), this.a_().then(function (t) {\n          t && t.il() ? n.metadata.resolve(t.payload.metadata) : n.metadata.reject(new Error(\"The first element of the bundle is not a metadata, it is\\n             \" + JSON.stringify(null == t ? void 0 : t.payload)));\n        }, function (t) {\n          return n.metadata.reject(t);\n        });\n      }\n\n      function Mp(t) {\n        this.observer = t, this.muted = !1;\n      }\n\n      function Up(t, e, n) {\n        if (!n) throw new Fr(qr.INVALID_ARGUMENT, \"Function \" + t + \"() cannot be called with an empty \" + e + \".\");\n      }\n\n      function jp(t, e) {\n        if (void 0 === e) return {\n          merge: !1\n        };\n        if (void 0 !== e.mergeFields && void 0 !== e.merge) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid options passed to function \" + t + '(): You cannot specify both \"merge\" and \"mergeFields\".');\n        return e;\n      }\n\n      function qp(t, e, n, r) {\n        if (!0 === e && !0 === r) throw new Fr(qr.INVALID_ARGUMENT, t + \" and \" + n + \" cannot be used together.\");\n      }\n\n      function Fp(t) {\n        if (!bi.Et(t)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid document reference. Document references must have an even number of segments, but \" + t + \" has \" + t.length + \".\");\n      }\n\n      function Hp(t) {\n        if (bi.Et(t)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid collection reference. Collection references must have an odd number of segments, but \" + t + \" has \" + t.length + \".\");\n      }\n\n      function Bp(e) {\n        if (void 0 === e) return \"undefined\";\n        if (null === e) return \"null\";\n        if (\"string\" == typeof e) return 20 < e.length && (e = e.substring(0, 20) + \"...\"), JSON.stringify(e);\n        if (\"number\" == typeof e || \"boolean\" == typeof e) return \"\" + e;\n        if (\"object\" != typeof e) return \"function\" == typeof e ? \"a function\" : Or();\n        if (e instanceof Array) return \"an array\";\n\n        var t = function () {\n          if (e.constructor) {\n            var t = /function\\s+([^\\s(]+)\\s*\\(/.exec(e.constructor.toString());\n            if (t && 1 < t.length) return t[1];\n          }\n\n          return null;\n        }();\n\n        return t ? \"a custom \" + t + \" object\" : \"an object\";\n      }\n\n      function Gp(t, e) {\n        if (\"_delegate\" in t && (t = t._), t instanceof e) return t;\n        if (e.name === t.constructor.name) throw new Fr(qr.INVALID_ARGUMENT, \"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?\");\n        t = Bp(t);\n        throw new Fr(qr.INVALID_ARGUMENT, \"Expected type '\" + e.name + \"', but it was: \" + t);\n      }\n\n      function zp(t, e) {\n        if (e <= 0) throw new Fr(qr.INVALID_ARGUMENT, \"Function \" + t + \"() requires a positive number, but it was: \" + e + \".\");\n      }\n\n      var Kp,\n          Jp = (rd.prototype.isEqual = function (t) {\n        return this.host === t.host && this.ssl === t.ssl && this.credentials === t.credentials && this.cacheSizeBytes === t.cacheSizeBytes && this.experimentalForceLongPolling === t.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === t.experimentalAutoDetectLongPolling && this.ignoreUndefinedProperties === t.ignoreUndefinedProperties;\n      }, rd),\n          Wp = new Map(),\n          Xp = (Object.defineProperty(nd.prototype, \"app\", {\n        get: function get() {\n          if (!this.A_) throw new Fr(qr.FAILED_PRECONDITION, \"Firestore was not initialized using the Firebase SDK. 'app' is not available\");\n          return this.A_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(nd.prototype, \"R_\", {\n        get: function get() {\n          return this.T_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(nd.prototype, \"P_\", {\n        get: function get() {\n          return void 0 !== this.y_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), nd.prototype.g_ = function (t) {\n        if (this.T_) throw new Fr(qr.FAILED_PRECONDITION, \"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.\");\n        this.E_ = new Jp(t), void 0 !== t.credentials && (this.m_ = function (t) {\n          if (!t) return new ri();\n\n          switch (t.type) {\n            case \"gapi\":\n              var e = t.client;\n              return kr(!(\"object\" != typeof e || null === e || !e.auth || !e.auth.getAuthHeaderValueForFirstParty)), new si(e, t.sessionIndex || \"0\");\n\n            case \"provider\":\n              return t.client;\n\n            default:\n              throw new Fr(qr.INVALID_ARGUMENT, \"makeCredentialsProvider failed due to invalid credential type\");\n          }\n        }(t.credentials));\n      }, nd.prototype.V_ = function () {\n        return this.E_;\n      }, nd.prototype.p_ = function () {\n        return this.T_ = !0, this.E_;\n      }, nd.prototype._delete = function () {\n        return this.y_ || (this.y_ = this.b_()), this.y_;\n      }, nd.prototype.b_ = function () {\n        return (t = Wp.get(this)) && (Sr(\"ComponentProvider\", \"Removing Datastore\"), Wp.delete(this), t.terminate()), Promise.resolve();\n        var t;\n      }, nd),\n          Yp = (Object.defineProperty(ed.prototype, \"D_\", {\n        get: function get() {\n          return this.S_.path;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(ed.prototype, \"id\", {\n        get: function get() {\n          return this.S_.path.et();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(ed.prototype, \"path\", {\n        get: function get() {\n          return this.S_.path.ot();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(ed.prototype, \"parent\", {\n        get: function get() {\n          return new $p(this.firestore, this.v_, this.S_.path.Z());\n        },\n        enumerable: !1,\n        configurable: !0\n      }), ed.prototype.withConverter = function (t) {\n        return new ed(this.firestore, t, this.S_);\n      }, ed),\n          Qp = (td.prototype.withConverter = function (t) {\n        return new td(this.firestore, t, this.C_);\n      }, td),\n          $p = (h(Zp, Kp = Qp), Object.defineProperty(Zp.prototype, \"id\", {\n        get: function get() {\n          return this.C_.path.et();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Zp.prototype, \"path\", {\n        get: function get() {\n          return this.C_.path.ot();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Zp.prototype, \"parent\", {\n        get: function get() {\n          var t = this.D_.Z();\n          return t.nt() ? null : new Yp(this.firestore, null, new bi(t));\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Zp.prototype.withConverter = function (t) {\n        return new Zp(this.firestore, t, this.D_);\n      }, Zp);\n\n      function Zp(t, e, n) {\n        var r = this;\n        return (r = Kp.call(this, t, e, Yo(n)) || this).firestore = t, r.D_ = n, r.type = \"collection\", r;\n      }\n\n      function td(t, e, n) {\n        this.v_ = e, this.C_ = n, this.type = \"query\", this.firestore = t;\n      }\n\n      function ed(t, e, n) {\n        this.v_ = e, this.S_ = n, this.type = \"document\", this.firestore = t;\n      }\n\n      function nd(t, e) {\n        this.w_ = \"(lite)\", this.E_ = new Jp({}), this.T_ = !1, t instanceof Qr ? (this.I_ = t, this.m_ = new ri()) : (this.A_ = t, this.I_ = function (t) {\n          if (!Object.prototype.hasOwnProperty.apply(t.options, [\"projectId\"])) throw new Fr(qr.INVALID_ARGUMENT, '\"projectId\" not provided in firebase.initializeApp.');\n          return new Qr(t.options.projectId);\n        }(t), this.m_ = new ii(e));\n      }\n\n      function rd(t) {\n        var e;\n\n        if (void 0 === t.host) {\n          if (void 0 !== t.ssl) throw new Fr(qr.INVALID_ARGUMENT, \"Can't provide ssl option if host option is not set\");\n          this.host = \"firestore.googleapis.com\", this.ssl = !0;\n        } else this.host = t.host, this.ssl = null === (e = t.ssl) || void 0 === e || e;\n\n        if (this.credentials = t.credentials, this.ignoreUndefinedProperties = !!t.ignoreUndefinedProperties, void 0 === t.cacheSizeBytes) this.cacheSizeBytes = 41943040;else {\n          if (-1 !== t.cacheSizeBytes && t.cacheSizeBytes < 1048576) throw new Fr(qr.INVALID_ARGUMENT, \"cacheSizeBytes must be at least 1048576\");\n          this.cacheSizeBytes = t.cacheSizeBytes;\n        }\n        this.experimentalForceLongPolling = !!t.experimentalForceLongPolling, this.experimentalAutoDetectLongPolling = !!t.experimentalAutoDetectLongPolling, qp(\"experimentalForceLongPolling\", t.experimentalForceLongPolling, \"experimentalAutoDetectLongPolling\", t.experimentalAutoDetectLongPolling);\n      }\n\n      function id(t, e) {\n        for (var n, r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];\n\n        if (t instanceof Br && (t = t._), Up(\"collection\", \"path\", e), t instanceof Xp) return Hp(n = gi.ct.apply(gi, f([e], r))), new $p(t, null, n);\n        if (!(t instanceof Yp || t instanceof $p)) throw new Fr(qr.INVALID_ARGUMENT, \"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");\n        return Hp(n = gi.ct.apply(gi, f([t.path], r)).child(gi.ct(e))), new $p(t.firestore, null, n);\n      }\n\n      function od(t, e) {\n        for (var n, r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];\n\n        if (t instanceof Br && (t = t._), 1 === arguments.length && (e = Pr.t()), Up(\"doc\", \"path\", e), t instanceof Xp) return Fp(n = gi.ct.apply(gi, f([e], r))), new Yp(t, null, new bi(n));\n        if (!(t instanceof Yp || t instanceof $p)) throw new Fr(qr.INVALID_ARGUMENT, \"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");\n        return Fp(n = t.D_.child(gi.ct.apply(gi, f([e], r)))), new Yp(t.firestore, t instanceof $p ? t.v_ : null, new bi(n));\n      }\n\n      function sd(t, e) {\n        return t instanceof Br && (t = t._), e instanceof Br && (e = e._), (t instanceof Yp || t instanceof $p) && (e instanceof Yp || e instanceof $p) && t.firestore === e.firestore && t.path === e.path && t.v_ === e.v_;\n      }\n\n      function ud(t, e) {\n        return t instanceof Br && (t = t._), e instanceof Br && (e = e._), t instanceof Qp && e instanceof Qp && t.firestore === e.firestore && os(t.C_, e.C_) && t.v_ === e.v_;\n      }\n\n      var ad = (Object.defineProperty(dd.prototype, \"latitude\", {\n        get: function get() {\n          return this.x_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(dd.prototype, \"longitude\", {\n        get: function get() {\n          return this.N_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), dd.prototype.isEqual = function (t) {\n        return this.x_ === t.x_ && this.N_ === t.N_;\n      }, dd.prototype.toJSON = function () {\n        return {\n          latitude: this.x_,\n          longitude: this.N_\n        };\n      }, dd.prototype.K = function (t) {\n        return Cr(this.x_, t.x_) || Cr(this.N_, t.N_);\n      }, dd),\n          cd = /^__.*__$/,\n          hd = (pd.prototype.O_ = function (t, e) {\n        return null !== this.zt ? new Bs(t, this.data, this.zt, e, this.fieldTransforms) : new Hs(t, this.data, e, this.fieldTransforms);\n      }, pd),\n          fd = (ld.prototype.O_ = function (t, e) {\n        return new Bs(t, this.data, this.zt, e, this.fieldTransforms);\n      }, ld);\n\n      function ld(t, e, n) {\n        this.data = t, this.zt = e, this.fieldTransforms = n;\n      }\n\n      function pd(t, e, n) {\n        this.data = t, this.zt = e, this.fieldTransforms = n;\n      }\n\n      function dd(t, e) {\n        if (!isFinite(t) || t < -90 || 90 < t) throw new Fr(qr.INVALID_ARGUMENT, \"Latitude must be a number between -90 and 90, but was: \" + t);\n        if (!isFinite(e) || e < -180 || 180 < e) throw new Fr(qr.INVALID_ARGUMENT, \"Longitude must be a number between -180 and 180, but was: \" + e);\n        this.x_ = t, this.N_ = e;\n      }\n\n      function yd(t) {\n        switch (t) {\n          case 0:\n          case 2:\n          case 1:\n            return 1;\n\n          case 3:\n          case 4:\n            return;\n\n          default:\n            throw Or();\n        }\n      }\n\n      var vd = (Object.defineProperty(wd.prototype, \"path\", {\n        get: function get() {\n          return this.settings.path;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(wd.prototype, \"k_\", {\n        get: function get() {\n          return this.settings.k_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), wd.prototype.M_ = function (t) {\n        return new wd(Object.assign(Object.assign({}, this.settings), t), this.T, this.Kt, this.ignoreUndefinedProperties, this.fieldTransforms, this.zt);\n      }, wd.prototype.L_ = function (t) {\n        var e = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),\n            e = this.M_({\n          path: e,\n          B_: !1\n        });\n        return e.q_(t), e;\n      }, wd.prototype.U_ = function (t) {\n        var e,\n            t = null === (e = this.path) || void 0 === e ? void 0 : e.child(t),\n            t = this.M_({\n          path: t,\n          B_: !1\n        });\n        return t.F_(), t;\n      }, wd.prototype.Q_ = function (t) {\n        return this.M_({\n          path: void 0,\n          B_: !0\n        });\n      }, wd.prototype.K_ = function (t) {\n        return Wd(t, this.settings.methodName, this.settings.j_ || !1, this.path, this.settings.W_);\n      }, wd.prototype.contains = function (e) {\n        return void 0 !== this.zt.find(function (t) {\n          return e.st(t);\n        }) || void 0 !== this.fieldTransforms.find(function (t) {\n          return e.st(t.field);\n        });\n      }, wd.prototype.F_ = function () {\n        if (this.path) for (var t = 0; t < this.path.length; t++) this.q_(this.path.get(t));\n      }, wd.prototype.q_ = function (t) {\n        if (0 === t.length) throw this.K_(\"Document fields must not be empty\");\n        if (yd(this.k_) && cd.test(t)) throw this.K_('Document fields cannot begin and end with \"__\"');\n      }, wd),\n          gd = (md.prototype.G_ = function (t, e, n, r) {\n        return void 0 === r && (r = !1), new vd({\n          k_: t,\n          methodName: e,\n          W_: n,\n          path: wi.at(),\n          B_: !1,\n          j_: r\n        }, this.T, this.Kt, this.ignoreUndefinedProperties);\n      }, md);\n\n      function md(t, e, n) {\n        this.T = t, this.ignoreUndefinedProperties = e, this.Kt = n || Yf(t);\n      }\n\n      function wd(t, e, n, r, i, o) {\n        this.settings = t, this.T = e, this.Kt = n, this.ignoreUndefinedProperties = r, void 0 === i && this.F_(), this.fieldTransforms = i || [], this.zt = o || [];\n      }\n\n      function bd(t) {\n        var e = t.p_(),\n            n = Yf(t.I_);\n        return new gd(t.I_, !!e.ignoreUndefinedProperties, n);\n      }\n\n      function Id(t, e, n, r, i, o) {\n        void 0 === o && (o = {});\n        var s = t.G_(o.merge || o.mergeFields ? 2 : 0, e, n, i);\n        Gd(\"Data must be an object, but it was:\", s, r);\n        var u,\n            a,\n            r = Hd(r, s);\n        if (o.merge) u = new Oi(s.zt), a = s.fieldTransforms;else if (o.mergeFields) {\n          for (var c = [], h = 0, f = o.mergeFields; h < f.length; h++) {\n            var l = zd(e, f[h], n);\n            if (!s.contains(l)) throw new Fr(qr.INVALID_ARGUMENT, \"Field '\" + l + \"' is specified in your field mask but missing from your input data.\");\n            Xd(c, l) || c.push(l);\n          }\n\n          u = new Oi(c), a = s.fieldTransforms.filter(function (t) {\n            return u.It(t.field);\n          });\n        } else u = null, a = s.fieldTransforms;\n        return new hd(new Zi(r), u, a);\n      }\n\n      var _d,\n          Ed = (h(Td, _d = Cp), Td.prototype.z_ = function (t) {\n        if (2 !== t.k_) throw 1 === t.k_ ? t.K_(this._methodName + \"() can only appear at the top level of your update data\") : t.K_(this._methodName + \"() cannot be used with set() unless you pass {merge:true}\");\n        return t.zt.push(t.path), null;\n      }, Td.prototype.isEqual = function (t) {\n        return t instanceof Td;\n      }, Td);\n\n      function Td() {\n        return null !== _d && _d.apply(this, arguments) || this;\n      }\n\n      function Nd(t, e, n) {\n        return new vd({\n          k_: 3,\n          W_: e.settings.W_,\n          methodName: t._methodName,\n          B_: n\n        }, e.T, e.Kt, e.ignoreUndefinedProperties);\n      }\n\n      var Sd,\n          Ad,\n          xd,\n          Dd,\n          Od = (h(Md, Dd = Cp), Md.prototype.z_ = function (t) {\n        return new Ls(t.path, new ms());\n      }, Md.prototype.isEqual = function (t) {\n        return t instanceof Md;\n      }, Md),\n          kd = (h(Vd, xd = Cp), Vd.prototype.z_ = function (t) {\n        var e = Nd(this, t, !0),\n            n = this.H_.map(function (t) {\n          return Fd(t, e);\n        }),\n            n = new ws(n);\n        return new Ls(t.path, n);\n      }, Vd.prototype.isEqual = function (t) {\n        return this === t;\n      }, Vd),\n          Pd = (h(Rd, Ad = Cp), Rd.prototype.z_ = function (t) {\n        var e = Nd(this, t, !0),\n            n = this.H_.map(function (t) {\n          return Fd(t, e);\n        }),\n            n = new Ts(n);\n        return new Ls(t.path, n);\n      }, Rd.prototype.isEqual = function (t) {\n        return this === t;\n      }, Rd),\n          Ld = (h(Cd, Sd = Cp), Cd.prototype.z_ = function (t) {\n        var e = new xs(t.Kt, ds(t.Kt, this.J_));\n        return new Ls(t.path, e);\n      }, Cd.prototype.isEqual = function (t) {\n        return this === t;\n      }, Cd);\n\n      function Cd(t, e) {\n        var n = this;\n        return (n = Sd.call(this, t) || this).J_ = e, n;\n      }\n\n      function Rd(t, e) {\n        var n = this;\n        return (n = Ad.call(this, t) || this).H_ = e, n;\n      }\n\n      function Vd(t, e) {\n        var n = this;\n        return (n = xd.call(this, t) || this).H_ = e, n;\n      }\n\n      function Md() {\n        return null !== Dd && Dd.apply(this, arguments) || this;\n      }\n\n      function Ud(t, r, i, e) {\n        var o = t.G_(1, r, i);\n        Gd(\"Data must be an object, but it was:\", o, e);\n        var s = [],\n            u = new to();\n        xi(e, function (t, e) {\n          var n = Jd(r, t, i);\n          e instanceof Br && (e = e._);\n          t = o.U_(n);\n          e instanceof Ed ? s.push(n) : null != (t = Fd(e, t)) && (s.push(n), u.set(n, t));\n        });\n        e = new Oi(s);\n        return new fd(u.yt(), e, o.fieldTransforms);\n      }\n\n      function jd(t, e, n, r, i, o) {\n        var s = t.G_(1, e, n),\n            u = [zd(e, r, n)],\n            a = [i];\n        if (o.length % 2 != 0) throw new Fr(qr.INVALID_ARGUMENT, \"Function \" + e + \"() needs to be called with an even number of arguments that alternate between field names and values.\");\n\n        for (var c = 0; c < o.length; c += 2) u.push(zd(e, o[c])), a.push(o[c + 1]);\n\n        for (var h, f, l, p = [], d = new to(), y = u.length - 1; 0 <= y; --y) {\n          Xd(p, u[y]) || (h = u[y], (f = a[y]) instanceof Br && (f = f._), l = s.U_(h), f instanceof Ed ? p.push(h) : null != (l = Fd(f, l)) && (p.push(h), d.set(h, l)));\n        }\n\n        i = new Oi(p);\n        return new fd(d.yt(), i, s.fieldTransforms);\n      }\n\n      function qd(t, e, n, r) {\n        return void 0 === r && (r = !1), Fd(n, t.G_(r ? 4 : 3, e));\n      }\n\n      function Fd(s, t) {\n        if (s instanceof Br && (s = s._), Bd(s)) return Gd(\"Unsupported field value:\", t, s), Hd(s, t);\n        if (s instanceof Cp) return function (t, e) {\n          if (!yd(e.k_)) throw e.K_(t._methodName + \"() can only be used with update() and set()\");\n          if (!e.path) throw e.K_(t._methodName + \"() is not currently supported inside arrays\");\n          t = t.z_(e);\n          t && e.fieldTransforms.push(t);\n        }(s, t), null;\n\n        if (t.path && t.zt.push(t.path), s instanceof Array) {\n          if (t.settings.B_ && 4 !== t.k_) throw t.K_(\"Nested arrays are not supported\");\n          return function (t) {\n            for (var e = [], n = 0, r = 0, i = s; r < i.length; r++) {\n              var o = Fd(i[r], t.Q_(n));\n              null == o && (o = {\n                nullValue: \"NULL_VALUE\"\n              }), e.push(o), n++;\n            }\n\n            return {\n              arrayValue: {\n                values: e\n              }\n            };\n          }(t);\n        }\n\n        return function (t, e) {\n          if (t instanceof Br && (t = t._), null === t) return {\n            nullValue: \"NULL_VALUE\"\n          };\n          if (\"number\" == typeof t) return ds(e.Kt, t);\n          if (\"boolean\" == typeof t) return {\n            booleanValue: t\n          };\n          if (\"string\" == typeof t) return {\n            stringValue: t\n          };\n\n          if (t instanceof Date) {\n            var n = yi.fromDate(t);\n            return {\n              timestampValue: zu(e.Kt, n)\n            };\n          }\n\n          if (t instanceof yi) return n = new yi(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3)), {\n            timestampValue: zu(e.Kt, n)\n          };\n          if (t instanceof ad) return {\n            geoPointValue: {\n              latitude: t.latitude,\n              longitude: t.longitude\n            }\n          };\n          if (t instanceof Hr) return {\n            bytesValue: Ku(e.Kt, t.l)\n          };\n\n          if (t instanceof Yp) {\n            n = e.T;\n            var r = t.firestore.I_;\n            if (!r.isEqual(n)) throw e.K_(\"Document reference is for database \" + r.projectId + \"/\" + r.database + \" but should be for database \" + n.projectId + \"/\" + n.database);\n            return {\n              referenceValue: Wu(t.firestore.I_ || e.T, t.S_.path)\n            };\n          }\n\n          if (void 0 === t && e.ignoreUndefinedProperties) return null;\n          throw e.K_(\"Unsupported field value: \" + Bp(t));\n        }(s, t);\n      }\n\n      function Hd(t, n) {\n        var r = {};\n        return Di(t) ? n.path && 0 < n.path.length && n.zt.push(n.path) : xi(t, function (t, e) {\n          e = Fd(e, n.L_(t));\n          null != e && (r[t] = e);\n        }), {\n          mapValue: {\n            fields: r\n          }\n        };\n      }\n\n      function Bd(t) {\n        return !(\"object\" != typeof t || null === t || t instanceof Array || t instanceof Date || t instanceof yi || t instanceof ad || t instanceof Hr || t instanceof Yp || t instanceof Cp);\n      }\n\n      function Gd(t, e, n) {\n        if (!Bd(n) || \"object\" != typeof (r = n) || null === r || Object.getPrototypeOf(r) !== Object.prototype && null !== Object.getPrototypeOf(r)) {\n          n = Bp(n);\n          throw \"an object\" === n ? e.K_(t + \" a custom object\") : e.K_(t + \" \" + n);\n        }\n\n        var r;\n      }\n\n      function zd(t, e, n) {\n        if (e instanceof Br && (e = e._), e instanceof Lp) return e.d_;\n        if (\"string\" == typeof e) return Jd(t, e);\n        throw Wd(\"Field path arguments must be of type string or FieldPath.\", t, !1, void 0, n);\n      }\n\n      var Kd = new RegExp(\"[~\\\\*/\\\\[\\\\]]\");\n\n      function Jd(e, n, r) {\n        if (0 <= n.search(Kd)) throw Wd(\"Invalid field path (\" + n + \"). Paths must not contain '~', '*', '/', '[', or ']'\", e, !1, void 0, r);\n\n        try {\n          return new (Lp.bind.apply(Lp, f([void 0], n.split(\".\"))))().d_;\n        } catch (t) {\n          throw Wd(\"Invalid field path (\" + n + \"). Paths must not be empty, begin with '.', end with '.', or contain '..'\", e, !1, void 0, r);\n        }\n      }\n\n      function Wd(t, e, n, r, i) {\n        var o = r && !r.nt(),\n            s = void 0 !== i,\n            e = \"Function \" + e + \"() called with invalid data\";\n        n && (e += \" (via `toFirestore()`)\");\n        n = \"\";\n        return (o || s) && (n += \" (found\", o && (n += \" in field \" + r), s && (n += \" in document \" + i), n += \")\"), new Fr(qr.INVALID_ARGUMENT, (e += \". \") + t + n);\n      }\n\n      function Xd(t, e) {\n        return t.some(function (t) {\n          return t.isEqual(e);\n        });\n      }\n\n      var Yd = (ey.prototype.ef = function (r) {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (this.nf(), 0 < this.mutations.length) throw new Fr(qr.INVALID_ARGUMENT, \"Firestore transactions require all reads to be executed before all writes.\");\n                return [4, function (s, u) {\n                  return y(this, void 0, void 0, function () {\n                    var n, e, r, i, o;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return e = ta((n = s).Kt) + \"/documents\", r = {\n                            documents: u.map(function (t) {\n                              return Yu(n.Kt, t);\n                            })\n                          }, [4, n.Cu(\"BatchGetDocuments\", e, r)];\n\n                        case 1:\n                          return r = t.sent(), i = new Map(), r.forEach(function (t) {\n                            var e,\n                                t = (e = n.Kt, \"found\" in (t = t) ? function (t, e) {\n                              kr(!!e.found), e.found.name, e.found.updateTime;\n                              var n = Qu(t, e.found.name),\n                                  t = Ju(e.found.updateTime),\n                                  e = new Zi({\n                                mapValue: {\n                                  fields: e.found.fields\n                                }\n                              });\n                              return new so(n, t, e, {});\n                            }(e, t) : \"missing\" in t ? function (t, e) {\n                              kr(!!e.missing), kr(!!e.readTime);\n                              t = Qu(t, e.missing), e = Ju(e.readTime);\n                              return new uo(t, e);\n                            }(e, t) : Or());\n                            i.set(t.key.toString(), t);\n                          }), o = [], [2, (u.forEach(function (t) {\n                            t = i.get(t.toString());\n                            kr(!!t), o.push(t);\n                          }), o)];\n                      }\n                    });\n                  });\n                }(this.Dh, r)];\n\n              case 1:\n                return [2, ((e = t.sent()).forEach(function (t) {\n                  t instanceof uo || t instanceof so ? n.sf(t) : Or();\n                }), e)];\n            }\n          });\n        });\n      }, ey.prototype.set = function (t, e) {\n        this.write(e.O_(t, this.Gt(t))), this.tf.add(t.toString());\n      }, ey.prototype.update = function (t, e) {\n        try {\n          this.write(e.O_(t, this.rf(t)));\n        } catch (t) {\n          this.Z_ = t;\n        }\n\n        this.tf.add(t.toString());\n      }, ey.prototype.delete = function (t) {\n        this.write(new tu(t, this.Gt(t))), this.tf.add(t.toString());\n      }, ey.prototype.commit = function () {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (this.nf(), this.Z_) throw this.Z_;\n                return e = this.Y_, this.mutations.forEach(function (t) {\n                  e.delete(t.key.toString());\n                }), e.forEach(function (t, e) {\n                  e = bi.ft(e);\n                  n.mutations.push(new eu(e, n.Gt(e)));\n                }), [4, function (i, o) {\n                  return y(this, void 0, void 0, function () {\n                    var e, n, r;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return n = ta((e = i).Kt) + \"/documents\", r = {\n                            writes: o.map(function (t) {\n                              return ia(e.Kt, t);\n                            })\n                          }, [4, e.bu(\"Commit\", n, r)];\n\n                        case 1:\n                          return t.sent(), [2];\n                      }\n                    });\n                  });\n                }(this.Dh, this.mutations)];\n\n              case 1:\n                return t.sent(), this.X_ = !0, [2];\n            }\n          });\n        });\n      }, ey.prototype.sf = function (t) {\n        var e;\n        if (t instanceof so) e = t.version;else {\n          if (!(t instanceof uo)) throw Or();\n          e = vi.min();\n        }\n        var n = this.Y_.get(t.key.toString());\n\n        if (n) {\n          if (!e.isEqual(n)) throw new Fr(qr.ABORTED, \"Document version changed between two reads.\");\n        } else this.Y_.set(t.key.toString(), e);\n      }, ey.prototype.Gt = function (t) {\n        var e = this.Y_.get(t.toString());\n        return !this.tf.has(t.toString()) && e ? Cs.updateTime(e) : Cs.jt();\n      }, ey.prototype.rf = function (t) {\n        var e = this.Y_.get(t.toString());\n        if (this.tf.has(t.toString()) || !e) return Cs.exists(!0);\n        if (e.isEqual(vi.min())) throw new Fr(qr.INVALID_ARGUMENT, \"Can't update a document that doesn't exist.\");\n        return Cs.updateTime(e);\n      }, ey.prototype.write = function (t) {\n        this.nf(), this.mutations.push(t);\n      }, ey.prototype.nf = function () {}, ey),\n          Qd = (ty.prototype.run = function () {\n        this.af();\n      }, ty.prototype.af = function () {\n        var t = this;\n        this.zu.Bu(function () {\n          return y(t, void 0, void 0, function () {\n            var e,\n                n,\n                r = this;\n            return v(this, function (t) {\n              return e = new Yd(this.Dh), (n = this.uf(e)) && n.then(function (t) {\n                r.fs.ys(function () {\n                  return e.commit().then(function () {\n                    r.Ts.resolve(t);\n                  }).catch(function (t) {\n                    r.hf(t);\n                  });\n                });\n              }).catch(function (t) {\n                r.hf(t);\n              }), [2];\n            });\n          });\n        });\n      }, ty.prototype.uf = function (t) {\n        try {\n          var e = this.updateFunction(t);\n          return !Ui(e) && e.catch && e.then ? e : (this.Ts.reject(Error(\"Transaction callback must return a Promise\")), null);\n        } catch (t) {\n          return this.Ts.reject(t), null;\n        }\n      }, ty.prototype.hf = function (t) {\n        var e = this;\n        0 < this.cf && this.lf(t) ? (--this.cf, this.fs.ys(function () {\n          return e.af(), Promise.resolve();\n        })) : this.Ts.reject(t);\n      }, ty.prototype.lf = function (t) {\n        if (\"FirebaseError\" !== t.name) return !1;\n        t = t.code;\n        return \"aborted\" === t || \"failed-precondition\" === t || !iu(t);\n      }, ty),\n          $d = (Zd.prototype.getConfiguration = function () {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, this.N.promise];\n\n              case 1:\n                return [2, (t.sent(), {\n                  fs: this.fs,\n                  gu: this.gu,\n                  clientId: this.clientId,\n                  credentials: this.credentials,\n                  Yl: this.user,\n                  bl: 100\n                })];\n            }\n          });\n        });\n      }, Zd.prototype.ff = function (t) {\n        var e = this;\n        this._f = t, this.N.promise.then(function () {\n          return e._f(e.user);\n        });\n      }, Zd.prototype.df = function () {\n        if (this.fs.wf) throw new Fr(qr.FAILED_PRECONDITION, \"The client has already been terminated.\");\n      }, Zd.prototype.terminate = function () {\n        var t = this;\n        this.fs.Ef();\n        var n = new va();\n        return this.fs.Tf(function () {\n          return y(t, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return t.trys.push([0, 5,, 6]), this.If ? [4, this.If.terminate()] : [3, 2];\n\n                case 1:\n                  t.sent(), t.label = 2;\n\n                case 2:\n                  return this.mf ? [4, this.mf.terminate()] : [3, 4];\n\n                case 3:\n                  t.sent(), t.label = 4;\n\n                case 4:\n                  return this.credentials.D(), n.resolve(), [3, 6];\n\n                case 5:\n                  return e = t.sent(), e = Ra(e, \"Failed to shutdown persistence\"), n.reject(e), [3, 6];\n\n                case 6:\n                  return [2];\n              }\n            });\n          });\n        }), n.promise;\n      }, Zd);\n\n      function Zd(t, e, n) {\n        var r = this;\n        this.credentials = t, this.fs = e, this.gu = n, this.user = $r.UNAUTHENTICATED, this.clientId = Pr.t(), this._f = function () {}, this.N = new va(), this.credentials.S(function (t) {\n          Sr(\"FirestoreClient\", \"Received user=\", t.uid), r.user = t, r._f(t), r.N.resolve();\n        });\n      }\n\n      function ty(t, e, n, r) {\n        this.fs = t, this.Dh = e, this.updateFunction = n, this.Ts = r, this.cf = 5, this.zu = new el(this.fs, \"transaction_retry\");\n      }\n\n      function ey(t) {\n        this.Dh = t, this.Y_ = new Map(), this.mutations = [], this.X_ = !1, this.Z_ = null, this.tf = new Set();\n      }\n\n      function ny(i, o) {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n,\n              r = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return i.fs.Af(), Sr(\"FirestoreClient\", \"Initializing OfflineComponentProvider\"), [4, i.getConfiguration()];\n\n              case 1:\n                return e = t.sent(), [4, o.initialize(e)];\n\n              case 2:\n                return t.sent(), n = e.Yl, i.ff(function (e) {\n                  n.isEqual(e) || (n = e, i.fs.bo(function () {\n                    return y(r, void 0, void 0, function () {\n                      return v(this, function (t) {\n                        switch (t.label) {\n                          case 0:\n                            return [4, qh(o.Sh, e)];\n\n                          case 1:\n                            return t.sent(), [2];\n                        }\n                      });\n                    });\n                  }));\n                }), o.persistence.yo(function () {\n                  return i.terminate();\n                }), i.mf = o, [2];\n            }\n          });\n        });\n      }\n\n      function ry(r, i) {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return r.fs.Af(), [4, iy(r)];\n\n              case 1:\n                return e = t.sent(), Sr(\"FirestoreClient\", \"Initializing OnlineComponentProvider\"), [4, r.getConfiguration()];\n\n              case 2:\n                return n = t.sent(), [4, i.initialize(e, n)];\n\n              case 3:\n                return t.sent(), r.ff(function (t) {\n                  return r.fs.bo(function () {\n                    return function (r, i) {\n                      return y(this, void 0, void 0, function () {\n                        var e, n;\n                        return v(this, function (t) {\n                          switch (t.label) {\n                            case 0:\n                              return (e = r).fs.Af(), Sr(\"RemoteStore\", \"RemoteStore received new credentials\"), n = bl(e), e.Oh.add(3), [4, pl(e)];\n\n                            case 1:\n                              return t.sent(), n && e.Mh.set(\"Unknown\"), [4, e.Ch.s_(i)];\n\n                            case 2:\n                              return t.sent(), e.Oh.delete(3), [4, ll(e)];\n\n                            case 3:\n                              return t.sent(), [2];\n                          }\n                        });\n                      });\n                    }(i.gl, t);\n                  });\n                }), r.If = i, [2];\n            }\n          });\n        });\n      }\n\n      function iy(e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e.mf ? [3, 2] : (Sr(\"FirestoreClient\", \"Using default OfflineComponentProvider\"), [4, ny(e, new _p())]);\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                return [2, e.mf];\n            }\n          });\n        });\n      }\n\n      function oy(e) {\n        return y(this, void 0, void 0, function () {\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e.If ? [3, 2] : (Sr(\"FirestoreClient\", \"Using default OnlineComponentProvider\"), [4, ry(e, new Np())]);\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                return [2, e.If];\n            }\n          });\n        });\n      }\n\n      function sy(t) {\n        return iy(t).then(function (t) {\n          return t.persistence;\n        });\n      }\n\n      function uy(t) {\n        return iy(t).then(function (t) {\n          return t.Sh;\n        });\n      }\n\n      function ay(t) {\n        return oy(t).then(function (t) {\n          return t.gl;\n        });\n      }\n\n      function cy(t) {\n        return oy(t).then(function (t) {\n          return t.fa;\n        });\n      }\n\n      function hy(r) {\n        return y(this, void 0, void 0, function () {\n          var e, n;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, oy(r)];\n\n              case 1:\n                return e = t.sent(), [2, ((n = e.Vl).Gh = function (s, u) {\n                  return y(this, void 0, void 0, function () {\n                    var e, n, r, i, o;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return e = gp(s), (o = e.Sl.get(u)) ? (n = o.targetId, e.pl.ka(n), r = o.view.Pl(), [3, 4]) : [3, 1];\n\n                        case 1:\n                          return [4, zh(e.Sh, rs(u))];\n\n                        case 2:\n                          return i = t.sent(), o = e.pl.ka(i.targetId), n = i.targetId, [4, Zl(e, u, n, \"current\" === o)];\n\n                        case 3:\n                          r = t.sent(), e.$l && dl(e.gl, i), t.label = 4;\n\n                        case 4:\n                          return [2, r];\n                      }\n                    });\n                  });\n                }.bind(null, e.fa), n.Jh = function (i, o) {\n                  return y(this, void 0, void 0, function () {\n                    var e, n, r;\n                    return v(this, function (t) {\n                      switch (t.label) {\n                        case 0:\n                          return n = (e = i).Sl.get(o), 1 < (r = e.Dl.get(n.targetId)).length ? [2, (e.Dl.set(n.targetId, r.filter(function (t) {\n                            return !os(t, o);\n                          })), void e.Sl.delete(o))] : e.$l ? (e.pl.La(n.targetId), e.pl.Ca(n.targetId) ? [3, 2] : [4, Kh(e.Sh, n.targetId, !1).then(function () {\n                            e.pl.Ba(n.targetId), yl(e.gl, n.targetId), up(e, n.targetId);\n                          }).catch(Uc)]) : [3, 3];\n\n                        case 1:\n                          t.sent(), t.label = 2;\n\n                        case 2:\n                          return [3, 5];\n\n                        case 3:\n                          return up(e, n.targetId), [4, Kh(e.Sh, n.targetId, !0)];\n\n                        case 4:\n                          t.sent(), t.label = 5;\n\n                        case 5:\n                          return [2];\n                      }\n                    });\n                  });\n                }.bind(null, e.fa), n)];\n            }\n          });\n        });\n      }\n\n      function fy(n, r, i) {\n        var t = this;\n        void 0 === i && (i = {});\n        var o = new va();\n        return n.fs.ys(function () {\n          return y(t, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return e = function e(n, r, i, o, s) {\n                    var t = new kp({\n                      next: function next(t) {\n                        r.ys(function () {\n                          return Cl(n, u);\n                        });\n                        var e = t.docs.has(i);\n                        !e && t.fromCache ? s.reject(new Fr(qr.UNAVAILABLE, \"Failed to get document because the client is offline.\")) : e && t.fromCache && o && \"server\" === o.source ? s.reject(new Fr(qr.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')) : s.resolve(t);\n                      },\n                      error: function error(t) {\n                        return s.reject(t);\n                      }\n                    }),\n                        u = new Vl(Yo(i.path), t, {\n                      includeMetadataChanges: !0,\n                      sl: !0\n                    });\n                    return Ll(n, u);\n                  }, [4, hy(n)];\n\n                case 1:\n                  return [2, e.apply(void 0, [t.sent(), n.fs, r, i, o])];\n              }\n            });\n          });\n        }), o.promise;\n      }\n\n      function ly(n, r, i) {\n        var t = this;\n        void 0 === i && (i = {});\n        var o = new va();\n        return n.fs.ys(function () {\n          return y(t, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return e = function e(_e2, n, t, r, i) {\n                    var o = new kp({\n                      next: function next(t) {\n                        n.ys(function () {\n                          return Cl(_e2, s);\n                        }), t.fromCache && \"server\" === r.source ? i.reject(new Fr(qr.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')) : i.resolve(t);\n                      },\n                      error: function error(t) {\n                        return i.reject(t);\n                      }\n                    }),\n                        s = new Vl(t, o, {\n                      includeMetadataChanges: !0,\n                      sl: !0\n                    });\n                    return Ll(_e2, s);\n                  }, [4, hy(n)];\n\n                case 1:\n                  return [2, e.apply(void 0, [t.sent(), n.fs, r, i, o])];\n              }\n            });\n          });\n        }), o.promise;\n      }\n\n      var py,\n          dy = (Object.defineProperty(gy.prototype, \"wf\", {\n        get: function get() {\n          return this.yf;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), gy.prototype.ys = function (t) {\n        this.enqueue(t);\n      }, gy.prototype.Tf = function (t) {\n        this.Sf(), this.Df(t);\n      }, gy.prototype.Ef = function () {\n        var t;\n        this.yf || (this.yf = !0, (t = Xf()) && \"function\" == typeof t.removeEventListener && t.removeEventListener(\"visibilitychange\", this.vf));\n      }, gy.prototype.enqueue = function (t) {\n        return this.Sf(), this.yf ? new Promise(function (t) {}) : this.Df(t);\n      }, gy.prototype.bo = function (t) {\n        var e = this;\n        this.ys(function () {\n          return e.Pf.push(t), e.Cf();\n        });\n      }, gy.prototype.Cf = function () {\n        return y(this, void 0, void 0, function () {\n          var e,\n              n = this;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (0 === this.Pf.length) return [3, 5];\n                t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, this.Pf[0]()];\n\n              case 2:\n                return t.sent(), this.Pf.shift(), this.zu.reset(), [3, 4];\n\n              case 3:\n                if (!Aa(e = t.sent())) throw e;\n                return Sr(\"AsyncQueue\", \"Operation failed with retryable error: \" + e), [3, 4];\n\n              case 4:\n                0 < this.Pf.length && this.zu.Bu(function () {\n                  return n.Cf();\n                }), t.label = 5;\n\n              case 5:\n                return [2];\n            }\n          });\n        });\n      }, gy.prototype.Df = function (t) {\n        var r = this,\n            e = this.Rf.then(function () {\n          return r.pf = !0, t().catch(function (t) {\n            throw r.Vf = t, r.pf = !1, Ar(\"INTERNAL UNHANDLED ERROR: \", (n = (e = t).message || \"\", e.stack && (n = e.stack.includes(e.message) ? e.stack : e.message + \"\\n\" + e.stack), n)), t;\n            var e, n;\n          }).then(function (t) {\n            return r.pf = !1, t;\n          });\n        });\n        return this.Rf = e;\n      }, gy.prototype.Ir = function (t, e, n) {\n        var r = this;\n        this.Sf(), -1 < this.bf.indexOf(t) && (e = 0);\n        n = La.Is(this, t, e, n, function (t) {\n          return r.xf(t);\n        });\n        return this.gf.push(n), n;\n      }, gy.prototype.Sf = function () {\n        this.Vf && Or();\n      }, gy.prototype.Af = function () {}, gy.prototype.Nf = function () {\n        return y(this, void 0, void 0, function () {\n          var e;\n          return v(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return [4, e = this.Rf];\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                if (e !== this.Rf) return [3, 0];\n                t.label = 3;\n\n              case 3:\n                return [2];\n            }\n          });\n        });\n      }, gy.prototype.Of = function (t) {\n        for (var e = 0, n = this.gf; e < n.length; e++) if (n[e].ds === t) return !0;\n\n        return !1;\n      }, gy.prototype.Ff = function (r) {\n        var i = this;\n        return this.Nf().then(function () {\n          i.gf.sort(function (t, e) {\n            return t.ws - e.ws;\n          });\n\n          for (var t = 0, e = i.gf; t < e.length; t++) {\n            var n = e[t];\n            if (n.Ps(), \"all\" !== r && n.ds === r) break;\n          }\n\n          return i.Nf();\n        });\n      }, gy.prototype.kf = function (t) {\n        this.bf.push(t);\n      }, gy.prototype.xf = function (t) {\n        t = this.gf.indexOf(t);\n        this.gf.splice(t, 1);\n      }, gy),\n          yy = (h(vy, py = Xp), vy.prototype.b_ = function () {\n        return this.Lf || wy(this), this.Lf.terminate();\n      }, vy);\n\n      function vy(t, e) {\n        var n = this;\n        return (n = py.call(this, t, e) || this).Mf = new dy(), n.w_ = \"name\" in t ? t.name : \"[DEFAULT]\", n;\n      }\n\n      function gy() {\n        var e = this;\n        this.Rf = Promise.resolve(), this.Pf = [], this.yf = !1, this.gf = [], this.Vf = null, this.pf = !1, this.bf = [], this.zu = new el(this, \"async_queue_retry\"), this.vf = function () {\n          var t = Xf();\n          t && Sr(\"AsyncQueue\", \"Visibility state changed to \" + t.visibilityState), e.zu.Uu();\n        };\n        var t = Xf();\n        t && \"function\" == typeof t.addEventListener && t.addEventListener(\"visibilitychange\", this.vf);\n      }\n\n      function my(t) {\n        return t.Lf || wy(t), t.Lf.df(), t.Lf;\n      }\n\n      function wy(t) {\n        var e,\n            n,\n            r = t.p_(),\n            r = (e = t.I_, n = t.w_, new Yr(e, n, r.host, r.ssl, r.experimentalForceLongPolling, r.experimentalAutoDetectLongPolling));\n        t.Lf = new $d(t.m_, t.Mf, r);\n      }\n\n      function by(n, r, i) {\n        var t = this,\n            o = new va();\n        return n.fs.enqueue(function () {\n          return y(t, void 0, void 0, function () {\n            var e;\n            return v(this, function (t) {\n              switch (t.label) {\n                case 0:\n                  return t.trys.push([0, 3,, 4]), [4, ny(n, i)];\n\n                case 1:\n                  return t.sent(), [4, ry(n, r)];\n\n                case 2:\n                  return t.sent(), o.resolve(), [3, 4];\n\n                case 3:\n                  if (!(\"FirebaseError\" === (t = e = t.sent()).name ? t.code === qr.FAILED_PRECONDITION || t.code === qr.UNIMPLEMENTED : !(\"undefined\" != typeof DOMException && t instanceof DOMException) || 22 === t.code || 20 === t.code || 11 === t.code)) throw e;\n                  return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \" + e), o.reject(e), [3, 4];\n\n                case 4:\n                  return [2];\n              }\n            });\n          });\n        }).then(function () {\n          return o.promise;\n        });\n      }\n\n      function Iy(t) {\n        if (t.R_ || t.P_) throw new Fr(qr.FAILED_PRECONDITION, \"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.\");\n      }\n\n      var _y,\n          o = (Ay.prototype.$f = function (t, e) {\n        switch (void 0 === e && (e = \"none\"), Fi(t)) {\n          case 0:\n            return null;\n\n          case 1:\n            return t.booleanValue;\n\n          case 2:\n            return Ci(t.integerValue || t.doubleValue);\n\n          case 3:\n            return this.Bf(t.timestampValue);\n\n          case 4:\n            return this.qf(t, e);\n\n          case 5:\n            return t.stringValue;\n\n          case 6:\n            return this.Uf(Ri(t.bytesValue));\n\n          case 7:\n            return this.Qf(t.referenceValue);\n\n          case 8:\n            return this.Kf(t.geoPointValue);\n\n          case 9:\n            return this.jf(t.arrayValue, e);\n\n          case 10:\n            return this.Wf(t.mapValue, e);\n\n          default:\n            throw Or();\n        }\n      }, Ay.prototype.Wf = function (t, n) {\n        var r = this,\n            i = {};\n        return xi(t.fields || {}, function (t, e) {\n          i[t] = r.$f(e, n);\n        }), i;\n      }, Ay.prototype.Kf = function (t) {\n        return new ad(Ci(t.latitude), Ci(t.longitude));\n      }, Ay.prototype.jf = function (t, e) {\n        var n = this;\n        return (t.values || []).map(function (t) {\n          return n.$f(t, e);\n        });\n      }, Ay.prototype.qf = function (t, e) {\n        switch (e) {\n          case \"previous\":\n            var n = function t(e) {\n              e = e.mapValue.fields.__previous_value__;\n              return Vi(e) ? t(e) : e;\n            }(t);\n\n            return null == n ? null : this.$f(n, e);\n\n          case \"estimate\":\n            return this.Bf(Mi(t));\n\n          default:\n            return null;\n        }\n      }, Ay.prototype.Bf = function (t) {\n        t = Li(t);\n        return new yi(t.seconds, t.nanos);\n      }, Ay.prototype.Gf = function (t, e) {\n        var n = gi.ct(t);\n        kr(da(n));\n        t = new Qr(n.get(1), n.get(3)), n = new bi(n.X(5));\n        return t.isEqual(e) || Ar(\"Document \" + n + \" contains a document reference within a different database (\" + t.projectId + \"/\" + t.database + \") which is not supported. It will be treated as a reference in the current database (\" + e.projectId + \"/\" + e.database + \") instead.\"), n;\n      }, Ay),\n          Ey = (Object.defineProperty(Sy.prototype, \"id\", {\n        get: function get() {\n          return this.S_.path.et();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(Sy.prototype, \"ref\", {\n        get: function get() {\n          return new Yp(this.zf, this.v_, this.S_);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Sy.prototype.exists = function () {\n        return null !== this.Jf;\n      }, Sy.prototype.data = function () {\n        if (this.Jf) {\n          if (this.v_) {\n            var t = new Ty(this.zf, this.Hf, this.S_, this.Jf, null);\n            return this.v_.fromFirestore(t);\n          }\n\n          return this.Hf.$f(this.Jf.vt());\n        }\n      }, Sy.prototype.get = function (t) {\n        if (this.Jf) {\n          t = this.Jf.data().field(xy(\"DocumentSnapshot.get\", t));\n          if (null !== t) return this.Hf.$f(t);\n        }\n      }, Sy),\n          Ty = (h(Ny, _y = Ey), Ny.prototype.data = function () {\n        return _y.prototype.data.call(this);\n      }, Ny);\n\n      function Ny() {\n        return null !== _y && _y.apply(this, arguments) || this;\n      }\n\n      function Sy(t, e, n, r, i) {\n        this.zf = t, this.Hf = e, this.S_ = n, this.Jf = r, this.v_ = i;\n      }\n\n      function Ay() {}\n\n      function xy(t, e) {\n        return \"string\" == typeof e ? Jd(t, e) : (e instanceof Br ? e._ : e).d_;\n      }\n\n      function Dy(t) {\n        if ($o(t) && 0 === t.Nt.length) throw new Fr(qr.UNIMPLEMENTED, \"limitToLast() queries require specifying at least one orderBy() clause\");\n      }\n\n      Ee = function Ee() {};\n\n      function Oy(t) {\n        for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];\n\n        for (var r = 0, i = e; r < i.length; r++) {\n          t = i[r].Yf(t);\n        }\n\n        return t;\n      }\n\n      var ky,\n          Py,\n          Ly,\n          Cy,\n          Ry,\n          Vy = (h(zy, Ry = Ee), zy.prototype.Yf = function (t) {\n        var e = bd(t.firestore),\n            e = function (t, e, n, r, i, o) {\n          if (r.ht()) {\n            if (\"array-contains\" === i || \"array-contains-any\" === i) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid Query. You can't perform '\" + i + \"' queries on FieldPath.documentId().\");\n\n            if (\"in\" === i || \"not-in\" === i) {\n              Wy(o, i);\n\n              for (var s = [], u = 0, a = o; u < a.length; u++) {\n                var c = a[u];\n                s.push(Jy(n, t, c));\n              }\n\n              h = {\n                arrayValue: {\n                  values: s\n                }\n              };\n            } else h = Jy(n, t, o);\n          } else \"in\" !== i && \"not-in\" !== i && \"array-contains-any\" !== i || Wy(o, i), h = qd(e, \"where\", o, \"in\" === i || \"not-in\" === i);\n\n          var h = wo.create(r, i, h);\n          return function (t, e) {\n            if (e.xt()) {\n              var n = ts(t);\n              if (null !== n && !n.isEqual(e.field)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '\" + n.toString() + \"' and '\" + e.field.toString() + \"'\");\n              n = Zo(t);\n              null !== n && Xy(0, e.field, n);\n            }\n\n            t = function (t, e) {\n              for (var n = 0, r = t.filters; n < r.length; n++) {\n                var i = r[n];\n                if (0 <= e.indexOf(i.op)) return i.op;\n              }\n\n              return null;\n            }(t, function () {\n              switch (e.op) {\n                case \"!=\":\n                  return [\"!=\", \"not-in\"];\n\n                case \"array-contains\":\n                  return [\"array-contains\", \"array-contains-any\", \"not-in\"];\n\n                case \"in\":\n                  return [\"array-contains-any\", \"in\", \"not-in\"];\n\n                case \"array-contains-any\":\n                  return [\"array-contains\", \"array-contains-any\", \"in\", \"not-in\"];\n\n                case \"not-in\":\n                  return [\"array-contains\", \"array-contains-any\", \"in\", \"not-in\", \"!=\"];\n\n                default:\n                  return [];\n              }\n            }());\n\n            if (null !== t) throw t === e.op ? new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You cannot use more than one '\" + e.op.toString() + \"' filter.\") : new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You cannot use '\" + e.op.toString() + \"' filters with '\" + t.toString() + \"' filters.\");\n          }(t, h), h;\n        }(t.C_, e, t.firestore.I_, this.Xf, this.Zf, this.td);\n\n        return new Qp(t.firestore, t.v_, (t = t.C_, e = t.filters.concat([e]), new Wo(t.path, t.collectionGroup, t.Nt.slice(), e, t.limit, t.limitType, t.startAt, t.endAt)));\n      }, zy),\n          My = (h(Gy, Cy = Ee), Gy.prototype.Yf = function (t) {\n        var e = function (t, e, n) {\n          if (null !== t.startAt) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You must not call startAt() or startAfter() before calling orderBy().\");\n          if (null !== t.endAt) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You must not call endAt() or endBefore() before calling orderBy().\");\n          var r = new zo(e, n);\n          return e = r, null !== Zo(n = t) || null !== (t = ts(n)) && Xy(0, t, e.field), r;\n        }(t.C_, this.Xf, this.ed);\n\n        return new Qp(t.firestore, t.v_, (t = t.C_, e = t.Nt.concat([e]), new Wo(t.path, t.collectionGroup, e, t.filters.slice(), t.limit, t.limitType, t.startAt, t.endAt)));\n      }, Gy),\n          Uy = (h(By, Ly = Ee), By.prototype.Yf = function (t) {\n        return new Qp(t.firestore, t.v_, is(t.C_, this.nd, this.sd));\n      }, By),\n          jy = (h(Hy, Py = Ee), Hy.prototype.Yf = function (t) {\n        var e = Ky(t, this.type, this.rd, this.od);\n        return new Qp(t.firestore, t.v_, (t = t.C_, e = e, new Wo(t.path, t.collectionGroup, t.Nt.slice(), t.filters.slice(), t.limit, t.limitType, e, t.endAt)));\n      }, Hy),\n          qy = (h(Fy, ky = Ee), Fy.prototype.Yf = function (t) {\n        var e = Ky(t, this.type, this.rd, this.od);\n        return new Qp(t.firestore, t.v_, (t = t.C_, e = e, new Wo(t.path, t.collectionGroup, t.Nt.slice(), t.filters.slice(), t.limit, t.limitType, t.startAt, e)));\n      }, Fy);\n\n      function Fy(t, e, n) {\n        var r = this;\n        return (r = ky.call(this) || this).type = t, r.rd = e, r.od = n, r;\n      }\n\n      function Hy(t, e, n) {\n        var r = this;\n        return (r = Py.call(this) || this).type = t, r.rd = e, r.od = n, r;\n      }\n\n      function By(t, e, n) {\n        var r = this;\n        return (r = Ly.call(this) || this).type = t, r.nd = e, r.sd = n, r;\n      }\n\n      function Gy(t, e) {\n        var n = this;\n        return (n = Cy.call(this) || this).Xf = t, n.ed = e, n.type = \"orderBy\", n;\n      }\n\n      function zy(t, e, n) {\n        var r = this;\n        return (r = Ry.call(this) || this).Xf = t, r.Zf = e, r.td = n, r.type = \"where\", r;\n      }\n\n      function Ky(t, c, e, n) {\n        if (e[0] instanceof Br && (e[0] = e[0]._), e[0] instanceof Ey) return function (t, e, n, r) {\n          if (!n) throw new Fr(qr.NOT_FOUND, \"Can't use a DocumentSnapshot that doesn't exist for \" + c + \"().\");\n\n          for (var i = [], o = 0, s = ns(t); o < s.length; o++) {\n            var u = s[o];\n            if (u.field.ht()) i.push(Ji(e, n.key));else {\n              var a = n.field(u.field);\n              if (Vi(a)) throw new Fr(qr.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field \"' + u.field + '\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');\n\n              if (null === a) {\n                u = u.field.ot();\n                throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You are trying to start or end a query using a document for which the field '\" + u + \"' (used as the orderBy) does not exist.\");\n              }\n\n              i.push(a);\n            }\n          }\n\n          return new jo(i, r);\n        }(t.C_, t.firestore.I_, e[0].Jf, n);\n        var r = bd(t.firestore);\n        return function (t, e, n, r, i, o) {\n          var s = t.Nt;\n          if (i.length > s.length) throw new Fr(qr.INVALID_ARGUMENT, \"Too many arguments provided to \" + r + \"(). The number of arguments must be less than or equal to the number of orderBy() clauses\");\n\n          for (var u = [], a = 0; a < i.length; a++) {\n            var c = i[a];\n\n            if (s[a].field.ht()) {\n              if (\"string\" != typeof c) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. Expected a string for document ID in \" + r + \"(), but got a \" + typeof c);\n              if (!es(t) && -1 !== c.indexOf(\"/\")) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \" + r + \"() must be a plain document ID, but '\" + c + \"' contains a slash.\");\n              var h = t.path.child(gi.ct(c));\n              if (!bi.Et(h)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \" + r + \"() must result in a valid document path, but '\" + h + \"' is not because it contains an odd number of segments.\");\n              h = new bi(h);\n              u.push(Ji(e, h));\n            } else {\n              c = qd(n, r, c);\n              u.push(c);\n            }\n          }\n\n          return new jo(u, o);\n        }(t.C_, t.firestore.I_, r, c, e, n);\n      }\n\n      function Jy(t, e, n) {\n        if (n instanceof Br && (n = n._), \"string\" == typeof n) {\n          if (\"\" === n) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");\n          if (!es(e) && -1 !== n.indexOf(\"/\")) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\" + n + \"' contains a '/' character.\");\n          e = e.path.child(gi.ct(n));\n          if (!bi.Et(e)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\" + e + \"' is not because it has an odd number of segments (\" + e.length + \").\");\n          return Ji(t, new bi(e));\n        }\n\n        if (n instanceof Yp) return Ji(t, n.S_);\n        throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \" + Bp(n) + \".\");\n      }\n\n      function Wy(t, e) {\n        if (!Array.isArray(t) || 0 === t.length) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid Query. A non-empty array is required for '\" + e.toString() + \"' filters.\");\n        if (10 < t.length) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid Query. '\" + e.toString() + \"' filters support a maximum of 10 elements in the value array.\");\n      }\n\n      function Xy(t, e, n) {\n        if (!n.isEqual(e)) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '\" + e.toString() + \"' and so you must also use '\" + e.toString() + \"' as your first argument to orderBy(), but your first orderBy() is on field '\" + n.toString() + \"' instead.\");\n      }\n\n      function Yy(i) {\n        return function () {\n          if (\"object\" == typeof i && null !== i) for (var t = i, e = 0, n = [\"next\", \"error\", \"complete\"]; e < n.length; e++) {\n            var r = n[e];\n            if (r in t && \"function\" == typeof t[r]) return 1;\n          }\n        }();\n      }\n\n      function Qy(t, e, n) {\n        return t ? n && (n.merge || n.mergeFields) ? t.toFirestore(e, n) : t.toFirestore(e) : e;\n      }\n\n      var $y,\n          Zy,\n          tv,\n          ev = (h(hv, tv = o), hv.prototype.Uf = function (t) {\n        return new Hr(t);\n      }, hv.prototype.Qf = function (t) {\n        t = this.Gf(t, this.firestore.I_);\n        return new Yp(this.firestore, null, t);\n      }, hv),\n          nv = (cv.prototype.isEqual = function (t) {\n        return this.hasPendingWrites === t.hasPendingWrites && this.fromCache === t.fromCache;\n      }, cv),\n          rv = (h(av, Zy = Ey), av.prototype.exists = function () {\n        return Zy.prototype.exists.call(this);\n      }, av.prototype.data = function (t) {\n        if (void 0 === t && (t = {}), this.Jf) {\n          if (this.v_) {\n            var e = new iv(this.zf, this.Hf, this.S_, this.Jf, this.metadata, null);\n            return this.v_.fromFirestore(e, t);\n          }\n\n          return this.Hf.$f(this.Jf.vt(), t.serverTimestamps);\n        }\n      }, av.prototype.get = function (t, e) {\n        if (void 0 === e && (e = {}), this.Jf) {\n          t = this.Jf.data().field(xy(\"DocumentSnapshot.get\", t));\n          if (null !== t) return this.Hf.$f(t, e.serverTimestamps);\n        }\n      }, av),\n          iv = (h(uv, $y = rv), uv.prototype.data = function (t) {\n        return void 0 === t && (t = {}), $y.prototype.data.call(this, t);\n      }, uv),\n          ov = (Object.defineProperty(sv.prototype, \"docs\", {\n        get: function get() {\n          var e = [];\n          return this.forEach(function (t) {\n            return e.push(t);\n          }), e;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(sv.prototype, \"size\", {\n        get: function get() {\n          return this.ud.docs.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(sv.prototype, \"empty\", {\n        get: function get() {\n          return 0 === this.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), sv.prototype.forEach = function (e, n) {\n        var r = this;\n        this.ud.docs.forEach(function (t) {\n          e.call(n, new iv(r.zf, r.Hf, t.key, t, new nv(r.ud.Ce.has(t.key), r.ud.fromCache), r.query.v_));\n        });\n      }, sv.prototype.docChanges = function (t) {\n        void 0 === t && (t = {});\n        t = !!t.includeMetadataChanges;\n        if (t && this.ud.Ne) throw new Fr(qr.INVALID_ARGUMENT, \"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");\n        return this.hd && this.ld === t || (this.hd = function (i, e) {\n          if (i.ud.De.nt()) {\n            var n = 0;\n            return i.ud.docChanges.map(function (t) {\n              var e = new iv(i.zf, i.Hf, t.doc.key, t.doc, new nv(i.ud.Ce.has(t.doc.key), i.ud.fromCache), i.query.v_);\n              return t.doc, {\n                type: \"added\",\n                doc: e,\n                oldIndex: -1,\n                newIndex: n++\n              };\n            });\n          }\n\n          var o = i.ud.De;\n          return i.ud.docChanges.filter(function (t) {\n            return e || 3 !== t.type;\n          }).map(function (t) {\n            var e = new iv(i.zf, i.Hf, t.doc.key, t.doc, new nv(i.ud.Ce.has(t.doc.key), i.ud.fromCache), i.query.v_),\n                n = -1,\n                r = -1;\n            return 0 !== t.type && (n = o.indexOf(t.doc.key), o = o.delete(t.doc.key)), 1 !== t.type && (r = (o = o.add(t.doc)).indexOf(t.doc.key)), {\n              type: function (t) {\n                switch (t) {\n                  case 0:\n                    return \"added\";\n\n                  case 2:\n                  case 3:\n                    return \"modified\";\n\n                  case 1:\n                    return \"removed\";\n\n                  default:\n                    return Or();\n                }\n              }(t.type),\n              doc: e,\n              oldIndex: n,\n              newIndex: r\n            };\n          });\n        }(this, t), this.ld = t), this.hd;\n      }, sv);\n\n      function sv(t, e, n, r) {\n        this.zf = t, this.Hf = e, this.ud = r, this.metadata = new nv(r.hasPendingWrites, r.fromCache), this.query = n;\n      }\n\n      function uv() {\n        return null !== $y && $y.apply(this, arguments) || this;\n      }\n\n      function av(t, e, n, r, i, o) {\n        var s = this;\n        return (s = Zy.call(this, t, e, n, r, o) || this).zf = t, s.ad = t, s.metadata = i, s;\n      }\n\n      function cv(t, e) {\n        this.hasPendingWrites = t, this.fromCache = e;\n      }\n\n      function hv(t) {\n        var e = this;\n        return (e = tv.call(this) || this).firestore = t, e;\n      }\n\n      function fv(t, e) {\n        return t instanceof rv && e instanceof rv ? t.zf === e.zf && t.S_.isEqual(e.S_) && (null === t.Jf ? null === e.Jf : t.Jf.isEqual(e.Jf)) && t.v_ === e.v_ : t instanceof ov && e instanceof ov && t.zf === e.zf && ud(t.query, e.query) && t.metadata.isEqual(e.metadata) && t.ud.isEqual(e.ud);\n      }\n\n      var lv,\n          pv = (h(dv, lv = o), dv.prototype.Uf = function (t) {\n        return new Hr(t);\n      }, dv.prototype.Qf = function (t) {\n        t = this.Gf(t, this.firestore.I_);\n        return new Yp(this.firestore, null, t);\n      }, dv);\n\n      function dv(t) {\n        var e = this;\n        return (e = lv.call(this) || this).firestore = t, e;\n      }\n\n      function yv(t, e, n) {\n        for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];\n\n        t = Gp(t, Yp);\n        var o = Gp(t.firestore, yy),\n            s = bd(o);\n        return e instanceof Br && (e = e._), gv(o, [(\"string\" == typeof e || e instanceof Lp ? jd(s, \"updateDoc\", t.S_, e, n, r) : Ud(s, \"updateDoc\", t.S_, e)).O_(t.S_, Cs.exists(!0))]);\n      }\n\n      function vv(e) {\n        for (var n = [], t = 1; t < arguments.length; t++) n[t - 1] = arguments[t];\n\n        e instanceof Br && (e = e._);\n        var r = {\n          includeMetadataChanges: !1\n        },\n            i = 0;\n        \"object\" != typeof n[i] || Yy(n[i]) || (r = n[i], i++);\n        var o,\n            s,\n            u,\n            a,\n            c,\n            h,\n            f = {\n          includeMetadataChanges: r.includeMetadataChanges\n        };\n        return Yy(n[i]) && (o = n[i], n[i] = null === (r = o.next) || void 0 === r ? void 0 : r.bind(o), n[i + 1] = null === (r = o.error) || void 0 === r ? void 0 : r.bind(o), n[i + 2] = null === (r = o.complete) || void 0 === r ? void 0 : r.bind(o)), e instanceof Yp ? (u = Gp(e.firestore, yy), a = Yo(e.S_.path), h = {\n          next: function next(t) {\n            n[i] && n[i](mv(u, e, t));\n          },\n          error: n[i + 1],\n          complete: n[i + 2]\n        }) : (s = Gp(e, Qp), u = Gp(s.firestore, yy), a = s.C_, c = new pv(u), h = {\n          next: function next(t) {\n            n[i] && n[i](new ov(u, c, s, t));\n          },\n          error: n[i + 1],\n          complete: n[i + 2]\n        }, Dy(e.C_)), function (n, t, e) {\n          var r = this,\n              i = new kp(h),\n              o = new Vl(t, i, e);\n          return n.fs.ys(function () {\n            return y(r, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = Ll, [4, hy(n)];\n\n                  case 1:\n                    return [2, e.apply(void 0, [t.sent(), o])];\n                }\n              });\n            });\n          }), function () {\n            i.r_(), n.fs.ys(function () {\n              return y(r, void 0, void 0, function () {\n                var e;\n                return v(this, function (t) {\n                  switch (t.label) {\n                    case 0:\n                      return e = Cl, [4, hy(n)];\n\n                    case 1:\n                      return [2, e.apply(void 0, [t.sent(), o])];\n                  }\n                });\n              });\n            });\n          };\n        }(my(u), a, f);\n      }\n\n      function gv(t, e) {\n        return function (n, r) {\n          var t = this,\n              i = new va();\n          return n.fs.ys(function () {\n            return y(t, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = tp, [4, cy(n)];\n\n                  case 1:\n                    return [2, e.apply(void 0, [t.sent(), r, i])];\n                }\n              });\n            });\n          }), i.promise;\n        }(my(t), e);\n      }\n\n      function mv(t, e, n) {\n        var r = n.docs.get(e.S_),\n            i = new pv(t);\n        return new rv(t, i, e.S_, r, new nv(n.hasPendingWrites, n.fromCache), e.v_);\n      }\n\n      var wv = (bv.prototype.set = function (t, e, n) {\n        this.Ed();\n        t = Iv(t, this.zf), e = Qy(t.v_, e, n), n = Id(this.wd, \"WriteBatch.set\", t.S_, e, null !== t.v_, n);\n        return this.fd.push(n.O_(t.S_, Cs.jt())), this;\n      }, bv.prototype.update = function (t, e, n) {\n        for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];\n\n        this.Ed();\n        t = Iv(t, this.zf);\n        return e instanceof Br && (e = e._), e = \"string\" == typeof e || e instanceof Lp ? jd(this.wd, \"WriteBatch.update\", t.S_, e, n, r) : Ud(this.wd, \"WriteBatch.update\", t.S_, e), this.fd.push(e.O_(t.S_, Cs.exists(!0))), this;\n      }, bv.prototype.delete = function (t) {\n        this.Ed();\n        t = Iv(t, this.zf);\n        return this.fd = this.fd.concat(new tu(t.S_, Cs.jt())), this;\n      }, bv.prototype.commit = function () {\n        return this.Ed(), this.dd = !0, 0 < this.fd.length ? this._d(this.fd) : Promise.resolve();\n      }, bv.prototype.Ed = function () {\n        if (this.dd) throw new Fr(qr.FAILED_PRECONDITION, \"A write batch can no longer be used after commit() has been called.\");\n      }, bv);\n\n      function bv(t, e) {\n        this.zf = t, this._d = e, this.fd = [], this.dd = !1, this.wd = bd(t);\n      }\n\n      function Iv(t, e) {\n        if (t instanceof Br && (t = t._), t.firestore !== e) throw new Fr(qr.INVALID_ARGUMENT, \"Provided document reference is from a different Firestore instance.\");\n        return t;\n      }\n\n      var _v,\n          Ev,\n          Tv,\n          Nv = (Lv.prototype.get = function (t) {\n        var e = this,\n            n = Iv(t, this.zf),\n            r = new ev(this.zf);\n        return this.Td.ef([n.S_]).then(function (t) {\n          if (!t || 1 !== t.length) return Or();\n          t = t[0];\n          if (t instanceof uo) return new Ey(e.zf, r, n.S_, null, n.v_);\n          if (t instanceof so) return new Ey(e.zf, r, t.key, t, n.v_);\n          throw Or();\n        });\n      }, Lv.prototype.set = function (t, e, n) {\n        t = Iv(t, this.zf), e = Qy(t.v_, e, n), n = Id(this.wd, \"Transaction.set\", t.S_, e, null !== t.v_, n);\n        return this.Td.set(t.S_, n), this;\n      }, Lv.prototype.update = function (t, e, n) {\n        for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];\n\n        t = Iv(t, this.zf);\n        return e instanceof Br && (e = e._), e = \"string\" == typeof e || e instanceof Lp ? jd(this.wd, \"Transaction.update\", t.S_, e, n, r) : Ud(this.wd, \"Transaction.update\", t.S_, e), this.Td.update(t.S_, e), this;\n      }, Lv.prototype.delete = function (t) {\n        t = Iv(t, this.zf);\n        return this.Td.delete(t.S_), this;\n      }, h(Pv, Tv = Lv), Pv.prototype.get = function (t) {\n        var e = this,\n            n = Iv(t, this.zf),\n            r = new pv(this.zf);\n        return Tv.prototype.get.call(this, t).then(function (t) {\n          return new rv(e.zf, r, n.S_, t.Jf, new nv(!1, !1), n.v_);\n        });\n      }, Pv),\n          Sv = (kv.prototype.enableIndexedDbPersistence = function (t, e) {\n        return function (t, e) {\n          Iy(t = Gp(t, yy));\n          var n = my(t),\n              r = t.p_(),\n              t = new Np();\n          return by(n, t, new Ep(t, r.cacheSizeBytes, null == e ? void 0 : e.forceOwnership));\n        }(t._, {\n          forceOwnership: e\n        });\n      }, kv.prototype.enableMultiTabIndexedDbPersistence = function (t) {\n        return function (t) {\n          Iy(t = Gp(t, yy));\n          var e = my(t),\n              n = t.p_(),\n              t = new Np();\n          return by(e, t, new Tp(t, n.cacheSizeBytes));\n        }(t._);\n      }, kv.prototype.clearIndexedDbPersistence = function (t) {\n        return function (n) {\n          var t = this;\n          if (n.R_ && !n.P_) throw new Fr(qr.FAILED_PRECONDITION, \"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.\");\n          var r = new va();\n          return n.Mf.Tf(function () {\n            return y(t, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return t.trys.push([0, 2,, 3]), [4, function (n) {\n                      return y(this, void 0, void 0, function () {\n                        var e;\n                        return v(this, function (t) {\n                          switch (t.label) {\n                            case 0:\n                              return wa.jn() ? (e = n + \"main\", [4, wa.delete(e)]) : [2, Promise.resolve()];\n\n                            case 1:\n                              return t.sent(), [2];\n                          }\n                        });\n                      });\n                    }(Dh(n.I_, n.w_))];\n\n                  case 1:\n                    return t.sent(), r.resolve(), [3, 3];\n\n                  case 2:\n                    return e = t.sent(), r.reject(e), [3, 3];\n\n                  case 3:\n                    return [2];\n                }\n              });\n            });\n          }), r.promise;\n        }(t._);\n      }, kv),\n          Av = (h(Ov, Ev = Br), Object.defineProperty(Ov.prototype, \"I_\", {\n        get: function get() {\n          return this._.I_;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Ov.prototype.settings = function (t) {\n        t.merge && delete (t = Object.assign(Object.assign({}, this._.V_()), t)).merge, this._.g_(t);\n      }, Ov.prototype.useEmulator = function (t, e) {\n        var n, r;\n        n = this._, r = t, t = e, \"firestore.googleapis.com\" !== (e = (n = Gp(n, Xp)).V_()).host && e.host !== r && xr(\"Host has been set in both settings() and useEmulator(), emulator host will be used\"), n.g_(Object.assign(Object.assign({}, e), {\n          host: r + \":\" + t,\n          ssl: !1\n        }));\n      }, Ov.prototype.enableNetwork = function () {\n        return function (r) {\n          var t = this;\n          return r.fs.enqueue(function () {\n            return y(t, void 0, void 0, function () {\n              var e, n;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return [4, sy(r)];\n\n                  case 1:\n                    return e = t.sent(), [4, ay(r)];\n\n                  case 2:\n                    return n = t.sent(), [2, (e.Vo(!0), (t = n).Oh.delete(0), ll(t))];\n                }\n              });\n            });\n          });\n        }(my(Gp(this._, yy)));\n      }, Ov.prototype.disableNetwork = function () {\n        return function (r) {\n          var t = this;\n          return r.fs.enqueue(function () {\n            return y(t, void 0, void 0, function () {\n              var e, n;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return [4, sy(r)];\n\n                  case 1:\n                    return e = t.sent(), [4, ay(r)];\n\n                  case 2:\n                    return n = t.sent(), [2, (e.Vo(!1), function (n) {\n                      return y(this, void 0, void 0, function () {\n                        var e;\n                        return v(this, function (t) {\n                          switch (t.label) {\n                            case 0:\n                              return (e = n).Oh.add(0), [4, pl(e)];\n\n                            case 1:\n                              return t.sent(), e.Mh.set(\"Offline\"), [2];\n                          }\n                        });\n                      });\n                    }(n))];\n                }\n              });\n            });\n          });\n        }(my(Gp(this._, yy)));\n      }, Ov.prototype.enablePersistence = function (t) {\n        var e = !1,\n            n = !1;\n        return t && qp(\"synchronizeTabs\", e = !!t.synchronizeTabs, \"experimentalForceOwningTab\", n = !!t.experimentalForceOwningTab), e ? this.Id.enableMultiTabIndexedDbPersistence(this) : this.Id.enableIndexedDbPersistence(this, n);\n      }, Ov.prototype.clearPersistence = function () {\n        return this.Id.clearIndexedDbPersistence(this);\n      }, Ov.prototype.terminate = function () {\n        return this.app._removeServiceInstance(\"firestore\"), this.app._removeServiceInstance(\"firestore-exp\"), this._._delete();\n      }, Ov.prototype.waitForPendingWrites = function () {\n        return function (n) {\n          var t = this,\n              r = new va();\n          return n.fs.ys(function () {\n            return y(t, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = ip, [4, cy(n)];\n\n                  case 1:\n                    return [2, e.apply(void 0, [t.sent(), r])];\n                }\n              });\n            });\n          }), r.promise;\n        }(my(Gp(this._, yy)));\n      }, Ov.prototype.onSnapshotsInSync = function (t) {\n        return e = this._, t = t, function (n, t) {\n          var e = this,\n              r = new kp(t);\n          return n.fs.ys(function () {\n            return y(e, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = function e(t, _e3) {\n                      t.Wh.add(_e3), _e3.next();\n                    }, [4, hy(n)];\n\n                  case 1:\n                    return [2, e.apply(void 0, [t.sent(), r])];\n                }\n              });\n            });\n          }), function () {\n            r.r_(), n.fs.ys(function () {\n              return y(e, void 0, void 0, function () {\n                var e;\n                return v(this, function (t) {\n                  switch (t.label) {\n                    case 0:\n                      return e = function e(t, _e4) {\n                        t.Wh.delete(_e4);\n                      }, [4, hy(n)];\n\n                    case 1:\n                      return [2, e.apply(void 0, [t.sent(), r])];\n                  }\n                });\n              });\n            });\n          };\n        }(my(Gp(e, yy)), Yy(t) ? t : {\n          next: t\n        });\n        var e;\n      }, Object.defineProperty(Ov.prototype, \"app\", {\n        get: function get() {\n          if (!this.md) throw new Fr(qr.FAILED_PRECONDITION, \"Firestore was not initialized using the Firebase SDK. 'app' is not available\");\n          return this.md;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Ov.prototype.collection = function (t) {\n        try {\n          return new rg(this, id(this._, t));\n        } catch (t) {\n          throw Bv(t, \"collection()\", \"Firestore.collection()\");\n        }\n      }, Ov.prototype.doc = function (t) {\n        try {\n          return new jv(this, od(this._, t));\n        } catch (t) {\n          throw Bv(t, \"doc()\", \"Firestore.doc()\");\n        }\n      }, Ov.prototype.collectionGroup = function (t) {\n        try {\n          return new tg(this, function (t, e) {\n            if (t = Gp(t, Xp), Up(\"collectionGroup\", \"collection id\", e), 0 <= e.indexOf(\"/\")) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid collection ID '\" + e + \"' passed to function collectionGroup(). Collection IDs must not contain '/'.\");\n            return new Qp(t, null, (e = e, new Wo(gi.at(), e)));\n          }(this._, t));\n        } catch (t) {\n          throw Bv(t, \"collectionGroup()\", \"Firestore.collectionGroup()\");\n        }\n      }, Ov.prototype.runTransaction = function (e) {\n        var n,\n            r = this;\n        return function (n, r) {\n          var t = this,\n              i = new va();\n          return n.fs.ys(function () {\n            return y(t, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return [4, oy(n).then(function (t) {\n                      return t.Dh;\n                    })];\n\n                  case 1:\n                    return e = t.sent(), new Qd(n.fs, e, r, i).run(), [2];\n                }\n              });\n            });\n          }), i.promise;\n        }(my(n = this._), function (t) {\n          return t = new Nv(n, t), e(new Mv(r, t));\n        });\n      }, Ov.prototype.batch = function () {\n        var e = this;\n        return my(this._), new Uv(new wv(this._, function (t) {\n          return gv(e._, t);\n        }));\n      }, Ov.prototype.loadBundle = function (t) {\n        throw new Fr(qr.FAILED_PRECONDITION, '\"loadBundle()\" does not exist, have you imported \"firebase/firestore/bundle\"?');\n      }, Ov.prototype.namedQuery = function (t) {\n        throw new Fr(qr.FAILED_PRECONDITION, '\"namedQuery()\" does not exist, have you imported \"firebase/firestore/bundle\"?');\n      }, Ov),\n          xv = (h(Dv, _v = o), Dv.prototype.Uf = function (t) {\n        return new Xr(new Hr(t));\n      }, Dv.prototype.Qf = function (t) {\n        t = this.Gf(t, this.firestore.I_);\n        return jv.Ad(t, this.firestore, null);\n      }, Dv);\n\n      function Dv(t) {\n        var e = this;\n        return (e = _v.call(this) || this).firestore = t, e;\n      }\n\n      function Ov(t, e, n) {\n        var r = this;\n        return (r = Ev.call(this, e) || this).Id = n, r.INTERNAL = {\n          delete: function _delete() {\n            return r.terminate();\n          }\n        }, t instanceof Qr || (r.md = t), r;\n      }\n\n      function kv() {}\n\n      function Pv(t, e) {\n        var n = this;\n        return (n = Tv.call(this, t, e) || this).zf = t, n;\n      }\n\n      function Lv(t, e) {\n        this.zf = t, this.Td = e, this.wd = bd(t);\n      }\n\n      var Cv,\n          Rv,\n          Vv,\n          Mv = (h(Hv, Vv = Br), Hv.prototype.get = function (t) {\n        var e = this,\n            n = hg(t);\n        return this._.get(n).then(function (t) {\n          return new $v(e.zf, new rv(e.zf._, e.Hf, t.S_, t.Jf, t.metadata, n.v_));\n        });\n      }, Hv.prototype.set = function (t, e, n) {\n        t = hg(t);\n        return n ? (jp(\"Transaction.set\", n), this._.set(t, e, n)) : this._.set(t, e), this;\n      }, Hv.prototype.update = function (t, e, n) {\n        for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];\n\n        var o = hg(t);\n        return 2 === arguments.length ? this._.update(o, e) : (t = this._).update.apply(t, f([o, e, n], r)), this;\n      }, Hv.prototype.delete = function (t) {\n        t = hg(t);\n        return this._.delete(t), this;\n      }, Hv),\n          Uv = (h(Fv, Rv = Br), Fv.prototype.set = function (t, e, n) {\n        t = hg(t);\n        return n ? (jp(\"WriteBatch.set\", n), this._.set(t, e, n)) : this._.set(t, e), this;\n      }, Fv.prototype.update = function (t, e, n) {\n        for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];\n\n        var o = hg(t);\n        return 2 === arguments.length ? this._.update(o, e) : (t = this._).update.apply(t, f([o, e, n], r)), this;\n      }, Fv.prototype.delete = function (t) {\n        t = hg(t);\n        return this._.delete(t), this;\n      }, Fv.prototype.commit = function () {\n        return this._.commit();\n      }, Fv),\n          jv = (h(qv, Cv = Br), qv.Rd = function (t, e, n) {\n        if (t.length % 2 != 0) throw new Fr(qr.INVALID_ARGUMENT, \"Invalid document reference. Document references must have an even number of segments, but \" + t.ot() + \" has \" + t.length);\n        return new qv(e, new Yp(e._, n, new bi(t)));\n      }, qv.Ad = function (t, e, n) {\n        return new qv(e, new Yp(e._, n, t));\n      }, Object.defineProperty(qv.prototype, \"id\", {\n        get: function get() {\n          return this._.id;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(qv.prototype, \"parent\", {\n        get: function get() {\n          return new rg(this.firestore, this._.parent);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(qv.prototype, \"path\", {\n        get: function get() {\n          return this._.path;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), qv.prototype.collection = function (t) {\n        try {\n          return new rg(this.firestore, id(this._, t));\n        } catch (t) {\n          throw Bv(t, \"collection()\", \"DocumentReference.collection()\");\n        }\n      }, qv.prototype.isEqual = function (t) {\n        return t instanceof Br && (t = t._), t instanceof Yp && sd(this._, t);\n      }, qv.prototype.set = function (t, e) {\n        e = jp(\"DocumentReference.set\", e);\n\n        try {\n          return function (t, e, n) {\n            t = Gp(t, Yp);\n            var r = Gp(t.firestore, yy),\n                e = Qy(t.v_, e, n);\n            return gv(r, [Id(bd(r), \"setDoc\", t.S_, e, null !== t.v_, n).O_(t.S_, Cs.jt())]);\n          }(this._, t, e);\n        } catch (t) {\n          throw Bv(t, \"setDoc()\", \"DocumentReference.set()\");\n        }\n      }, qv.prototype.update = function (t, e) {\n        for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];\n\n        try {\n          return 1 === arguments.length ? yv(this._, t) : yv.apply(void 0, f([this._, t, e], n));\n        } catch (t) {\n          throw Bv(t, \"updateDoc()\", \"DocumentReference.update()\");\n        }\n      }, qv.prototype.delete = function () {\n        return gv(Gp((t = this._).firestore, yy), [new tu(t.S_, Cs.jt())]);\n        var t;\n      }, qv.prototype.onSnapshot = function () {\n        for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n        var r = Gv(t),\n            i = zv(t, function (t) {\n          return new $v(e.firestore, new rv(e.firestore._, e.Hf, t.S_, t.Jf, t.metadata, e._.v_));\n        });\n        return vv(this._, r, i);\n      }, qv.prototype.get = function (t) {\n        var e = this;\n        return (\"cache\" === (null == t ? void 0 : t.source) ? function (e) {\n          e = Gp(e, Yp);\n          var n = Gp(e.firestore, yy),\n              t = my(n),\n              r = new pv(n);\n          return function (n, r) {\n            var t = this,\n                i = new va();\n            return n.fs.ys(function () {\n              return y(t, void 0, void 0, function () {\n                var e;\n                return v(this, function (t) {\n                  switch (t.label) {\n                    case 0:\n                      return e = function e(o, s, u) {\n                        return y(this, void 0, void 0, function () {\n                          var r, i;\n                          return v(this, function (t) {\n                            switch (t.label) {\n                              case 0:\n                                return t.trys.push([0, 2,, 3]), [4, (e = s, (n = o).persistence.runTransaction(\"read document\", \"readonly\", function (t) {\n                                  return n.Ic.Jo(t, e);\n                                }))];\n\n                              case 1:\n                                return (i = t.sent()) instanceof so ? u.resolve(i) : i instanceof uo ? u.resolve(null) : u.reject(new Fr(qr.UNAVAILABLE, \"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")), [3, 3];\n\n                              case 2:\n                                return r = t.sent(), i = Ra(r, \"Failed to get document '\" + s + \" from cache\"), u.reject(i), [3, 3];\n\n                              case 3:\n                                return [2];\n                            }\n\n                            var e, n;\n                          });\n                        });\n                      }, [4, uy(n)];\n\n                    case 1:\n                      return [2, e.apply(void 0, [t.sent(), r, i])];\n                  }\n                });\n              });\n            }), i.promise;\n          }(t, e.S_).then(function (t) {\n            return new rv(n, r, e.S_, t, new nv(t instanceof so && t.bt, !0), e.v_);\n          });\n        } : \"server\" === (null == t ? void 0 : t.source) ? function (e) {\n          e = Gp(e, Yp);\n          var n = Gp(e.firestore, yy);\n          return fy(my(n), e.S_, {\n            source: \"server\"\n          }).then(function (t) {\n            return mv(n, e, t);\n          });\n        } : function (e) {\n          e = Gp(e, Yp);\n          var n = Gp(e.firestore, yy);\n          return fy(my(n), e.S_).then(function (t) {\n            return mv(n, e, t);\n          });\n        })(this._).then(function (t) {\n          return new $v(e.firestore, new rv(e.firestore._, e.Hf, t.S_, t.Jf, t.metadata, e._.v_));\n        });\n      }, qv.prototype.withConverter = function (t) {\n        return new qv(this.firestore, this._.withConverter(t));\n      }, qv);\n\n      function qv(t, e) {\n        var n = this;\n        return (n = Cv.call(this, e) || this).firestore = t, n.Hf = new xv(t), n;\n      }\n\n      function Fv() {\n        return null !== Rv && Rv.apply(this, arguments) || this;\n      }\n\n      function Hv(t, e) {\n        var n = this;\n        return (n = Vv.call(this, e) || this).zf = t, n.Hf = new xv(t), n;\n      }\n\n      function Bv(t, e, n) {\n        return t.message = t.message.replace(e, n), t;\n      }\n\n      function Gv(t) {\n        for (var e = 0, n = t; e < n.length; e++) {\n          var r = n[e];\n          if (\"object\" == typeof r && !Yy(r)) return r;\n        }\n\n        return {};\n      }\n\n      function zv(t, e) {\n        var n;\n        return {\n          next: function next(t) {\n            n.next && n.next(e(t));\n          },\n          error: null === (t = (n = Yy(t[0]) ? t[0] : Yy(t[1]) ? t[1] : \"function\" == typeof t[0] ? {\n            next: t[0],\n            error: t[1],\n            complete: t[2]\n          } : {\n            next: t[1],\n            error: t[2],\n            complete: t[3]\n          }).error) || void 0 === t ? void 0 : t.bind(n),\n          complete: null === (t = n.complete) || void 0 === t ? void 0 : t.bind(n)\n        };\n      }\n\n      var Kv,\n          Jv,\n          Wv,\n          Xv,\n          Yv,\n          Qv,\n          $v = (h(cg, Qv = Br), Object.defineProperty(cg.prototype, \"ref\", {\n        get: function get() {\n          return new jv(this.zf, this._.ref);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(cg.prototype, \"id\", {\n        get: function get() {\n          return this._.id;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(cg.prototype, \"metadata\", {\n        get: function get() {\n          return this._.metadata;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(cg.prototype, \"exists\", {\n        get: function get() {\n          return this._.exists();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), cg.prototype.data = function (t) {\n        return this._.data(t);\n      }, cg.prototype.get = function (t, e) {\n        return this._.get(t, e);\n      }, cg.prototype.isEqual = function (t) {\n        return fv(this._, t._);\n      }, cg),\n          Zv = (h(ag, Yv = $v), ag.prototype.data = function (t) {\n        return this._.data(t);\n      }, ag),\n          tg = (h(ug, Xv = Br), ug.prototype.where = function (t, e, n) {\n        try {\n          return new ug(this.firestore, Oy(this._, (r = n, i = e, o = xy(\"where\", t), new Vy(o, i, r))));\n        } catch (t) {\n          throw Bv(t, /(orderBy|where)\\(\\)/, \"Query.$1()\");\n        }\n\n        var r, i, o;\n      }, ug.prototype.orderBy = function (n, t) {\n        try {\n          return new ug(this.firestore, Oy(this._, function (t) {\n            void 0 === t && (t = \"asc\");\n            var e = t,\n                t = xy(\"orderBy\", n);\n            return new My(t, e);\n          }(t)));\n        } catch (n) {\n          throw Bv(n, /(orderBy|where)\\(\\)/, \"Query.$1()\");\n        }\n      }, ug.prototype.limit = function (t) {\n        try {\n          return new ug(this.firestore, Oy(this._, (zp(\"limit\", e = t), new Uy(\"limit\", e, \"F\"))));\n        } catch (t) {\n          throw Bv(t, \"limit()\", \"Query.limit()\");\n        }\n\n        var e;\n      }, ug.prototype.limitToLast = function (t) {\n        try {\n          return new ug(this.firestore, Oy(this._, (zp(\"limitToLast\", e = t), new Uy(\"limitToLast\", e, \"L\"))));\n        } catch (t) {\n          throw Bv(t, \"limitToLast()\", \"Query.limitToLast()\");\n        }\n\n        var e;\n      }, ug.prototype.startAt = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        try {\n          return new ug(this.firestore, Oy(this._, function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n            return new jy(\"startAt\", t, !0);\n          }.apply(void 0, t)));\n        } catch (t) {\n          throw Bv(t, \"startAt()\", \"Query.startAt()\");\n        }\n      }, ug.prototype.startAfter = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        try {\n          return new ug(this.firestore, Oy(this._, function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n            return new jy(\"startAfter\", t, !1);\n          }.apply(void 0, t)));\n        } catch (t) {\n          throw Bv(t, \"startAfter()\", \"Query.startAfter()\");\n        }\n      }, ug.prototype.endBefore = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        try {\n          return new ug(this.firestore, Oy(this._, function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n            return new qy(\"endBefore\", t, !0);\n          }.apply(void 0, t)));\n        } catch (t) {\n          throw Bv(t, \"endBefore()\", \"Query.endBefore()\");\n        }\n      }, ug.prototype.endAt = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        try {\n          return new ug(this.firestore, Oy(this._, function () {\n            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n            return new qy(\"endAt\", t, !1);\n          }.apply(void 0, t)));\n        } catch (t) {\n          throw Bv(t, \"endAt()\", \"Query.endAt()\");\n        }\n      }, ug.prototype.isEqual = function (t) {\n        return ud(this._, t._);\n      }, ug.prototype.get = function (t) {\n        var e = this;\n        return (\"cache\" === (null == t ? void 0 : t.source) ? function (e) {\n          e = Gp(e, Qp);\n          var n = Gp(e.firestore, yy),\n              t = my(n),\n              r = new pv(n);\n          return function (n, r) {\n            var t = this,\n                i = new va();\n            return n.fs.ys(function () {\n              return y(t, void 0, void 0, function () {\n                var e;\n                return v(this, function (t) {\n                  switch (t.label) {\n                    case 0:\n                      return e = function e(i, o, s) {\n                        return y(this, void 0, void 0, function () {\n                          var e, n, r;\n                          return v(this, function (t) {\n                            switch (t.label) {\n                              case 0:\n                                return t.trys.push([0, 2,, 3]), [4, Jh(i, o, !0)];\n\n                              case 1:\n                                return r = t.sent(), e = new Jl(o, r.Pc), n = e.dl(r.documents), n = e.Ei(n, !1), s.resolve(n.snapshot), [3, 3];\n\n                              case 2:\n                                return n = t.sent(), r = Ra(n, \"Failed to execute query '\" + o + \" against cache\"), s.reject(r), [3, 3];\n\n                              case 3:\n                                return [2];\n                            }\n                          });\n                        });\n                      }, [4, uy(n)];\n\n                    case 1:\n                      return [2, e.apply(void 0, [t.sent(), r, i])];\n                  }\n                });\n              });\n            }), i.promise;\n          }(t, e.C_).then(function (t) {\n            return new ov(n, r, e, t);\n          });\n        } : \"server\" === (null == t ? void 0 : t.source) ? function (e) {\n          e = Gp(e, Qp);\n          var n = Gp(e.firestore, yy),\n              t = my(n),\n              r = new pv(n);\n          return ly(t, e.C_, {\n            source: \"server\"\n          }).then(function (t) {\n            return new ov(n, r, e, t);\n          });\n        } : function (e) {\n          e = Gp(e, Qp);\n          var n = Gp(e.firestore, yy),\n              t = my(n),\n              r = new pv(n);\n          return Dy(e.C_), ly(t, e.C_).then(function (t) {\n            return new ov(n, r, e, t);\n          });\n        })(this._).then(function (t) {\n          return new ng(e.firestore, new ov(e.firestore._, e.Hf, e._, t.ud));\n        });\n      }, ug.prototype.onSnapshot = function () {\n        for (var e = this, t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];\n\n        var r = Gv(t),\n            i = zv(t, function (t) {\n          return new ng(e.firestore, new ov(e.firestore._, e.Hf, e._, t.ud));\n        });\n        return vv(this._, r, i);\n      }, ug.prototype.withConverter = function (t) {\n        return new ug(this.firestore, this._.withConverter(t));\n      }, ug),\n          eg = (h(sg, Wv = Br), Object.defineProperty(sg.prototype, \"type\", {\n        get: function get() {\n          return this._.type;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(sg.prototype, \"doc\", {\n        get: function get() {\n          return new Zv(this.zf, this._.doc);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(sg.prototype, \"oldIndex\", {\n        get: function get() {\n          return this._.oldIndex;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(sg.prototype, \"newIndex\", {\n        get: function get() {\n          return this._.newIndex;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), sg),\n          ng = (h(og, Jv = Br), Object.defineProperty(og.prototype, \"query\", {\n        get: function get() {\n          return new tg(this.zf, this._.query);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(og.prototype, \"metadata\", {\n        get: function get() {\n          return this._.metadata;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(og.prototype, \"size\", {\n        get: function get() {\n          return this._.size;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(og.prototype, \"empty\", {\n        get: function get() {\n          return this._.empty;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(og.prototype, \"docs\", {\n        get: function get() {\n          var e = this;\n          return this._.docs.map(function (t) {\n            return new Zv(e.zf, t);\n          });\n        },\n        enumerable: !1,\n        configurable: !0\n      }), og.prototype.docChanges = function (t) {\n        var e = this;\n        return this._.docChanges(t).map(function (t) {\n          return new eg(e.zf, t);\n        });\n      }, og.prototype.forEach = function (e, n) {\n        var r = this;\n\n        this._.forEach(function (t) {\n          e.call(n, new Zv(r.zf, t));\n        });\n      }, og.prototype.isEqual = function (t) {\n        return fv(this._, t._);\n      }, og),\n          rg = (h(ig, Kv = tg), Object.defineProperty(ig.prototype, \"id\", {\n        get: function get() {\n          return this._.id;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(ig.prototype, \"path\", {\n        get: function get() {\n          return this._.path;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(ig.prototype, \"parent\", {\n        get: function get() {\n          var t = this._.parent;\n          return t ? new jv(this.firestore, t) : null;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), ig.prototype.doc = function (t) {\n        try {\n          return new jv(this.firestore, void 0 === t ? od(this._) : od(this._, t));\n        } catch (t) {\n          throw Bv(t, \"doc()\", \"CollectionReference.doc()\");\n        }\n      }, ig.prototype.add = function (t) {\n        var e,\n            n,\n            r,\n            i = this;\n        return e = this._, n = t, t = Gp(e.firestore, yy), r = od(e), n = Qy(e.v_, n), gv(t, [Id(bd(e.firestore), \"addDoc\", r.S_, n, null !== e.v_, {}).O_(r.S_, Cs.exists(!1))]).then(function () {\n          return r;\n        }).then(function (t) {\n          return new jv(i.firestore, t);\n        });\n      }, ig.prototype.isEqual = function (t) {\n        return sd(this._, t._);\n      }, ig.prototype.withConverter = function (t) {\n        return new ig(this.firestore, this._.withConverter(t));\n      }, ig);\n\n      function ig(t, e) {\n        var n = this;\n        return (n = Kv.call(this, t, e) || this).firestore = t, n._ = e, n;\n      }\n\n      function og(t, e) {\n        var n = this;\n        return (n = Jv.call(this, e) || this).zf = t, n;\n      }\n\n      function sg(t, e) {\n        var n = this;\n        return (n = Wv.call(this, e) || this).zf = t, n;\n      }\n\n      function ug(t, e) {\n        var n = this;\n        return (n = Xv.call(this, e) || this).firestore = t, n.Hf = new xv(t), n;\n      }\n\n      function ag() {\n        return null !== Yv && Yv.apply(this, arguments) || this;\n      }\n\n      function cg(t, e) {\n        var n = this;\n        return (n = Qv.call(this, e) || this).zf = t, n;\n      }\n\n      function hg(t) {\n        return t instanceof Br && (t = t._), Gp(t, Yp);\n      }\n\n      var fg,\n          lg,\n          Ee = (h(vg, lg = Br), vg.documentId = function () {\n        return new vg(wi.lt().ot());\n      }, vg.prototype.isEqual = function (t) {\n        return t instanceof Br && (t = t._), t instanceof Lp && this._.d_.isEqual(t.d_);\n      }, vg),\n          o = (h(yg, fg = Br), yg.serverTimestamp = function () {\n        var t = new Od(\"serverTimestamp\");\n        return t._methodName = \"FieldValue.serverTimestamp\", new yg(t);\n      }, yg.delete = function () {\n        var t = new Ed(\"deleteField\");\n        return t._methodName = \"FieldValue.delete\", new yg(t);\n      }, yg.arrayUnion = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        var n = function () {\n          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n          return new kd(\"arrayUnion\", t);\n        }.apply(void 0, t);\n\n        return n._methodName = \"FieldValue.arrayUnion\", new yg(n);\n      }, yg.arrayRemove = function () {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        var n = function () {\n          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n          return new Pd(\"arrayRemove\", t);\n        }.apply(void 0, t);\n\n        return n._methodName = \"FieldValue.arrayRemove\", new yg(n);\n      }, yg.increment = function (t) {\n        t = new Ld(\"increment\", t);\n        return t._methodName = \"FieldValue.increment\", new yg(t);\n      }, yg.prototype.isEqual = function (t) {\n        return this._.isEqual(t._);\n      }, yg),\n          pg = (dg.prototype.onProgress = function (t, e, n) {\n        this.Pd = {\n          next: t,\n          error: e,\n          complete: n\n        };\n      }, dg.prototype.catch = function (t) {\n        return this.yd.promise.catch(t);\n      }, dg.prototype.then = function (t, e) {\n        return this.yd.promise.then(t, e);\n      }, dg.prototype.Ul = function (t) {\n        this.Ql(t), this.Pd.complete && this.Pd.complete(), this.yd.resolve(t);\n      }, dg.prototype.jl = function (t) {\n        this.gd.taskState = \"Error\", this.Pd.next && this.Pd.next(this.gd), this.Pd.error && this.Pd.error(t), this.yd.reject(t);\n      }, dg.prototype.Ql = function (t) {\n        this.gd = t, this.Pd.next && this.Pd.next(t);\n      }, dg);\n\n      function dg() {\n        this.Pd = {}, this.yd = new va(), this.gd = {\n          taskState: \"Running\",\n          totalBytes: 0,\n          totalDocuments: 0,\n          bytesLoaded: 0,\n          documentsLoaded: 0\n        };\n      }\n\n      function yg() {\n        return null !== fg && fg.apply(this, arguments) || this;\n      }\n\n      function vg() {\n        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n        return lg.call(this, new (Lp.bind.apply(Lp, f([void 0], t)))()) || this;\n      }\n\n      function gg(t, s) {\n        var e = new pg();\n        return function (n, t, r) {\n          var e,\n              i = this,\n              o = (e = s, t = Yf(t), e = function (t) {\n            if (t instanceof Uint8Array) return Op(t, void 0);\n            if (t instanceof ArrayBuffer) return Op(new Uint8Array(t), void 0);\n            if (t instanceof ReadableStream) return t.getReader();\n            throw new Error(\"Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream\");\n          }(\"string\" == typeof e ? new TextEncoder().encode(e) : e), new Pp(e, t));\n          n.fs.ys(function () {\n            return y(i, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = wp, [4, cy(n)];\n\n                  case 1:\n                    return e.apply(void 0, [t.sent(), o, r]), [2];\n                }\n              });\n            });\n          });\n        }(my(t._), t.I_, e), e;\n      }\n\n      var mg = (wg.prototype.setInstantiationMode = function (t) {\n        return this.instantiationMode = t, this;\n      }, wg.prototype.setMultipleInstances = function (t) {\n        return this.multipleInstances = t, this;\n      }, wg.prototype.setServiceProps = function (t) {\n        return this.serviceProps = t, this;\n      }, wg);\n\n      function wg(t, e, n) {\n        this.name = t, this.instanceFactory = e, this.type = n, this.multipleInstances = !1, this.serviceProps = {}, this.instantiationMode = \"LAZY\";\n      }\n\n      var bg,\n          Ig,\n          _g = {\n        Firestore: Av,\n        GeoPoint: ad,\n        Timestamp: yi,\n        Blob: Xr,\n        Transaction: Mv,\n        WriteBatch: Uv,\n        DocumentReference: jv,\n        DocumentSnapshot: $v,\n        Query: tg,\n        QueryDocumentSnapshot: Zv,\n        QuerySnapshot: ng,\n        CollectionReference: rg,\n        FieldPath: Ee,\n        FieldValue: o,\n        setLogLevel: function setLogLevel(t) {\n          Tr.setLogLevel(t);\n        },\n        CACHE_SIZE_UNLIMITED: -1\n      };\n      (bg = e.default).INTERNAL.registerComponent(new mg(\"firestore\", function (t) {\n        var e = t.getProvider(\"app\").getImmediate();\n        return e = e, t = t.getProvider(\"auth-internal\"), new Av(e, new yy(e, t), new Sv());\n      }, \"PUBLIC\").setServiceProps(Object.assign({}, _g))), bg.registerVersion(\"@firebase/firestore\", \"2.1.2\"), (Ig = Av).prototype.loadBundle = function (t) {\n        return gg(this, t);\n      }, Ig.prototype.namedQuery = function (t) {\n        return t = t, function (n, r) {\n          var t = this;\n          return n.fs.enqueue(function () {\n            return y(t, void 0, void 0, function () {\n              var e;\n              return v(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    return e = function e(t, _e5) {\n                      var n = t;\n                      return n.persistence.runTransaction(\"Get named query\", \"readonly\", function (t) {\n                        return n.Eo.$s(t, _e5);\n                      });\n                    }, [4, uy(n)];\n\n                  case 1:\n                    return [2, e.apply(void 0, [t.sent(), r])];\n                }\n              });\n            });\n          });\n        }(my((e = this)._), t).then(function (t) {\n          return t ? new tg(e, new Qp(e._, null, t.query)) : null;\n        });\n        var e;\n      };\n    }).apply(this, arguments);\n  } catch (t) {\n    throw console.error(t), new Error(\"Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.\");\n  }\n});","map":null,"metadata":{},"sourceType":"script"}